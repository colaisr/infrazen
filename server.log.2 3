2025-11-05 01:06:59,043 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,045 INFO sqlalchemy.engine.Engine: [cached since 1.554s ago] {'pk_1': 4429}
2025-11-05 01:06:59,048 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,048 INFO sqlalchemy.engine.Engine: [cached since 1.462s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,052 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,052 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,053 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,053 INFO sqlalchemy.engine.Engine: [cached since 4.662s ago] {'pk_1': 102}
2025-11-05 01:06:59,055 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,055 INFO sqlalchemy.engine.Engine: [cached since 1.335s ago] {'provider_id_1': 102, 'resource_id_1': 'dns0vrri5rndro3isgh3', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,058 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,058 INFO sqlalchemy.engine.Engine: [cached since 0.7431s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 57415), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 58565), 'resources_id': 1042}
2025-11-05 01:06:59,060 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,060 INFO sqlalchemy.engine.Engine: [cached since 1.333s ago] {'sync_snapshot_id': 4429, 'resource_id': 1042, 'provider_resource_id': 'dns0vrri5rndro3isgh3', 'resource_type': 'dns_zone', 'resource_name': 'DNS: moagro.ru.', 'state_action': 'updated', 'previous_state': '{"id": 1042, "provider_id": 102, "resource_id": "dns0vrri5rndro3isgh3", "resource_name": "DNS: moagro.ru.", "region": "b1gkosunk7kknbq1tubv", "extern ... (934 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dns0vrri5rndro3isgh3", "resource_name": "DNS: moagro.ru.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region": "b1gk ... (581 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 60103), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 60106)}
2025-11-05 01:06:59,061 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,064 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,065 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,065 INFO sqlalchemy.engine.Engine: [cached since 0.7446s ago] {'pk_1': 1042}
2025-11-05 01:06:59,067 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,067 INFO sqlalchemy.engine.Engine: [cached since 0.7445s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 67257), 'resources_id': 1042}
2025-11-05 01:06:59,068 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,069 INFO sqlalchemy.engine.Engine: [cached since 0.7479s ago] {'pk_1': 1042}
2025-11-05 01:06:59,071 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,071 INFO sqlalchemy.engine.Engine: [cached since 1.333s ago] {'resource_id_1': 1042, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,073 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,073 INFO sqlalchemy.engine.Engine: [cached since 1.335s ago] {'resource_id_1': 1042, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,075 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,075 INFO sqlalchemy.engine.Engine: [cached since 1.337s ago] {'resource_id_1': 1042, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,077 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,077 INFO sqlalchemy.engine.Engine: [cached since 1.339s ago] {'resource_id_1': 1042, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,079 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,079 INFO sqlalchemy.engine.Engine: [cached since 1.341s ago] {'resource_id_1': 1042, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,081 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,081 INFO sqlalchemy.engine.Engine: [cached since 1.343s ago] {'resource_id_1': 1042, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,083 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,083 INFO sqlalchemy.engine.Engine: [cached since 1.591s ago] {'pk_1': 4429}
2025-11-05 01:06:59,084 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,085 INFO sqlalchemy.engine.Engine: [cached since 1.499s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,088 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,088 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,089 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,089 INFO sqlalchemy.engine.Engine: [cached since 4.697s ago] {'pk_1': 102}
2025-11-05 01:06:59,091 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,091 INFO sqlalchemy.engine.Engine: [cached since 1.371s ago] {'provider_id_1': 102, 'resource_id_1': 'dns1per6v3jipa60gt41', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,093 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,093 INFO sqlalchemy.engine.Engine: [cached since 0.7782s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 92602), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 93580), 'resources_id': 1044}
2025-11-05 01:06:59,095 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,095 INFO sqlalchemy.engine.Engine: [cached since 1.368s ago] {'sync_snapshot_id': 4429, 'resource_id': 1044, 'provider_resource_id': 'dns1per6v3jipa60gt41', 'resource_type': 'dns_zone', 'resource_name': 'DNS: gni.team.', 'state_action': 'updated', 'previous_state': '{"id": 1044, "provider_id": 102, "resource_id": "dns1per6v3jipa60gt41", "resource_name": "DNS: gni.team.", "region": "b1gkosunk7kknbq1tubv", "externa ... (932 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dns1per6v3jipa60gt41", "resource_name": "DNS: gni.team.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region": "b1gko ... (579 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 95234), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 95239)}
2025-11-05 01:06:59,096 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,099 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,099 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,099 INFO sqlalchemy.engine.Engine: [cached since 0.7787s ago] {'pk_1': 1044}
2025-11-05 01:06:59,101 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,101 INFO sqlalchemy.engine.Engine: [cached since 0.7786s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 101273), 'resources_id': 1044}
2025-11-05 01:06:59,102 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,103 INFO sqlalchemy.engine.Engine: [cached since 0.782s ago] {'pk_1': 1044}
2025-11-05 01:06:59,104 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,105 INFO sqlalchemy.engine.Engine: [cached since 1.367s ago] {'resource_id_1': 1044, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,106 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,107 INFO sqlalchemy.engine.Engine: [cached since 1.368s ago] {'resource_id_1': 1044, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,108 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,108 INFO sqlalchemy.engine.Engine: [cached since 1.37s ago] {'resource_id_1': 1044, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,110 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,110 INFO sqlalchemy.engine.Engine: [cached since 1.372s ago] {'resource_id_1': 1044, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,112 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,112 INFO sqlalchemy.engine.Engine: [cached since 1.374s ago] {'resource_id_1': 1044, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,113 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,114 INFO sqlalchemy.engine.Engine: [cached since 1.376s ago] {'resource_id_1': 1044, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,115 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,115 INFO sqlalchemy.engine.Engine: [cached since 1.623s ago] {'pk_1': 4429}
2025-11-05 01:06:59,116 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,117 INFO sqlalchemy.engine.Engine: [cached since 1.531s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,119 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,120 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,120 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,121 INFO sqlalchemy.engine.Engine: [cached since 4.729s ago] {'pk_1': 102}
2025-11-05 01:06:59,122 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,122 INFO sqlalchemy.engine.Engine: [cached since 1.402s ago] {'provider_id_1': 102, 'resource_id_1': 'dnsbp21nu6dq8q5r1r3m', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,124 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,125 INFO sqlalchemy.engine.Engine: [cached since 0.8094s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 123947), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 124912), 'resources_id': 1051}
2025-11-05 01:06:59,126 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,126 INFO sqlalchemy.engine.Engine: [cached since 1.399s ago] {'sync_snapshot_id': 4429, 'resource_id': 1051, 'provider_resource_id': 'dnsbp21nu6dq8q5r1r3m', 'resource_type': 'dns_zone', 'resource_name': 'DNS: i-techlabs.com.', 'state_action': 'updated', 'previous_state': '{"id": 1051, "provider_id": 102, "resource_id": "dnsbp21nu6dq8q5r1r3m", "resource_name": "DNS: i-techlabs.com.", "region": "b1gkosunk7kknbq1tubv", "e ... (960 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dnsbp21nu6dq8q5r1r3m", "resource_name": "DNS: i-techlabs.com.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region":  ... (607 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 126007), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 126010)}
2025-11-05 01:06:59,127 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,129 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,130 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,130 INFO sqlalchemy.engine.Engine: [cached since 0.8089s ago] {'pk_1': 1051}
2025-11-05 01:06:59,131 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,131 INFO sqlalchemy.engine.Engine: [cached since 0.8084s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 131222), 'resources_id': 1051}
2025-11-05 01:06:59,132 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,132 INFO sqlalchemy.engine.Engine: [cached since 0.8112s ago] {'pk_1': 1051}
2025-11-05 01:06:59,133 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,133 INFO sqlalchemy.engine.Engine: [cached since 1.395s ago] {'resource_id_1': 1051, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,135 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,135 INFO sqlalchemy.engine.Engine: [cached since 1.397s ago] {'resource_id_1': 1051, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,136 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,136 INFO sqlalchemy.engine.Engine: [cached since 1.398s ago] {'resource_id_1': 1051, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,137 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,137 INFO sqlalchemy.engine.Engine: [cached since 1.399s ago] {'resource_id_1': 1051, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,138 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,138 INFO sqlalchemy.engine.Engine: [cached since 1.4s ago] {'resource_id_1': 1051, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,140 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,140 INFO sqlalchemy.engine.Engine: [cached since 1.402s ago] {'resource_id_1': 1051, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,141 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,141 INFO sqlalchemy.engine.Engine: [cached since 1.65s ago] {'pk_1': 4429}
2025-11-05 01:06:59,142 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,143 INFO sqlalchemy.engine.Engine: [cached since 1.557s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,146 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,146 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,147 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,147 INFO sqlalchemy.engine.Engine: [cached since 4.755s ago] {'pk_1': 102}
2025-11-05 01:06:59,148 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,148 INFO sqlalchemy.engine.Engine: [cached since 1.428s ago] {'provider_id_1': 102, 'resource_id_1': 'dnsbr6m08k5voesfrndq', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,150 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,150 INFO sqlalchemy.engine.Engine: [cached since 0.8346s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 149605), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 150276), 'resources_id': 1052}
2025-11-05 01:06:59,151 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,151 INFO sqlalchemy.engine.Engine: [cached since 1.424s ago] {'sync_snapshot_id': 4429, 'resource_id': 1052, 'provider_resource_id': 'dnsbr6m08k5voesfrndq', 'resource_type': 'dns_zone', 'resource_name': 'DNS: itl-test.ru.', 'state_action': 'updated', 'previous_state': '{"id": 1052, "provider_id": 102, "resource_id": "dnsbr6m08k5voesfrndq", "resource_name": "DNS: itl-test.ru.", "region": "b1gkosunk7kknbq1tubv", "exte ... (948 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dnsbr6m08k5voesfrndq", "resource_name": "DNS: itl-test.ru.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region": "b1 ... (595 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 151226), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 151228)}
2025-11-05 01:06:59,152 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,154 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,155 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,155 INFO sqlalchemy.engine.Engine: [cached since 0.8343s ago] {'pk_1': 1052}
2025-11-05 01:06:59,156 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,156 INFO sqlalchemy.engine.Engine: [cached since 0.8337s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 156550), 'resources_id': 1052}
2025-11-05 01:06:59,157 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,157 INFO sqlalchemy.engine.Engine: [cached since 0.8365s ago] {'pk_1': 1052}
2025-11-05 01:06:59,158 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,158 INFO sqlalchemy.engine.Engine: [cached since 1.42s ago] {'resource_id_1': 1052, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,160 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,160 INFO sqlalchemy.engine.Engine: [cached since 1.422s ago] {'resource_id_1': 1052, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,161 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,161 INFO sqlalchemy.engine.Engine: [cached since 1.423s ago] {'resource_id_1': 1052, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,162 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,162 INFO sqlalchemy.engine.Engine: [cached since 1.424s ago] {'resource_id_1': 1052, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,163 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,163 INFO sqlalchemy.engine.Engine: [cached since 1.425s ago] {'resource_id_1': 1052, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,164 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,164 INFO sqlalchemy.engine.Engine: [cached since 1.426s ago] {'resource_id_1': 1052, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,165 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,165 INFO sqlalchemy.engine.Engine: [cached since 1.673s ago] {'pk_1': 4429}
2025-11-05 01:06:59,166 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,166 INFO sqlalchemy.engine.Engine: [cached since 1.58s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,169 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,169 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,170 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,170 INFO sqlalchemy.engine.Engine: [cached since 4.778s ago] {'pk_1': 102}
2025-11-05 01:06:59,171 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,171 INFO sqlalchemy.engine.Engine: [cached since 1.451s ago] {'provider_id_1': 102, 'resource_id_1': 'dnscqs3h55qqgjjgnn22', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,172 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,172 INFO sqlalchemy.engine.Engine: [cached since 0.8572s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 172262), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 172804), 'resources_id': 1053}
2025-11-05 01:06:59,173 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,173 INFO sqlalchemy.engine.Engine: [cached since 1.446s ago] {'sync_snapshot_id': 4429, 'resource_id': 1053, 'provider_resource_id': 'dnscqs3h55qqgjjgnn22', 'resource_type': 'dns_zone', 'resource_name': 'DNS: devol.xyz.', 'state_action': 'updated', 'previous_state': '{"id": 1053, "provider_id": 102, "resource_id": "dnscqs3h55qqgjjgnn22", "resource_name": "DNS: devol.xyz.", "region": "b1gkosunk7kknbq1tubv", "extern ... (938 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dnscqs3h55qqgjjgnn22", "resource_name": "DNS: devol.xyz.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region": "b1gk ... (585 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 173799), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 173800)}
2025-11-05 01:06:59,174 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,176 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,176 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,176 INFO sqlalchemy.engine.Engine: [cached since 0.8558s ago] {'pk_1': 1053}
2025-11-05 01:06:59,177 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,177 INFO sqlalchemy.engine.Engine: [cached since 0.8549s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 177799), 'resources_id': 1053}
2025-11-05 01:06:59,178 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,179 INFO sqlalchemy.engine.Engine: [cached since 0.8578s ago] {'pk_1': 1053}
2025-11-05 01:06:59,180 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,180 INFO sqlalchemy.engine.Engine: [cached since 1.441s ago] {'resource_id_1': 1053, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,180 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,181 INFO sqlalchemy.engine.Engine: [cached since 1.442s ago] {'resource_id_1': 1053, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,181 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,181 INFO sqlalchemy.engine.Engine: [cached since 1.443s ago] {'resource_id_1': 1053, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,182 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,182 INFO sqlalchemy.engine.Engine: [cached since 1.444s ago] {'resource_id_1': 1053, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,183 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,183 INFO sqlalchemy.engine.Engine: [cached since 1.445s ago] {'resource_id_1': 1053, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,184 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,184 INFO sqlalchemy.engine.Engine: [cached since 1.446s ago] {'resource_id_1': 1053, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,185 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,185 INFO sqlalchemy.engine.Engine: [cached since 1.693s ago] {'pk_1': 4429}
2025-11-05 01:06:59,186 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,186 INFO sqlalchemy.engine.Engine: [cached since 1.6s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,190 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,190 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,190 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,190 INFO sqlalchemy.engine.Engine: [cached since 4.798s ago] {'pk_1': 102}
2025-11-05 01:06:59,191 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,191 INFO sqlalchemy.engine.Engine: [cached since 1.471s ago] {'provider_id_1': 102, 'resource_id_1': 'dnsdi0igeesgt7joappf', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,192 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,192 INFO sqlalchemy.engine.Engine: [cached since 0.8771s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 192350), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 192777), 'resources_id': 1054}
2025-11-05 01:06:59,193 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,193 INFO sqlalchemy.engine.Engine: [cached since 1.466s ago] {'sync_snapshot_id': 4429, 'resource_id': 1054, 'provider_resource_id': 'dnsdi0igeesgt7joappf', 'resource_type': 'dns_zone', 'resource_name': 'DNS: itlteam.tech.', 'state_action': 'updated', 'previous_state': '{"id": 1054, "provider_id": 102, "resource_id": "dnsdi0igeesgt7joappf", "resource_name": "DNS: itlteam.tech.", "region": "b1gkosunk7kknbq1tubv", "ext ... (946 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dnsdi0igeesgt7joappf", "resource_name": "DNS: itlteam.tech.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region": "b ... (593 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 193514), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 193515)}
2025-11-05 01:06:59,194 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,196 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,196 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,196 INFO sqlalchemy.engine.Engine: [cached since 0.8753s ago] {'pk_1': 1054}
2025-11-05 01:06:59,197 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,197 INFO sqlalchemy.engine.Engine: [cached since 0.8744s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 197288), 'resources_id': 1054}
2025-11-05 01:06:59,198 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,198 INFO sqlalchemy.engine.Engine: [cached since 0.877s ago] {'pk_1': 1054}
2025-11-05 01:06:59,199 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,199 INFO sqlalchemy.engine.Engine: [cached since 1.461s ago] {'resource_id_1': 1054, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,200 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,200 INFO sqlalchemy.engine.Engine: [cached since 1.461s ago] {'resource_id_1': 1054, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,200 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,200 INFO sqlalchemy.engine.Engine: [cached since 1.462s ago] {'resource_id_1': 1054, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,201 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,201 INFO sqlalchemy.engine.Engine: [cached since 1.463s ago] {'resource_id_1': 1054, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,202 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,202 INFO sqlalchemy.engine.Engine: [cached since 1.464s ago] {'resource_id_1': 1054, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,203 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,203 INFO sqlalchemy.engine.Engine: [cached since 1.465s ago] {'resource_id_1': 1054, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,204 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,204 INFO sqlalchemy.engine.Engine: [cached since 1.713s ago] {'pk_1': 4429}
2025-11-05 01:06:59,205 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,205 INFO sqlalchemy.engine.Engine: [cached since 1.619s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,208 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,209 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,209 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,209 INFO sqlalchemy.engine.Engine: [cached since 4.817s ago] {'pk_1': 102}
2025-11-05 01:06:59,210 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,210 INFO sqlalchemy.engine.Engine: [cached since 1.49s ago] {'provider_id_1': 102, 'resource_id_1': 'dnsdl9vkitb0rvmv5qke', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,211 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,211 INFO sqlalchemy.engine.Engine: [cached since 0.8959s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 211150), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 211565), 'resources_id': 1055}
2025-11-05 01:06:59,212 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,212 INFO sqlalchemy.engine.Engine: [cached since 1.485s ago] {'sync_snapshot_id': 4429, 'resource_id': 1055, 'provider_resource_id': 'dnsdl9vkitb0rvmv5qke', 'resource_type': 'dns_zone', 'resource_name': 'DNS: shooting.academy.', 'state_action': 'updated', 'previous_state': '{"id": 1055, "provider_id": 102, "resource_id": "dnsdl9vkitb0rvmv5qke", "resource_name": "DNS: shooting.academy.", "region": "b1gkosunk7kknbq1tubv",  ... (983 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dnsdl9vkitb0rvmv5qke", "resource_name": "DNS: shooting.academy.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region" ... (630 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 212252), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 212254)}
2025-11-05 01:06:59,213 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,214 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,214 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,214 INFO sqlalchemy.engine.Engine: [cached since 0.8935s ago] {'pk_1': 1055}
2025-11-05 01:06:59,215 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,215 INFO sqlalchemy.engine.Engine: [cached since 0.8926s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 215467), 'resources_id': 1055}
2025-11-05 01:06:59,216 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,216 INFO sqlalchemy.engine.Engine: [cached since 0.8953s ago] {'pk_1': 1055}
2025-11-05 01:06:59,217 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,217 INFO sqlalchemy.engine.Engine: [cached since 1.479s ago] {'resource_id_1': 1055, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,218 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,218 INFO sqlalchemy.engine.Engine: [cached since 1.48s ago] {'resource_id_1': 1055, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,219 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,219 INFO sqlalchemy.engine.Engine: [cached since 1.481s ago] {'resource_id_1': 1055, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,220 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,220 INFO sqlalchemy.engine.Engine: [cached since 1.481s ago] {'resource_id_1': 1055, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,220 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,220 INFO sqlalchemy.engine.Engine: [cached since 1.482s ago] {'resource_id_1': 1055, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,221 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,221 INFO sqlalchemy.engine.Engine: [cached since 1.483s ago] {'resource_id_1': 1055, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,222 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,222 INFO sqlalchemy.engine.Engine: [cached since 1.731s ago] {'pk_1': 4429}
2025-11-05 01:06:59,223 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,223 INFO sqlalchemy.engine.Engine: [cached since 1.637s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2in5tir8ghu37ik2al', 'param_1': 1}
2025-11-05 01:06:59,226 ERROR app.providers.yandex.sku_pricing: Error calculating DNS zone cost: 'daily_cost'
2025-11-05 01:06:59,226 WARNING app.providers.yandex.service: DNS SKU not found, using HAR-based pricing: 1.30 ₽/day
2025-11-05 01:06:59,227 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,227 INFO sqlalchemy.engine.Engine: [cached since 4.835s ago] {'pk_1': 102}
2025-11-05 01:06:59,228 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,228 INFO sqlalchemy.engine.Engine: [cached since 1.508s ago] {'provider_id_1': 102, 'resource_id_1': 'dnsei2gp6l0krg7agq5l', 'resource_type_1': 'dns_zone', 'param_1': 1}
2025-11-05 01:06:59,229 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,229 INFO sqlalchemy.engine.Engine: [cached since 0.9138s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 6, 59, 229037), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 229456), 'resources_id': 1056}
2025-11-05 01:06:59,230 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:06:59,230 INFO sqlalchemy.engine.Engine: [cached since 1.503s ago] {'sync_snapshot_id': 4429, 'resource_id': 1056, 'provider_resource_id': 'dnsei2gp6l0krg7agq5l', 'resource_type': 'dns_zone', 'resource_name': 'DNS: itl.team.', 'state_action': 'updated', 'previous_state': '{"id": 1056, "provider_id": 102, "resource_id": "dnsei2gp6l0krg7agq5l", "resource_name": "DNS: itl.team.", "region": "b1gkosunk7kknbq1tubv", "externa ... (932 characters truncated) ...  hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "created_at": "2025-10-28T12:24:33", "updated_at": "2025-11-05T00:57:57"}', 'current_state': '{"resource_id": "dnsei2gp6l0krg7agq5l", "resource_name": "DNS: itl.team.", "resource_type": "dns_zone", "service_name": "Cloud DNS", "region": "b1gko ... (579 characters truncated) ... : false, "cost_source": "har_analysis", "note": "Zone hosting cost only (queries are variable)", "pricing_sku": "dns.zones.v1"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 1.3, "current": 0.0}}', 'service_name': 'Cloud DNS', 'region': 'b1gkosunk7kknbq1tubv', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 230253), 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 230254)}
2025-11-05 01:06:59,231 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:06:59,232 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:06:59,232 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,233 INFO sqlalchemy.engine.Engine: [cached since 0.9119s ago] {'pk_1': 1056}
2025-11-05 01:06:59,233 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:06:59,233 INFO sqlalchemy.engine.Engine: [cached since 0.911s ago] {'status': 'RUNNING', 'effective_cost': 1.3, 'currency': 'RUB', 'daily_cost': 1.3, 'original_cost': 39.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 233832), 'resources_id': 1056}
2025-11-05 01:06:59,234 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,234 INFO sqlalchemy.engine.Engine: [cached since 0.9136s ago] {'pk_1': 1056}
2025-11-05 01:06:59,235 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,235 INFO sqlalchemy.engine.Engine: [cached since 1.497s ago] {'resource_id_1': 1056, 'tag_key_1': 'zone_name', 'param_1': 1}
2025-11-05 01:06:59,236 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,236 INFO sqlalchemy.engine.Engine: [cached since 1.498s ago] {'resource_id_1': 1056, 'tag_key_1': 'visibility_type', 'param_1': 1}
2025-11-05 01:06:59,237 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,237 INFO sqlalchemy.engine.Engine: [cached since 1.499s ago] {'resource_id_1': 1056, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:06:59,238 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,238 INFO sqlalchemy.engine.Engine: [cached since 1.5s ago] {'resource_id_1': 1056, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:06:59,239 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,239 INFO sqlalchemy.engine.Engine: [cached since 1.501s ago] {'resource_id_1': 1056, 'tag_key_1': 'pricing_sku', 'param_1': 1}
2025-11-05 01:06:59,240 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,240 INFO sqlalchemy.engine.Engine: [cached since 1.502s ago] {'resource_id_1': 1056, 'tag_key_1': 'note', 'param_1': 1}
2025-11-05 01:06:59,241 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:06:59,241 INFO sqlalchemy.engine.Engine: [cached since 1.749s ago] {'pk_1': 4429}
2025-11-05 01:06:59,242 INFO sqlalchemy.engine.Engine: UPDATE sync_snapshots SET sync_status=%(sync_status)s, sync_completed_at=%(sync_completed_at)s, sync_duration_seconds=%(sync_duration_seconds)s, total_resources_found=%(total_resources_found)s, resources_created=%(resources_created)s, sync_config=%(sync_config)s, updated_at=%(updated_at)s WHERE sync_snapshots.id = %(sync_snapshots_id)s
2025-11-05 01:06:59,242 INFO sqlalchemy.engine.Engine: [generated in 0.00014s] {'sync_status': 'success', 'sync_completed_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 241811), 'sync_duration_seconds': 4, 'total_resources_found': 36, 'resources_created': 36, 'sync_config': '{"sync_method": "managed_services", "clouds_discovered": 0, "folders_discovered": 1, "total_instances": 11, "total_disks": 0, "total_snapshots": 5, " ... (33 characters truncated) ... _ips": 3, "total_load_balancers": 0, "total_registries": 1, "total_dns_zones": 8, "total_managed_clusters": 4, "total_estimated_daily_cost": 3935.05}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 242583), 'sync_snapshots_id': 4429}
2025-11-05 01:06:59,243 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:06:59,243 INFO sqlalchemy.engine.Engine: [cached since 4.851s ago] {'pk_1': 102}
2025-11-05 01:06:59,244 INFO app.providers.yandex.service: PHASE 3: Performance statistics ENABLED
2025-11-05 01:06:59,245 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,245 INFO sqlalchemy.engine.Engine: [generated in 0.00011s] {'pk_1': 1018}
2025-11-05 01:06:59,246 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,246 INFO sqlalchemy.engine.Engine: [cached since 0.001489s ago] {'pk_1': 1019}
2025-11-05 01:06:59,247 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,247 INFO sqlalchemy.engine.Engine: [cached since 0.002514s ago] {'pk_1': 1020}
2025-11-05 01:06:59,248 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,248 INFO sqlalchemy.engine.Engine: [cached since 0.003531s ago] {'pk_1': 1021}
2025-11-05 01:06:59,249 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,249 INFO sqlalchemy.engine.Engine: [cached since 0.004544s ago] {'pk_1': 997}
2025-11-05 01:06:59,250 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,250 INFO sqlalchemy.engine.Engine: [cached since 0.005569s ago] {'pk_1': 998}
2025-11-05 01:06:59,251 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,251 INFO sqlalchemy.engine.Engine: [cached since 0.006551s ago] {'pk_1': 999}
2025-11-05 01:06:59,252 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,252 INFO sqlalchemy.engine.Engine: [cached since 0.007576s ago] {'pk_1': 1001}
2025-11-05 01:06:59,253 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,253 INFO sqlalchemy.engine.Engine: [cached since 0.008656s ago] {'pk_1': 1002}
2025-11-05 01:06:59,254 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,254 INFO sqlalchemy.engine.Engine: [cached since 0.009577s ago] {'pk_1': 1003}
2025-11-05 01:06:59,255 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,255 INFO sqlalchemy.engine.Engine: [cached since 0.01058s ago] {'pk_1': 1004}
2025-11-05 01:06:59,256 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,256 INFO sqlalchemy.engine.Engine: [cached since 0.01156s ago] {'pk_1': 1005}
2025-11-05 01:06:59,257 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,257 INFO sqlalchemy.engine.Engine: [cached since 0.01261s ago] {'pk_1': 1009}
2025-11-05 01:06:59,258 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,258 INFO sqlalchemy.engine.Engine: [cached since 0.01361s ago] {'pk_1': 1010}
2025-11-05 01:06:59,259 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,259 INFO sqlalchemy.engine.Engine: [cached since 0.01462s ago] {'pk_1': 1012}
2025-11-05 01:06:59,260 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,260 INFO sqlalchemy.engine.Engine: [cached since 0.01565s ago] {'pk_1': 1075}
2025-11-05 01:06:59,261 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,261 INFO sqlalchemy.engine.Engine: [cached since 0.01676s ago] {'pk_1': 1023}
2025-11-05 01:06:59,262 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,262 INFO sqlalchemy.engine.Engine: [cached since 0.01776s ago] {'pk_1': 1074}
2025-11-05 01:06:59,263 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,263 INFO sqlalchemy.engine.Engine: [cached since 0.01876s ago] {'pk_1': 1028}
2025-11-05 01:06:59,264 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,264 INFO sqlalchemy.engine.Engine: [cached since 0.01976s ago] {'pk_1': 1064}
2025-11-05 01:06:59,265 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,265 INFO sqlalchemy.engine.Engine: [cached since 0.02066s ago] {'pk_1': 1032}
2025-11-05 01:06:59,266 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,266 INFO sqlalchemy.engine.Engine: [cached since 0.02155s ago] {'pk_1': 1033}
2025-11-05 01:06:59,267 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,267 INFO sqlalchemy.engine.Engine: [cached since 0.02243s ago] {'pk_1': 1034}
2025-11-05 01:06:59,268 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,268 INFO sqlalchemy.engine.Engine: [cached since 0.02331s ago] {'pk_1': 1035}
2025-11-05 01:06:59,269 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,269 INFO sqlalchemy.engine.Engine: [cached since 0.02423s ago] {'pk_1': 1036}
2025-11-05 01:06:59,270 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,270 INFO sqlalchemy.engine.Engine: [cached since 0.02519s ago] {'pk_1': 1037}
2025-11-05 01:06:59,271 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,271 INFO sqlalchemy.engine.Engine: [cached since 0.0261s ago] {'pk_1': 1038}
2025-11-05 01:06:59,272 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,272 INFO sqlalchemy.engine.Engine: [cached since 0.02699s ago] {'pk_1': 1041}
2025-11-05 01:06:59,272 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,273 INFO sqlalchemy.engine.Engine: [cached since 0.02788s ago] {'pk_1': 1042}
2025-11-05 01:06:59,273 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,273 INFO sqlalchemy.engine.Engine: [cached since 0.02877s ago] {'pk_1': 1044}
2025-11-05 01:06:59,274 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,274 INFO sqlalchemy.engine.Engine: [cached since 0.02973s ago] {'pk_1': 1051}
2025-11-05 01:06:59,275 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,275 INFO sqlalchemy.engine.Engine: [cached since 0.03073s ago] {'pk_1': 1052}
2025-11-05 01:06:59,276 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,276 INFO sqlalchemy.engine.Engine: [cached since 0.03177s ago] {'pk_1': 1053}
2025-11-05 01:06:59,278 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,278 INFO sqlalchemy.engine.Engine: [cached since 0.03305s ago] {'pk_1': 1054}
2025-11-05 01:06:59,279 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:06:59,279 INFO sqlalchemy.engine.Engine: [cached since 0.0342s ago] {'pk_1': 1055}
2025-11-05 01:06:59,280 INFO app.providers.yandex.service: Collecting CPU statistics for 11 standalone VMs...
2025-11-05 01:06:59,696 INFO app.providers.yandex.client: ✅ CPU statistics for epd3fpgd132f9861ol32: avg=0.63%, max=1.37%, 719 points
2025-11-05 01:06:59,700 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,700 INFO sqlalchemy.engine.Engine: [cached since 1.962s ago] {'resource_id_1': 997, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:06:59,704 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,704 INFO sqlalchemy.engine.Engine: [cached since 1.966s ago] {'resource_id_1': 997, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:06:59,707 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,707 INFO sqlalchemy.engine.Engine: [cached since 1.969s ago] {'resource_id_1': 997, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:06:59,710 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:06:59,711 INFO sqlalchemy.engine.Engine: [generated in 0.00055s] {'tag_value': '0.5', 'updated_at': datetime.datetime(2025, 11, 5, 1, 6, 59, 710708), 'resource_tags_id': 3013}
2025-11-05 01:06:59,713 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,713 INFO sqlalchemy.engine.Engine: [cached since 1.975s ago] {'resource_id_1': 997, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:06:59,715 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:06:59,716 INFO sqlalchemy.engine.Engine: [cached since 1.977s ago] {'resource_id_1': 997, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:06:59,717 INFO app.providers.yandex.service:    ✅ voluxprod: CPU avg=0.63%
2025-11-05 01:07:00,111 WARNING app.providers.yandex.client: No CPU metrics available for instance epd3j8cejsojkbtbqp0p
2025-11-05 01:07:00,113 WARNING app.providers.yandex.service:    ⚠️  volux: No CPU data available
2025-11-05 01:07:00,601 INFO app.providers.yandex.client: ✅ CPU statistics for epd4eioiv8oqqsp6a7n7: avg=0.27%, max=0.75%, 719 points
2025-11-05 01:07:00,603 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:00,603 INFO sqlalchemy.engine.Engine: [cached since 0.8929s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (344 characters truncated) ... 0.63, 0.65, 0.64, 0.65, 0.64, 0.65, 0.64, 0.63, 0.66, 0.64, 0.66, 0.66, 0.72, 0.69, 0.66, 0.65, 0.64, 0.61, 0.58, 0.56, 0.58, 0.56, 0.58, 0.56, 0.5]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 0, 603287), 'resource_tags_id': 3015}
2025-11-05 01:07:00,604 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:00,604 INFO sqlalchemy.engine.Engine: [cached since 2.866s ago] {'resource_id_1': 999, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:00,606 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:00,606 INFO sqlalchemy.engine.Engine: [cached since 2.868s ago] {'resource_id_1': 999, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:00,607 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:00,607 INFO sqlalchemy.engine.Engine: [cached since 2.869s ago] {'resource_id_1': 999, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:00,608 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:00,608 INFO sqlalchemy.engine.Engine: [cached since 2.87s ago] {'resource_id_1': 999, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:00,609 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:00,610 INFO sqlalchemy.engine.Engine: [cached since 2.872s ago] {'resource_id_1': 999, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:00,611 INFO app.providers.yandex.service:    ✅ office: CPU avg=0.27%
2025-11-05 01:07:01,080 INFO app.providers.yandex.client: ✅ CPU statistics for epdbv1dd3d6jv2ahtn88: avg=7.00%, max=14.12%, 719 points
2025-11-05 01:07:01,084 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:01,085 INFO sqlalchemy.engine.Engine: [cached since 1.374s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (345 characters truncated) ... .26, 0.27, 0.26, 0.28, 0.26, 0.27, 0.27, 0.28, 0.28, 0.27, 0.29, 0.27, 0.27, 0.26, 0.27, 0.27, 0.26, 0.28, 0.27, 0.28, 0.27, 0.27, 0.27, 0.28, 0.13]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 1, 84546), 'resource_tags_id': 3020}
2025-11-05 01:07:01,087 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,087 INFO sqlalchemy.engine.Engine: [cached since 3.349s ago] {'resource_id_1': 1001, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:01,089 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:01,090 INFO sqlalchemy.engine.Engine: [cached since 1.379s ago] {'tag_value': '7.0', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 1, 89777), 'resource_tags_id': 3026}
2025-11-05 01:07:01,091 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,091 INFO sqlalchemy.engine.Engine: [cached since 3.353s ago] {'resource_id_1': 1001, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:01,093 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,093 INFO sqlalchemy.engine.Engine: [cached since 3.355s ago] {'resource_id_1': 1001, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:01,096 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,096 INFO sqlalchemy.engine.Engine: [cached since 3.358s ago] {'resource_id_1': 1001, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:01,098 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,098 INFO sqlalchemy.engine.Engine: [cached since 3.36s ago] {'resource_id_1': 1001, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:01,099 INFO app.providers.yandex.service:    ✅ gitlab: CPU avg=7.0%
2025-11-05 01:07:01,356 INFO app.providers.yandex.client: ✅ CPU statistics for epdfl7h2qhog2naflqd2: avg=2.53%, max=2.99%, 719 points
2025-11-05 01:07:01,359 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:01,360 INFO sqlalchemy.engine.Engine: [cached since 1.649s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (343 characters truncated) ...  7.45, 7.88, 8.01, 7.66, 8.5, 7.53, 6.57, 6.61, 7.53, 7.33, 6.95, 6.47, 6.21, 5.88, 5.8, 6.04, 6.33, 6.14, 6.23, 6.43, 6.58, 5.94, 5.83, 5.86, 6.99]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 1, 359655), 'resource_tags_id': 3030}
2025-11-05 01:07:01,361 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,362 INFO sqlalchemy.engine.Engine: [cached since 3.623s ago] {'resource_id_1': 1002, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:01,364 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,364 INFO sqlalchemy.engine.Engine: [cached since 3.626s ago] {'resource_id_1': 1002, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:01,366 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,366 INFO sqlalchemy.engine.Engine: [cached since 3.628s ago] {'resource_id_1': 1002, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:01,368 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,368 INFO sqlalchemy.engine.Engine: [cached since 3.63s ago] {'resource_id_1': 1002, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:01,369 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:01,370 INFO sqlalchemy.engine.Engine: [cached since 3.631s ago] {'resource_id_1': 1002, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:01,371 INFO app.providers.yandex.service:    ✅ sphinx: CPU avg=2.53%
2025-11-05 01:07:01,803 WARNING app.providers.yandex.client: No CPU metrics available for instance epdgngr8lht816tvjrm3
2025-11-05 01:07:01,806 WARNING app.providers.yandex.service:    ⚠️  r7: No CPU data available
2025-11-05 01:07:02,302 INFO app.providers.yandex.client: ✅ CPU statistics for epdico47n8b1knml7deb: avg=0.45%, max=2.49%, 719 points
2025-11-05 01:07:02,304 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:02,304 INFO sqlalchemy.engine.Engine: [cached since 2.594s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (343 characters truncated) ... 2.57, 2.58, 2.52, 2.54, 2.53, 2.54, 2.48, 2.48, 2.45, 2.48, 2.47, 2.48, 2.56, 2.44, 2.47, 2.6, 2.56, 2.58, 2.61, 2.62, 2.54, 2.51, 2.54, 2.53, 2.83]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 2, 304683), 'resource_tags_id': 3035}
2025-11-05 01:07:02,305 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,306 INFO sqlalchemy.engine.Engine: [cached since 4.567s ago] {'resource_id_1': 1004, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:02,307 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,307 INFO sqlalchemy.engine.Engine: [cached since 4.569s ago] {'resource_id_1': 1004, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:02,308 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,308 INFO sqlalchemy.engine.Engine: [cached since 4.57s ago] {'resource_id_1': 1004, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:02,310 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,310 INFO sqlalchemy.engine.Engine: [cached since 4.572s ago] {'resource_id_1': 1004, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:02,311 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,311 INFO sqlalchemy.engine.Engine: [cached since 4.573s ago] {'resource_id_1': 1004, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:02,312 INFO app.providers.yandex.service:    ✅ gateway: CPU avg=0.45%
2025-11-05 01:07:02,751 INFO app.providers.yandex.client: ✅ CPU statistics for epdm6n7nmqdcfr6l2h3j: avg=8.41%, max=24.16%, 719 points
2025-11-05 01:07:02,755 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:02,755 INFO sqlalchemy.engine.Engine: [cached since 3.045s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (341 characters truncated) ... , 0.51, 0.55, 0.65, 0.39, 0.46, 0.46, 0.45, 0.48, 0.7, 0.49, 0.44, 0.35, 0.35, 0.34, 0.34, 0.37, 0.45, 0.45, 0.31, 0.36, 0.38, 0.4, 0.33, 0.32, 0.3]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 2, 755590), 'resource_tags_id': 3040}
2025-11-05 01:07:02,757 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,757 INFO sqlalchemy.engine.Engine: [cached since 5.019s ago] {'resource_id_1': 1005, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:02,759 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,759 INFO sqlalchemy.engine.Engine: [cached since 5.021s ago] {'resource_id_1': 1005, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:02,761 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,761 INFO sqlalchemy.engine.Engine: [cached since 5.023s ago] {'resource_id_1': 1005, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:02,763 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,763 INFO sqlalchemy.engine.Engine: [cached since 5.025s ago] {'resource_id_1': 1005, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:02,764 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,764 INFO sqlalchemy.engine.Engine: [cached since 5.026s ago] {'resource_id_1': 1005, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:02,765 INFO app.providers.yandex.service:    ✅ database: CPU avg=8.41%
2025-11-05 01:07:02,847 INFO app.providers.yandex.client: ✅ CPU statistics for epdrpo30qthvvdoi88id: avg=0.49%, max=8.32%, 661 points
2025-11-05 01:07:02,850 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:02,850 INFO sqlalchemy.engine.Engine: [cached since 3.14s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (341 characters truncated) ... 4, 8.03, 8.68, 8.6, 8.6, 8.88, 8.9, 8.4, 8.73, 9.34, 8.42, 8.36, 8.03, 8.67, 8.09, 8.04, 7.31, 7.36, 7.39, 7.38, 7.72, 7.75, 7.84, 7.69, 8.19, 5.76]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 2, 850301), 'resource_tags_id': 3045}
2025-11-05 01:07:02,852 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,852 INFO sqlalchemy.engine.Engine: [cached since 5.114s ago] {'resource_id_1': 1009, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:02,856 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,856 INFO sqlalchemy.engine.Engine: [cached since 5.118s ago] {'resource_id_1': 1009, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:02,859 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,859 INFO sqlalchemy.engine.Engine: [cached since 5.121s ago] {'resource_id_1': 1009, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:02,862 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,862 INFO sqlalchemy.engine.Engine: [cached since 5.124s ago] {'resource_id_1': 1009, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:02,864 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:02,864 INFO sqlalchemy.engine.Engine: [cached since 5.126s ago] {'resource_id_1': 1009, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:02,866 INFO app.providers.yandex.service:    ✅ bookstack: CPU avg=0.49%
2025-11-05 01:07:03,357 INFO app.providers.yandex.client: ✅ CPU statistics for epdthnrqjkb3s3q5osqn: avg=0.23%, max=0.70%, 719 points
2025-11-05 01:07:03,360 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:03,360 INFO sqlalchemy.engine.Engine: [cached since 3.65s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (303 characters truncated) ...  0.74, 0.73, 0.73, 0.76, 0.73, 0.45, 0.43, 0.44, 0.42, 0.4, 0.43, 0.47, 0.45, 0.44, 0.41, 0.78, 0.26, 0.28, 0.25, 0.24, 0.27, 0.24, 0.24, 0.3, 0.21]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 360556), 'resource_tags_id': 3065}
2025-11-05 01:07:03,362 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:03,363 INFO sqlalchemy.engine.Engine: [cached since 5.624s ago] {'resource_id_1': 1010, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:03,364 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:03,365 INFO sqlalchemy.engine.Engine: [cached since 5.626s ago] {'resource_id_1': 1010, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:03,366 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:03,366 INFO sqlalchemy.engine.Engine: [cached since 5.628s ago] {'resource_id_1': 1010, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:03,367 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:03,367 INFO sqlalchemy.engine.Engine: [cached since 5.629s ago] {'resource_id_1': 1010, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:03,369 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:03,369 INFO sqlalchemy.engine.Engine: [cached since 5.631s ago] {'resource_id_1': 1010, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:03,370 INFO app.providers.yandex.service:    ✅ chartsstorage: CPU avg=0.23%
2025-11-05 01:07:03,423 WARNING app.providers.yandex.client: No CPU metrics available for instance fv4hlo833lgm0oomhsi4
2025-11-05 01:07:03,425 WARNING app.providers.yandex.service:    ⚠️  duktusdemo: No CPU data available
2025-11-05 01:07:03,426 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:03,426 INFO sqlalchemy.engine.Engine: [cached since 3.716s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (345 characters truncated) ... .22, 0.22, 0.22, 0.22, 0.22, 0.23, 0.23, 0.23, 0.23, 0.23, 0.24, 0.25, 0.24, 0.23, 0.23, 0.24, 0.24, 0.24, 0.23, 0.23, 0.23, 0.23, 0.23, 0.23, 0.24]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 426659), 'resource_tags_id': 3070}
2025-11-05 01:07:03,428 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:03,430 INFO app.providers.yandex.service: Performance statistics collection completed
2025-11-05 01:07:03,431 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:03,431 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:03,431 INFO sqlalchemy.engine.Engine: [cached since 9.04s ago] {'pk_1': 102}
2025-11-05 01:07:03,535 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:03,535 INFO sqlalchemy.engine.Engine: [cached since 4.291s ago] {'pk_1': 1018}
2025-11-05 01:07:03,595 INFO sqlalchemy.engine.Engine: UPDATE cloud_providers SET last_sync=%(last_sync)s, provider_metadata=%(provider_metadata)s, updated_at=%(updated_at)s WHERE cloud_providers.id = %(cloud_providers_id)s
2025-11-05 01:07:03,595 INFO sqlalchemy.engine.Engine: [generated in 0.00039s] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 3, 594190), 'provider_metadata': '{"last_connection_test": "2025-11-05T01:06:54.605634", "connection_status": "success", "account_info": {"organization": {"name": "I-Techlabs", "legal ... (197 characters truncated) ... c", "status": "ACTIVE"}, "service_account": {"name": "infrazen", "id": "ajem3a0uhhooq9u4pvkd"}}, "last_account_update": "2025-11-05T01:07:03.594112"}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 595515), 'cloud_providers_id': 102}
2025-11-05 01:07:03,596 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:03,598 INFO app.providers.yandex.service: Sync completed: 36 resources (4 clusters, 11 VMs, 0 disks, 5 snapshots, 4 images, 3 reserved IPs, 0 load balancers, 1 registries, 8 DNS zones), estimated 3935.05 ₽/day
2025-11-05 01:07:03,598 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:03,599 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:03,599 INFO sqlalchemy.engine.Engine: [cached since 6.107s ago] {'pk_1': 4429}
2025-11-05 01:07:03,603 INFO app.providers.plugin_system.YandexProviderPlugin: Yandex Cloud sync completed: 36 resources, 3935.05 RUB/day
2025-11-05 01:07:03,605 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:03,605 INFO sqlalchemy.engine.Engine: [generated in 0.00021s] {'pk_1': 4428}
2025-11-05 01:07:03,606 INFO sqlalchemy.engine.Engine: UPDATE sync_snapshots SET sync_status=%(sync_status)s, sync_completed_at=%(sync_completed_at)s, updated_at=%(updated_at)s WHERE sync_snapshots.id = %(sync_snapshots_id)s
2025-11-05 01:07:03,606 INFO sqlalchemy.engine.Engine: [generated in 0.00022s] {'sync_status': 'success', 'sync_completed_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 603737), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 606643), 'sync_snapshots_id': 4428}
2025-11-05 01:07:03,607 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:03,607 INFO sqlalchemy.engine.Engine: [cached since 0.00282s ago] {'pk_1': 4428}
2025-11-05 01:07:03,609 INFO sqlalchemy.engine.Engine: UPDATE sync_snapshots SET sync_duration_seconds=%(sync_duration_seconds)s, total_resources_found=%(total_resources_found)s, total_monthly_cost=%(total_monthly_cost)s, sync_config=%(sync_config)s, updated_at=%(updated_at)s WHERE sync_snapshots.id = %(sync_snapshots_id)s
2025-11-05 01:07:03,609 INFO sqlalchemy.engine.Engine: [generated in 0.00025s] {'sync_duration_seconds': 9, 'total_resources_found': 36, 'total_monthly_cost': 3935.05, 'sync_config': '{"sync_type": "complete_sync", "provider_type": "yandex", "connection_name": "ITL.Team", "sync_timestamp": "2025-11-05T01:06:54.393282", "sync_succes ... (636 characters truncated) ... y"}, "sync_snapshot_id": 4429, "total_instances": 11, "total_disks": 0, "cpu_stats_collected": true, "sync_timestamp": "2025-11-05T01:07:03.603461"}}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 609454), 'sync_snapshots_id': 4428}
2025-11-05 01:07:03,610 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:03,611 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:03,612 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:03,612 INFO sqlalchemy.engine.Engine: [cached since 6.12s ago] {'pk_1': 4428}
2025-11-05 01:07:03,614 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:03,614 INFO sqlalchemy.engine.Engine: [generated in 0.00030s] {'pk_1': 102}
2025-11-05 01:07:03,616 INFO sqlalchemy.engine.Engine: UPDATE cloud_providers SET last_sync=%(last_sync)s, sync_status=%(sync_status)s, sync_error=%(sync_error)s, updated_at=%(updated_at)s WHERE cloud_providers.id = %(cloud_providers_id)s
2025-11-05 01:07:03,616 INFO sqlalchemy.engine.Engine: [generated in 0.00023s] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 3, 613312), 'sync_status': 'success', 'sync_error': None, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 616455), 'cloud_providers_id': 102}
2025-11-05 01:07:03,617 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:03,618 INFO app.providers.sync_orchestrator.SyncOrchestrator: Sync completed for provider 102: Successfully synced 36 resources (4 clusters, 11 VMs, 0 disks, 5 snapshots, 4 images, 3 reserved IPs, 0 load balancers, 1 registries, 8 DNS zones) - estimated cost: 3935.05 ₽/day
2025-11-05 01:07:03,618 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:03,619 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:03,619 INFO sqlalchemy.engine.Engine: [cached since 9.227s ago] {'pk_1': 102}
2025-11-05 01:07:03,620 INFO app.core.services.complete_sync_service.CompleteSyncService: Provider ITL.Team synced successfully: 36 resources, 3935.05 RUB
2025-11-05 01:07:03,622 INFO sqlalchemy.engine.Engine: INSERT INTO provider_sync_references (complete_sync_id, provider_id, sync_snapshot_id, sync_order, sync_status, sync_duration_seconds, resources_synced, provider_cost, error_message, error_details, created_at, updated_at) VALUES (%(complete_sync_id)s, %(provider_id)s, %(sync_snapshot_id)s, %(sync_order)s, %(sync_status)s, %(sync_duration_seconds)s, %(resources_synced)s, %(provider_cost)s, %(error_message)s, %(error_details)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:03,622 INFO sqlalchemy.engine.Engine: [generated in 0.00032s] {'complete_sync_id': 1098, 'provider_id': 102, 'sync_snapshot_id': 4428, 'sync_order': 1, 'sync_status': 'success', 'sync_duration_seconds': 0, 'resources_synced': 36, 'provider_cost': 3935.05, 'error_message': None, 'error_details': None, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 622440), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 622444)}
2025-11-05 01:07:03,624 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:03,624 INFO sqlalchemy.engine.Engine: [cached since 9.232s ago] {'pk_1': 103}
2025-11-05 01:07:03,626 INFO app.core.services.complete_sync_service.CompleteSyncService: Syncing provider 103 (Punch) - 2/2
2025-11-05 01:07:03,626 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.id = %(pk_1)s
2025-11-05 01:07:03,627 INFO sqlalchemy.engine.Engine: [cached since 9.237s ago] {'pk_1': 1098}
2025-11-05 01:07:03,629 INFO app.providers.sync_orchestrator.SyncOrchestrator: Starting complete_sync sync for provider 103 (yandex)
2025-11-05 01:07:03,630 INFO sqlalchemy.engine.Engine: INSERT INTO sync_snapshots (provider_id, sync_type, sync_status, sync_started_at, sync_completed_at, sync_duration_seconds, total_resources_found, resources_created, resources_updated, resources_deleted, resources_unchanged, total_monthly_cost, total_resources_by_type, total_resources_by_status, error_message, error_details, sync_config, created_at, updated_at) VALUES (%(provider_id)s, %(sync_type)s, %(sync_status)s, %(sync_started_at)s, %(sync_completed_at)s, %(sync_duration_seconds)s, %(total_resources_found)s, %(resources_created)s, %(resources_updated)s, %(resources_deleted)s, %(resources_unchanged)s, %(total_monthly_cost)s, %(total_resources_by_type)s, %(total_resources_by_status)s, %(error_message)s, %(error_details)s, %(sync_config)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:03,630 INFO sqlalchemy.engine.Engine: [cached since 9.237s ago] {'provider_id': 103, 'sync_type': 'complete_sync', 'sync_status': 'running', 'sync_started_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 629638), 'sync_completed_at': None, 'sync_duration_seconds': None, 'total_resources_found': 0, 'resources_created': 0, 'resources_updated': 0, 'resources_deleted': 0, 'resources_unchanged': 0, 'total_monthly_cost': 0.0, 'total_resources_by_type': None, 'total_resources_by_status': None, 'error_message': None, 'error_details': None, 'sync_config': '{"sync_type": "complete_sync", "provider_type": "yandex", "connection_name": "Punch", "sync_timestamp": "2025-11-05T01:07:03.629693"}', 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 630545), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 630549)}
2025-11-05 01:07:03,632 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:03,634 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:03,634 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:03,634 INFO sqlalchemy.engine.Engine: [cached since 9.243s ago] {'pk_1': 103}
2025-11-05 01:07:03,636 INFO app.providers.sync_orchestrator.SyncOrchestrator: Testing connection for provider 103
2025-11-05 01:07:03,754 INFO app.providers.yandex.client: ✅ IAM token generated successfully using service account
2025-11-05 01:07:03,820 INFO app.providers.yandex.client: Found 0 clouds
2025-11-05 01:07:03,821 INFO app.providers.sync_orchestrator.SyncOrchestrator: Performing resource sync for provider 103
2025-11-05 01:07:03,821 INFO app.providers.plugin_system.YandexProviderPlugin: Starting Yandex Cloud resource sync for provider 103
2025-11-05 01:07:03,822 INFO sqlalchemy.engine.Engine: UPDATE cloud_providers SET provider_metadata=%(provider_metadata)s, updated_at=%(updated_at)s WHERE cloud_providers.id = %(cloud_providers_id)s
2025-11-05 01:07:03,822 INFO sqlalchemy.engine.Engine: [cached since 9.216s ago] {'provider_metadata': '{"last_connection_test": "2025-11-05T01:07:03.821671", "connection_status": "success", "account_info": {}}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 822623), 'cloud_providers_id': 103}
2025-11-05 01:07:03,824 INFO sqlalchemy.engine.Engine: INSERT INTO sync_snapshots (provider_id, sync_type, sync_status, sync_started_at, sync_completed_at, sync_duration_seconds, total_resources_found, resources_created, resources_updated, resources_deleted, resources_unchanged, total_monthly_cost, total_resources_by_type, total_resources_by_status, error_message, error_details, sync_config, created_at, updated_at) VALUES (%(provider_id)s, %(sync_type)s, %(sync_status)s, %(sync_started_at)s, %(sync_completed_at)s, %(sync_duration_seconds)s, %(total_resources_found)s, %(resources_created)s, %(resources_updated)s, %(resources_deleted)s, %(resources_unchanged)s, %(total_monthly_cost)s, %(total_resources_by_type)s, %(total_resources_by_status)s, %(error_message)s, %(error_details)s, %(sync_config)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:03,824 INFO sqlalchemy.engine.Engine: [cached since 9.43s ago] {'provider_id': 103, 'sync_type': 'managed_services', 'sync_status': 'running', 'sync_started_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 822152), 'sync_completed_at': None, 'sync_duration_seconds': None, 'total_resources_found': 0, 'resources_created': 0, 'resources_updated': 0, 'resources_deleted': 0, 'resources_unchanged': 0, 'total_monthly_cost': 0.0, 'total_resources_by_type': None, 'total_resources_by_status': None, 'error_message': None, 'error_details': None, 'sync_config': None, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 824064), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 3, 824066)}
2025-11-05 01:07:03,825 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:03,826 INFO app.providers.yandex.service: PHASE 1: Discovering clouds and folders
2025-11-05 01:07:03,933 INFO app.providers.yandex.client: ✅ IAM token generated successfully using service account
2025-11-05 01:07:04,015 INFO app.providers.yandex.client: Found 0 clouds
2025-11-05 01:07:04,016 WARNING app.providers.yandex.client: No clouds accessible - attempting to discover folders via service account
2025-11-05 01:07:04,083 INFO app.providers.yandex.client: Service account belongs to folder: b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,086 INFO app.providers.yandex.client: Service account belongs to folder: b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,143 INFO app.providers.yandex.client: Discovered cloud ID: b1goskl8180ifslar8gc
2025-11-05 01:07:04,212 INFO app.providers.yandex.client: Found 1 folders in cloud b1goskl8180ifslar8gc
2025-11-05 01:07:04,214 INFO app.providers.yandex.client: Found 1 total folder(s) in cloud b1goskl8180ifslar8gc
2025-11-05 01:07:04,214 INFO app.providers.yandex.client: Processing folder: punch (b1g5r9q2hdivst0lck0a)
2025-11-05 01:07:04,383 INFO app.providers.yandex.client: Found 6 instances in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,489 INFO app.providers.yandex.client: Found 6 disks in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,586 INFO app.providers.yandex.client: Found 1 networks in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,725 INFO app.providers.yandex.client: Found 3 subnets in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,727 INFO app.providers.yandex.client: Discovered 6 instances, 6 disks, 1 networks across 1 folders
2025-11-05 01:07:04,727 INFO app.providers.yandex.service: PHASE 2: Processing 1 folders
2025-11-05 01:07:04,728 INFO app.providers.yandex.service: Processing folder: punch (b1g5r9q2hdivst0lck0a)
2025-11-05 01:07:04,728 INFO app.providers.yandex.service:   Querying managed services...
2025-11-05 01:07:04,803 INFO app.providers.yandex.client: Found 0 Kubernetes clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,910 INFO app.providers.yandex.client: Found 0 PostgreSQL clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:04,994 INFO app.providers.yandex.client: Found 0 MySQL clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,092 INFO app.providers.yandex.client: Found 0 Kafka clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,167 INFO app.providers.yandex.client: Found 0 MongoDB clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,256 INFO app.providers.yandex.client: Found 0 ClickHouse clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,367 INFO app.providers.yandex.client: Found 0 Redis clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,370 INFO app.providers.yandex.client: Found 0 managed service clusters in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,466 INFO app.providers.yandex.client: Found 6 disks in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,627 INFO app.providers.yandex.client: Found 6 instances in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,718 INFO app.providers.yandex.client: Found 0 network load balancers in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:05,722 INFO app.providers.yandex.service:   Found 6 disks, 6 instances, and 0 load balancers in folder
2025-11-05 01:07:05,722 INFO app.providers.yandex.service:   Processing compute resources (filtering managed service nodes)...
2025-11-05 01:07:05,723 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,724 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:05,724 INFO sqlalchemy.engine.Engine: [cached since 8.232s ago] {'pk_1': 4431}
2025-11-05 01:07:05,726 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,727 INFO sqlalchemy.engine.Engine: [cached since 8.141s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,734 INFO app.providers.yandex.service:   STOPPED VM: disk only = 0.00 ₽/day (storage: 0 GB)
2025-11-05 01:07:05,734 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,735 INFO sqlalchemy.engine.Engine: [cached since 8.149s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,740 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:05,741 INFO sqlalchemy.engine.Engine: [cached since 11.35s ago] {'pk_1': 103}
2025-11-05 01:07:05,742 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,743 INFO sqlalchemy.engine.Engine: [cached since 8.023s ago] {'provider_id_1': 103, 'resource_id_1': 'epdu8iojmpa0o607185q', 'resource_type_1': 'server', 'param_1': 1}
2025-11-05 01:07:05,746 INFO sqlalchemy.engine.Engine: UPDATE resources SET last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,747 INFO sqlalchemy.engine.Engine: [cached since 8.022s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 5, 745281), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 746744), 'resources_id': 1065}
2025-11-05 01:07:05,748 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:05,748 INFO sqlalchemy.engine.Engine: [cached since 8.021s ago] {'sync_snapshot_id': 4431, 'resource_id': 1065, 'provider_resource_id': 'epdu8iojmpa0o607185q', 'resource_type': 'server', 'resource_name': 'punch-dev-monitoring-1', 'state_action': 'updated', 'previous_state': '{"id": 1065, "provider_id": 103, "resource_id": "epdu8iojmpa0o607185q", "resource_name": "punch-dev-monitoring-1", "region": "ru-central1-b", "extern ... (2137 characters truncated) ... 23-08-28T09:09:51Z", "platform_id": "standard-v3", "estimated_cost": true}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:04"}', 'current_state': '{"resource_id": "epdu8iojmpa0o607185q", "resource_name": "punch-dev-monitoring-1", "resource_type": "server", "service_name": "Compute Cloud", "regio ... (1783 characters truncated) ... ubnetId": "e2lpjb99olevrd6ulh06"}], "created_at": "2023-08-28T09:09:51Z", "platform_id": "standard-v3", "estimated_cost": true}, "external_ip": null}', 'changes_detected': '{"effective_cost": {"previous": 42.96, "current": 0.0}}', 'service_name': 'Compute Cloud', 'region': 'ru-central1-b', 'status': 'STOPPED', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 0, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 748416), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 748419)}
2025-11-05 01:07:05,750 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:05,753 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,754 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,754 INFO sqlalchemy.engine.Engine: [cached since 7.887s ago] {'pk_1': 1065}
2025-11-05 01:07:05,755 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,756 INFO sqlalchemy.engine.Engine: [cached since 7.888s ago] {'external_ip': None, 'effective_cost': 42.96, 'currency': 'RUB', 'daily_cost': 42.96, 'original_cost': 1288.8, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 755909), 'resources_id': 1065}
2025-11-05 01:07:05,757 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,757 INFO sqlalchemy.engine.Engine: [cached since 7.891s ago] {'pk_1': 1065}
2025-11-05 01:07:05,759 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,759 INFO sqlalchemy.engine.Engine: [cached since 8.021s ago] {'resource_id_1': 1065, 'tag_key_1': 'folder_id', 'param_1': 1}
2025-11-05 01:07:05,761 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,761 INFO sqlalchemy.engine.Engine: [cached since 8.023s ago] {'resource_id_1': 1065, 'tag_key_1': 'folder_name', 'param_1': 1}
2025-11-05 01:07:05,763 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,763 INFO sqlalchemy.engine.Engine: [cached since 8.025s ago] {'resource_id_1': 1065, 'tag_key_1': 'cloud_id', 'param_1': 1}
2025-11-05 01:07:05,764 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,764 INFO sqlalchemy.engine.Engine: [cached since 8.026s ago] {'resource_id_1': 1065, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:05,765 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,766 INFO sqlalchemy.engine.Engine: [cached since 8.027s ago] {'resource_id_1': 1065, 'tag_key_1': 'platform_id', 'param_1': 1}
2025-11-05 01:07:05,767 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:05,767 INFO sqlalchemy.engine.Engine: [cached since 8.275s ago] {'pk_1': 4431}
2025-11-05 01:07:05,768 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,768 INFO sqlalchemy.engine.Engine: [cached since 8.182s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2rnbogvacnnfptf8ce', 'param_1': 1}
2025-11-05 01:07:05,774 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.cpu.c20.v2: 0.529167₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,774 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,774 INFO sqlalchemy.engine.Engine: [cached since 8.188s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2m6m7cdq93k8m8ub60', 'param_1': 1}
2025-11-05 01:07:05,779 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.ram.v2: 0.334798₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,779 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,779 INFO sqlalchemy.engine.Engine: [cached since 8.193s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,783 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,783 INFO sqlalchemy.engine.Engine: [cached since 8.198s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn229q5mnmp58t58tfel', 'param_1': 1}
2025-11-05 01:07:05,786 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,786 INFO sqlalchemy.engine.Engine: [cached since 8.201s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2al287u6jr3a710u8g', 'param_1': 1}
2025-11-05 01:07:05,791 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:05,791 INFO sqlalchemy.engine.Engine: [cached since 11.4s ago] {'pk_1': 103}
2025-11-05 01:07:05,792 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,792 INFO sqlalchemy.engine.Engine: [cached since 8.072s ago] {'provider_id_1': 103, 'resource_id_1': 'fhm47gie1uihfqm1sl4q', 'resource_type_1': 'server', 'param_1': 1}
2025-11-05 01:07:05,793 INFO sqlalchemy.engine.Engine: UPDATE resources SET last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,793 INFO sqlalchemy.engine.Engine: [cached since 8.069s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 5, 793177), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 793833), 'resources_id': 1066}
2025-11-05 01:07:05,795 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:05,795 INFO sqlalchemy.engine.Engine: [cached since 8.067s ago] {'sync_snapshot_id': 4431, 'resource_id': 1066, 'provider_resource_id': 'fhm47gie1uihfqm1sl4q', 'resource_type': 'server', 'resource_name': 'punch-dev-vpn-1', 'state_action': 'updated', 'previous_state': '{"id": 1066, "provider_id": 103, "resource_id": "fhm47gie1uihfqm1sl4q", "resource_name": "punch-dev-vpn-1", "region": "ru-central1-a", "external_ip": ... (2207 characters truncated) ... 23-05-18T00:13:18Z", "platform_id": "standard-v2", "estimated_cost": true}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:04"}', 'current_state': '{"resource_id": "fhm47gie1uihfqm1sl4q", "resource_name": "punch-dev-vpn-1", "resource_type": "server", "service_name": "Compute Cloud", "region": "ru ... (1854 characters truncated) ... e9b3n1iksr15gqlnbq8p"}], "created_at": "2023-05-18T00:13:18Z", "platform_id": "standard-v2", "estimated_cost": true}, "external_ip": "51.250.86.184"}', 'changes_detected': '{"effective_cost": {"previous": 49.8, "current": 0.0}}', 'service_name': 'Compute Cloud', 'region': 'ru-central1-a', 'status': 'RUNNING', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 0, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 795023), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 795025)}
2025-11-05 01:07:05,796 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:05,797 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,798 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,798 INFO sqlalchemy.engine.Engine: [cached since 7.931s ago] {'pk_1': 1066}
2025-11-05 01:07:05,799 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,799 INFO sqlalchemy.engine.Engine: [cached since 7.931s ago] {'external_ip': '51.250.86.184', 'effective_cost': 49.8, 'currency': 'RUB', 'daily_cost': 49.8, 'original_cost': 1494.0, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 799129), 'resources_id': 1066}
2025-11-05 01:07:05,799 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,799 INFO sqlalchemy.engine.Engine: [cached since 7.933s ago] {'pk_1': 1066}
2025-11-05 01:07:05,800 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,800 INFO sqlalchemy.engine.Engine: [cached since 8.062s ago] {'resource_id_1': 1066, 'tag_key_1': 'folder_id', 'param_1': 1}
2025-11-05 01:07:05,801 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,801 INFO sqlalchemy.engine.Engine: [cached since 8.063s ago] {'resource_id_1': 1066, 'tag_key_1': 'folder_name', 'param_1': 1}
2025-11-05 01:07:05,802 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,802 INFO sqlalchemy.engine.Engine: [cached since 8.064s ago] {'resource_id_1': 1066, 'tag_key_1': 'cloud_id', 'param_1': 1}
2025-11-05 01:07:05,803 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,803 INFO sqlalchemy.engine.Engine: [cached since 8.065s ago] {'resource_id_1': 1066, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:05,804 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,804 INFO sqlalchemy.engine.Engine: [cached since 8.066s ago] {'resource_id_1': 1066, 'tag_key_1': 'platform_id', 'param_1': 1}
2025-11-05 01:07:05,805 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:05,805 INFO sqlalchemy.engine.Engine: [cached since 8.313s ago] {'pk_1': 4431}
2025-11-05 01:07:05,806 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,806 INFO sqlalchemy.engine.Engine: [cached since 8.22s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2jlfko7rkkbovvop3p', 'param_1': 1}
2025-11-05 01:07:05,811 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.cpu.c100.v2: 1.285208₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,812 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,812 INFO sqlalchemy.engine.Engine: [cached since 8.226s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2m6m7cdq93k8m8ub60', 'param_1': 1}
2025-11-05 01:07:05,816 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.ram.v2: 0.334798₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,816 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,816 INFO sqlalchemy.engine.Engine: [cached since 8.231s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,821 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,821 INFO sqlalchemy.engine.Engine: [cached since 8.235s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn229q5mnmp58t58tfel', 'param_1': 1}
2025-11-05 01:07:05,824 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,824 INFO sqlalchemy.engine.Engine: [cached since 8.238s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,828 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:05,829 INFO sqlalchemy.engine.Engine: [cached since 11.44s ago] {'pk_1': 103}
2025-11-05 01:07:05,830 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,830 INFO sqlalchemy.engine.Engine: [cached since 8.11s ago] {'provider_id_1': 103, 'resource_id_1': 'fhm6stha1svmkd3iegs4', 'resource_type_1': 'server', 'param_1': 1}
2025-11-05 01:07:05,832 INFO sqlalchemy.engine.Engine: UPDATE resources SET last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,832 INFO sqlalchemy.engine.Engine: [cached since 8.107s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 5, 831432), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 832043), 'resources_id': 1067}
2025-11-05 01:07:05,832 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:05,833 INFO sqlalchemy.engine.Engine: [cached since 8.105s ago] {'sync_snapshot_id': 4431, 'resource_id': 1067, 'provider_resource_id': 'fhm6stha1svmkd3iegs4', 'resource_type': 'server', 'resource_name': 'punch-dev-backend-1', 'state_action': 'updated', 'previous_state': '{"id": 1067, "provider_id": 103, "resource_id": "fhm6stha1svmkd3iegs4", "resource_name": "punch-dev-backend-1", "region": "ru-central1-a", "external_ ... (2232 characters truncated) ... 23-05-17T20:57:59Z", "platform_id": "standard-v2", "estimated_cost": true}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:04"}', 'current_state': '{"resource_id": "fhm6stha1svmkd3iegs4", "resource_name": "punch-dev-backend-1", "resource_type": "server", "service_name": "Compute Cloud", "region": ... (1877 characters truncated) ... 9b3n1iksr15gqlnbq8p"}], "created_at": "2023-05-17T20:57:59Z", "platform_id": "standard-v2", "estimated_cost": true}, "external_ip": "158.160.107.88"}', 'changes_detected': '{"effective_cost": {"previous": 445.98, "current": 0.0}}', 'service_name': 'Compute Cloud', 'region': 'ru-central1-a', 'status': 'RUNNING', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 0, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 832972), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 832975)}
2025-11-05 01:07:05,834 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:05,836 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,836 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,836 INFO sqlalchemy.engine.Engine: [cached since 7.97s ago] {'pk_1': 1067}
2025-11-05 01:07:05,837 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,837 INFO sqlalchemy.engine.Engine: [cached since 7.969s ago] {'external_ip': '158.160.107.88', 'effective_cost': 445.98, 'currency': 'RUB', 'daily_cost': 445.98, 'original_cost': 13379.400000000001, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 837634), 'resources_id': 1067}
2025-11-05 01:07:05,838 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,838 INFO sqlalchemy.engine.Engine: [cached since 7.972s ago] {'pk_1': 1067}
2025-11-05 01:07:05,839 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,839 INFO sqlalchemy.engine.Engine: [cached since 8.101s ago] {'resource_id_1': 1067, 'tag_key_1': 'folder_id', 'param_1': 1}
2025-11-05 01:07:05,840 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,840 INFO sqlalchemy.engine.Engine: [cached since 8.102s ago] {'resource_id_1': 1067, 'tag_key_1': 'folder_name', 'param_1': 1}
2025-11-05 01:07:05,841 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,841 INFO sqlalchemy.engine.Engine: [cached since 8.103s ago] {'resource_id_1': 1067, 'tag_key_1': 'cloud_id', 'param_1': 1}
2025-11-05 01:07:05,842 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,842 INFO sqlalchemy.engine.Engine: [cached since 8.104s ago] {'resource_id_1': 1067, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:05,843 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,843 INFO sqlalchemy.engine.Engine: [cached since 8.105s ago] {'resource_id_1': 1067, 'tag_key_1': 'platform_id', 'param_1': 1}
2025-11-05 01:07:05,844 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:05,844 INFO sqlalchemy.engine.Engine: [cached since 8.352s ago] {'pk_1': 4431}
2025-11-05 01:07:05,845 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,845 INFO sqlalchemy.engine.Engine: [cached since 8.259s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2rnbogvacnnfptf8ce', 'param_1': 1}
2025-11-05 01:07:05,851 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.cpu.c20.v2: 0.529167₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,852 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,852 INFO sqlalchemy.engine.Engine: [cached since 8.266s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2m6m7cdq93k8m8ub60', 'param_1': 1}
2025-11-05 01:07:05,856 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.ram.v2: 0.334798₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,857 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,857 INFO sqlalchemy.engine.Engine: [cached since 8.271s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,861 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,861 INFO sqlalchemy.engine.Engine: [cached since 8.276s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn229q5mnmp58t58tfel', 'param_1': 1}
2025-11-05 01:07:05,864 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,864 INFO sqlalchemy.engine.Engine: [cached since 8.279s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,869 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:05,870 INFO sqlalchemy.engine.Engine: [cached since 11.48s ago] {'pk_1': 103}
2025-11-05 01:07:05,871 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,872 INFO sqlalchemy.engine.Engine: [cached since 8.152s ago] {'provider_id_1': 103, 'resource_id_1': 'fhm8ur027cm5cind1ahr', 'resource_type_1': 'server', 'param_1': 1}
2025-11-05 01:07:05,874 INFO sqlalchemy.engine.Engine: UPDATE resources SET last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,874 INFO sqlalchemy.engine.Engine: [cached since 8.149s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 5, 873541), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 874432), 'resources_id': 1068}
2025-11-05 01:07:05,875 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:05,875 INFO sqlalchemy.engine.Engine: [cached since 8.148s ago] {'sync_snapshot_id': 4431, 'resource_id': 1068, 'provider_resource_id': 'fhm8ur027cm5cind1ahr', 'resource_type': 'server', 'resource_name': 'punch-dev-balancer-1', 'state_action': 'updated', 'previous_state': '{"id": 1068, "provider_id": 103, "resource_id": "fhm8ur027cm5cind1ahr", "resource_name": "punch-dev-balancer-1", "region": "ru-central1-a", "external ... (2233 characters truncated) ... 23-05-15T23:53:25Z", "platform_id": "standard-v2", "estimated_cost": true}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:04"}', 'current_state': '{"resource_id": "fhm8ur027cm5cind1ahr", "resource_name": "punch-dev-balancer-1", "resource_type": "server", "service_name": "Compute Cloud", "region" ... (1879 characters truncated) ... b3n1iksr15gqlnbq8p"}], "created_at": "2023-05-15T23:53:25Z", "platform_id": "standard-v2", "estimated_cost": true}, "external_ip": "158.160.106.137"}', 'changes_detected': '{"effective_cost": {"previous": 64.32, "current": 0.0}}', 'service_name': 'Compute Cloud', 'region': 'ru-central1-a', 'status': 'RUNNING', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 0, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 875633), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 875637)}
2025-11-05 01:07:05,877 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:05,879 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,879 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,879 INFO sqlalchemy.engine.Engine: [cached since 8.013s ago] {'pk_1': 1068}
2025-11-05 01:07:05,881 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,881 INFO sqlalchemy.engine.Engine: [cached since 8.013s ago] {'external_ip': '158.160.106.137', 'effective_cost': 64.32, 'currency': 'RUB', 'daily_cost': 64.32, 'original_cost': 1929.6, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 881050), 'resources_id': 1068}
2025-11-05 01:07:05,881 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,881 INFO sqlalchemy.engine.Engine: [cached since 8.015s ago] {'pk_1': 1068}
2025-11-05 01:07:05,883 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,883 INFO sqlalchemy.engine.Engine: [cached since 8.145s ago] {'resource_id_1': 1068, 'tag_key_1': 'folder_id', 'param_1': 1}
2025-11-05 01:07:05,884 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,884 INFO sqlalchemy.engine.Engine: [cached since 8.146s ago] {'resource_id_1': 1068, 'tag_key_1': 'folder_name', 'param_1': 1}
2025-11-05 01:07:05,885 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,885 INFO sqlalchemy.engine.Engine: [cached since 8.147s ago] {'resource_id_1': 1068, 'tag_key_1': 'cloud_id', 'param_1': 1}
2025-11-05 01:07:05,886 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,886 INFO sqlalchemy.engine.Engine: [cached since 8.148s ago] {'resource_id_1': 1068, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:05,887 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,887 INFO sqlalchemy.engine.Engine: [cached since 8.149s ago] {'resource_id_1': 1068, 'tag_key_1': 'platform_id', 'param_1': 1}
2025-11-05 01:07:05,888 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:05,888 INFO sqlalchemy.engine.Engine: [cached since 8.396s ago] {'pk_1': 4431}
2025-11-05 01:07:05,889 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,889 INFO sqlalchemy.engine.Engine: [cached since 8.303s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2rphfm652hfg70r1hf', 'param_1': 1}
2025-11-05 01:07:05,895 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.cpu.c50.v2: 0.777604₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,895 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,895 INFO sqlalchemy.engine.Engine: [cached since 8.309s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2m6m7cdq93k8m8ub60', 'param_1': 1}
2025-11-05 01:07:05,900 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.ram.v2: 0.334798₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,900 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,900 INFO sqlalchemy.engine.Engine: [cached since 8.314s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,905 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,905 INFO sqlalchemy.engine.Engine: [cached since 8.319s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,909 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:05,909 INFO sqlalchemy.engine.Engine: [cached since 11.52s ago] {'pk_1': 103}
2025-11-05 01:07:05,912 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,912 INFO sqlalchemy.engine.Engine: [cached since 8.192s ago] {'provider_id_1': 103, 'resource_id_1': 'fhmdmtao3tenveghit0u', 'resource_type_1': 'server', 'param_1': 1}
2025-11-05 01:07:05,915 INFO sqlalchemy.engine.Engine: UPDATE resources SET last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,915 INFO sqlalchemy.engine.Engine: [cached since 8.19s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 5, 914449), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 915477), 'resources_id': 1069}
2025-11-05 01:07:05,916 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:05,916 INFO sqlalchemy.engine.Engine: [cached since 8.189s ago] {'sync_snapshot_id': 4431, 'resource_id': 1069, 'provider_resource_id': 'fhmdmtao3tenveghit0u', 'resource_type': 'server', 'resource_name': 'punch-dev-mysql-1', 'state_action': 'updated', 'previous_state': '{"id": 1069, "provider_id": 103, "resource_id": "fhmdmtao3tenveghit0u", "resource_name": "punch-dev-mysql-1", "region": "ru-central1-a", "external_ip ... (2041 characters truncated) ... 23-05-15T23:53:25Z", "platform_id": "standard-v2", "estimated_cost": true}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:04"}', 'current_state': '{"resource_id": "fhmdmtao3tenveghit0u", "resource_name": "punch-dev-mysql-1", "resource_type": "server", "service_name": "Compute Cloud", "region": " ... (1686 characters truncated) ... ubnetId": "e9b3n1iksr15gqlnbq8p"}], "created_at": "2023-05-15T23:53:25Z", "platform_id": "standard-v2", "estimated_cost": true}, "external_ip": null}', 'changes_detected': '{"effective_cost": {"previous": 148.64, "current": 0.0}}', 'service_name': 'Compute Cloud', 'region': 'ru-central1-a', 'status': 'RUNNING', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 0, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 916580), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 916582)}
2025-11-05 01:07:05,918 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:05,919 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,920 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,920 INFO sqlalchemy.engine.Engine: [cached since 8.053s ago] {'pk_1': 1069}
2025-11-05 01:07:05,921 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,921 INFO sqlalchemy.engine.Engine: [cached since 8.053s ago] {'external_ip': None, 'effective_cost': 148.64, 'currency': 'RUB', 'daily_cost': 148.64, 'original_cost': 4459.2, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 921487), 'resources_id': 1069}
2025-11-05 01:07:05,922 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,922 INFO sqlalchemy.engine.Engine: [cached since 8.056s ago] {'pk_1': 1069}
2025-11-05 01:07:05,923 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,923 INFO sqlalchemy.engine.Engine: [cached since 8.185s ago] {'resource_id_1': 1069, 'tag_key_1': 'folder_id', 'param_1': 1}
2025-11-05 01:07:05,924 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,924 INFO sqlalchemy.engine.Engine: [cached since 8.186s ago] {'resource_id_1': 1069, 'tag_key_1': 'folder_name', 'param_1': 1}
2025-11-05 01:07:05,925 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,925 INFO sqlalchemy.engine.Engine: [cached since 8.187s ago] {'resource_id_1': 1069, 'tag_key_1': 'cloud_id', 'param_1': 1}
2025-11-05 01:07:05,926 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,926 INFO sqlalchemy.engine.Engine: [cached since 8.188s ago] {'resource_id_1': 1069, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:05,927 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,928 INFO sqlalchemy.engine.Engine: [cached since 8.189s ago] {'resource_id_1': 1069, 'tag_key_1': 'platform_id', 'param_1': 1}
2025-11-05 01:07:05,929 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:05,929 INFO sqlalchemy.engine.Engine: [cached since 8.437s ago] {'pk_1': 4431}
2025-11-05 01:07:05,930 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,930 INFO sqlalchemy.engine.Engine: [cached since 8.344s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2jlfko7rkkbovvop3p', 'param_1': 1}
2025-11-05 01:07:05,936 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.cpu.c100.v2: 1.285208₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,938 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,938 INFO sqlalchemy.engine.Engine: [cached since 8.352s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn2m6m7cdq93k8m8ub60', 'param_1': 1}
2025-11-05 01:07:05,944 INFO app.providers.yandex.sku_pricing: Using fallback price for compute.vm.ram.v2: 0.334798₽/h (source: HAR billing data (Oct 31, 2025))
2025-11-05 01:07:05,946 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,946 INFO sqlalchemy.engine.Engine: [cached since 8.36s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,951 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,952 INFO sqlalchemy.engine.Engine: [cached since 8.366s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn229q5mnmp58t58tfel', 'param_1': 1}
2025-11-05 01:07:05,955 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.provider_sku = %(provider_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,955 INFO sqlalchemy.engine.Engine: [cached since 8.369s ago] {'provider_1': 'yandex', 'provider_sku_1': 'dn27ajm6m8mnfcshbi61', 'param_1': 1}
2025-11-05 01:07:05,959 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:05,959 INFO sqlalchemy.engine.Engine: [cached since 11.57s ago] {'pk_1': 103}
2025-11-05 01:07:05,961 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,961 INFO sqlalchemy.engine.Engine: [cached since 8.241s ago] {'provider_id_1': 103, 'resource_id_1': 'fhmvk37b238i45pfkb6b', 'resource_type_1': 'server', 'param_1': 1}
2025-11-05 01:07:05,964 INFO sqlalchemy.engine.Engine: UPDATE resources SET last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,964 INFO sqlalchemy.engine.Engine: [cached since 8.239s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 5, 963151), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 964366), 'resources_id': 1070}
2025-11-05 01:07:05,965 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:05,965 INFO sqlalchemy.engine.Engine: [cached since 8.238s ago] {'sync_snapshot_id': 4431, 'resource_id': 1070, 'provider_resource_id': 'fhmvk37b238i45pfkb6b', 'resource_type': 'server', 'resource_name': 'punch-dev-runner-1', 'state_action': 'updated', 'previous_state': '{"id": 1070, "provider_id": 103, "resource_id": "fhmvk37b238i45pfkb6b", "resource_name": "punch-dev-runner-1", "region": "ru-central1-a", "external_i ... (2219 characters truncated) ... 23-05-18T23:10:43Z", "platform_id": "standard-v2", "estimated_cost": true}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:05"}', 'current_state': '{"resource_id": "fhmvk37b238i45pfkb6b", "resource_name": "punch-dev-runner-1", "resource_type": "server", "service_name": "Compute Cloud", "region":  ... (1864 characters truncated) ... e9b3n1iksr15gqlnbq8p"}], "created_at": "2023-05-18T23:10:43Z", "platform_id": "standard-v2", "estimated_cost": true}, "external_ip": "51.250.93.216"}', 'changes_detected': '{"effective_cost": {"previous": 215.36, "current": 0.0}}', 'service_name': 'Compute Cloud', 'region': 'ru-central1-a', 'status': 'RUNNING', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 0, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 965762), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 965765)}
2025-11-05 01:07:05,967 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:05,969 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:05,970 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,970 INFO sqlalchemy.engine.Engine: [cached since 8.103s ago] {'pk_1': 1070}
2025-11-05 01:07:05,972 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:05,972 INFO sqlalchemy.engine.Engine: [cached since 8.104s ago] {'external_ip': '51.250.93.216', 'effective_cost': 215.35999999999999, 'currency': 'RUB', 'daily_cost': 215.35999999999999, 'original_cost': 6460.799999999999, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 5, 972026), 'resources_id': 1070}
2025-11-05 01:07:05,973 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:05,973 INFO sqlalchemy.engine.Engine: [cached since 8.107s ago] {'pk_1': 1070}
2025-11-05 01:07:05,975 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,975 INFO sqlalchemy.engine.Engine: [cached since 8.237s ago] {'resource_id_1': 1070, 'tag_key_1': 'folder_id', 'param_1': 1}
2025-11-05 01:07:05,977 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,977 INFO sqlalchemy.engine.Engine: [cached since 8.239s ago] {'resource_id_1': 1070, 'tag_key_1': 'folder_name', 'param_1': 1}
2025-11-05 01:07:05,979 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,979 INFO sqlalchemy.engine.Engine: [cached since 8.241s ago] {'resource_id_1': 1070, 'tag_key_1': 'cloud_id', 'param_1': 1}
2025-11-05 01:07:05,981 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,981 INFO sqlalchemy.engine.Engine: [cached since 8.243s ago] {'resource_id_1': 1070, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:05,982 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:05,983 INFO sqlalchemy.engine.Engine: [cached since 8.244s ago] {'resource_id_1': 1070, 'tag_key_1': 'platform_id', 'param_1': 1}
2025-11-05 01:07:05,984 INFO app.providers.yandex.service:   Processing snapshots...
2025-11-05 01:07:06,036 INFO app.providers.yandex.client: Found 0 snapshots in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:06,038 INFO app.providers.yandex.service:   Processing custom images...
2025-11-05 01:07:06,122 INFO app.providers.yandex.client: Found 0 custom images in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:06,125 INFO app.providers.yandex.service:   Processing reserved IPs...
2025-11-05 01:07:06,238 INFO app.providers.yandex.client: Found 11 reserved addresses in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:06,243 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:06,243 INFO sqlalchemy.engine.Engine: [cached since 8.752s ago] {'pk_1': 4431}
2025-11-05 01:07:06,246 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:06,246 INFO sqlalchemy.engine.Engine: [cached since 11.85s ago] {'pk_1': 103}
2025-11-05 01:07:06,248 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,248 INFO sqlalchemy.engine.Engine: [cached since 8.528s ago] {'provider_id_1': 103, 'resource_id_1': 'e9bu62ug59l0l3eekulp', 'resource_type_1': 'reserved_ip', 'param_1': 1}
2025-11-05 01:07:06,251 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:06,251 INFO sqlalchemy.engine.Engine: [cached since 7.936s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 6, 250069), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 251062), 'resources_id': 1071}
2025-11-05 01:07:06,252 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:06,252 INFO sqlalchemy.engine.Engine: [cached since 8.525s ago] {'sync_snapshot_id': 4431, 'resource_id': 1071, 'provider_resource_id': 'e9bu62ug59l0l3eekulp', 'resource_type': 'reserved_ip', 'resource_name': 'Reserved IP: 158.160.107.171', 'state_action': 'updated', 'previous_state': '{"id": 1071, "provider_id": 103, "resource_id": "e9bu62ug59l0l3eekulp", "resource_name": "Reserved IP: 158.160.107.171", "region": "b1g5r9q2hdivst0lc ... (1045 characters truncated) ... sku": "network.public_fips.deallocated", "sku_id": "dn2nqa0nqffbhihsq2n5"}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:05"}', 'current_state': '{"resource_id": "e9bu62ug59l0l3eekulp", "resource_name": "Reserved IP: 158.160.107.171", "resource_type": "reserved_ip", "service_name": "Virtual Pri ... (678 characters truncated) ... 23-05-18T12:37:25Z", "cost_source": "billing_data", "sku": "network.public_fips.deallocated", "sku_id": "dn2nqa0nqffbhihsq2n5"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 8.04, "current": 0.0}}', 'service_name': 'Virtual Private Cloud', 'region': 'b1g5r9q2hdivst0lck0a', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 252748), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 252752)}
2025-11-05 01:07:06,254 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:06,256 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:06,257 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,257 INFO sqlalchemy.engine.Engine: [cached since 7.54s ago] {'pk_1': 1071}
2025-11-05 01:07:06,258 INFO sqlalchemy.engine.Engine: UPDATE resources SET external_ip=%(external_ip)s, status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:06,258 INFO sqlalchemy.engine.Engine: [cached since 7.536s ago] {'external_ip': '158.160.107.171', 'status': 'RUNNING', 'effective_cost': 8.04, 'currency': 'RUB', 'daily_cost': 8.04, 'original_cost': 241.2, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 258234), 'resources_id': 1071}
2025-11-05 01:07:06,259 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,259 INFO sqlalchemy.engine.Engine: [cached since 7.542s ago] {'pk_1': 1071}
2025-11-05 01:07:06,261 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,261 INFO sqlalchemy.engine.Engine: [cached since 8.523s ago] {'resource_id_1': 1071, 'tag_key_1': 'ip_address', 'param_1': 1}
2025-11-05 01:07:06,263 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,263 INFO sqlalchemy.engine.Engine: [cached since 8.525s ago] {'resource_id_1': 1071, 'tag_key_1': 'is_reserved', 'param_1': 1}
2025-11-05 01:07:06,264 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,264 INFO sqlalchemy.engine.Engine: [cached since 8.526s ago] {'resource_id_1': 1071, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:06,266 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,266 INFO sqlalchemy.engine.Engine: [cached since 8.528s ago] {'resource_id_1': 1071, 'tag_key_1': 'pricing_per_day', 'param_1': 1}
2025-11-05 01:07:06,267 INFO app.providers.yandex.service:   Processing load balancers...
2025-11-05 01:07:06,267 INFO app.providers.yandex.service:   Processing container registries...
2025-11-05 01:07:06,377 INFO app.providers.yandex.client: Found 1 container registries in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:06,381 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:06,381 INFO sqlalchemy.engine.Engine: [cached since 8.889s ago] {'pk_1': 4431}
2025-11-05 01:07:06,383 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:06,383 INFO sqlalchemy.engine.Engine: [cached since 11.99s ago] {'pk_1': 103}
2025-11-05 01:07:06,386 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.resource_id = %(resource_id_1)s AND resources.resource_type = %(resource_type_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,386 INFO sqlalchemy.engine.Engine: [cached since 8.666s ago] {'provider_id_1': 103, 'resource_id_1': 'crpdusvn3qfrtl0js1fb', 'resource_type_1': 'container_registry', 'param_1': 1}
2025-11-05 01:07:06,389 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, last_sync=%(last_sync)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:06,389 INFO sqlalchemy.engine.Engine: [cached since 8.074s ago] {'status': 'ACTIVE', 'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 6, 388249), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 389354), 'resources_id': 1072}
2025-11-05 01:07:06,390 INFO sqlalchemy.engine.Engine: INSERT INTO resource_states (sync_snapshot_id, resource_id, provider_resource_id, resource_type, resource_name, state_action, previous_state, current_state, changes_detected, service_name, region, status, effective_cost, has_cost_change, has_status_change, has_config_change, created_at, updated_at) VALUES (%(sync_snapshot_id)s, %(resource_id)s, %(provider_resource_id)s, %(resource_type)s, %(resource_name)s, %(state_action)s, %(previous_state)s, %(current_state)s, %(changes_detected)s, %(service_name)s, %(region)s, %(status)s, %(effective_cost)s, %(has_cost_change)s, %(has_status_change)s, %(has_config_change)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:06,390 INFO sqlalchemy.engine.Engine: [cached since 8.663s ago] {'sync_snapshot_id': 4431, 'resource_id': 1072, 'provider_resource_id': 'crpdusvn3qfrtl0js1fb', 'resource_type': 'container_registry', 'resource_name': 'itl-punch-registry', 'state_action': 'updated', 'previous_state': '{"id": 1072, "provider_id": 103, "resource_id": "crpdusvn3qfrtl0js1fb", "resource_name": "itl-punch-registry", "region": "b1g5r9q2hdivst0lck0a", "ext ... (981 characters truncated) ... "limitation": "Cost is hardcoded - needs billing API for dynamic updates"}, "created_at": "2025-11-01T18:21:08", "updated_at": "2025-11-05T00:58:05"}', 'current_state': '{"resource_id": "crpdusvn3qfrtl0js1fb", "resource_name": "itl-punch-registry", "resource_type": "container_registry", "service_name": "Container Regi ... (626 characters truncated) ... t.used_space.standard", "estimated_storage_gb": 703, "limitation": "Cost is hardcoded - needs billing API for dynamic updates"}, "external_ip": null}', 'changes_detected': '{"status": {"previous": "RUNNING", "current": "ACTIVE"}, "effective_cost": {"previous": 75.94, "current": 0.0}}', 'service_name': 'Container Registry', 'region': 'b1g5r9q2hdivst0lck0a', 'status': 'ACTIVE', 'effective_cost': 0.0, 'has_cost_change': 1, 'has_status_change': 1, 'has_config_change': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 390759), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 390762)}
2025-11-05 01:07:06,392 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:06,394 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:06,395 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,395 INFO sqlalchemy.engine.Engine: [cached since 8.074s ago] {'pk_1': 1072}
2025-11-05 01:07:06,397 INFO sqlalchemy.engine.Engine: UPDATE resources SET status=%(status)s, effective_cost=%(effective_cost)s, currency=%(currency)s, daily_cost=%(daily_cost)s, original_cost=%(original_cost)s, updated_at=%(updated_at)s WHERE resources.id = %(resources_id)s
2025-11-05 01:07:06,397 INFO sqlalchemy.engine.Engine: [cached since 8.074s ago] {'status': 'RUNNING', 'effective_cost': 75.94, 'currency': 'RUB', 'daily_cost': 75.94, 'original_cost': 2278.2, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 397263), 'resources_id': 1072}
2025-11-05 01:07:06,398 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.billing_period AS resources_billing_period, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,398 INFO sqlalchemy.engine.Engine: [cached since 8.078s ago] {'pk_1': 1072}
2025-11-05 01:07:06,400 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,400 INFO sqlalchemy.engine.Engine: [cached since 8.662s ago] {'resource_id_1': 1072, 'tag_key_1': 'cost_source', 'param_1': 1}
2025-11-05 01:07:06,402 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,402 INFO sqlalchemy.engine.Engine: [cached since 8.664s ago] {'resource_id_1': 1072, 'tag_key_1': 'pricing_model', 'param_1': 1}
2025-11-05 01:07:06,403 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:06,403 INFO sqlalchemy.engine.Engine: [cached since 8.665s ago] {'resource_id_1': 1072, 'tag_key_1': 'sku_id', 'param_1': 1}
2025-11-05 01:07:06,404 INFO app.providers.yandex.service:   Processing DNS zones...
2025-11-05 01:07:06,477 INFO app.providers.yandex.client: Found 2 DNS zones in folder b1g5r9q2hdivst0lck0a
2025-11-05 01:07:06,481 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:06,481 INFO sqlalchemy.engine.Engine: [cached since 8.99s ago] {'pk_1': 4431}
2025-11-05 01:07:06,484 INFO sqlalchemy.engine.Engine: UPDATE sync_snapshots SET sync_status=%(sync_status)s, sync_completed_at=%(sync_completed_at)s, sync_duration_seconds=%(sync_duration_seconds)s, total_resources_found=%(total_resources_found)s, resources_created=%(resources_created)s, sync_config=%(sync_config)s, updated_at=%(updated_at)s WHERE sync_snapshots.id = %(sync_snapshots_id)s
2025-11-05 01:07:06,484 INFO sqlalchemy.engine.Engine: [cached since 7.242s ago] {'sync_status': 'success', 'sync_completed_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 483792), 'sync_duration_seconds': 2, 'total_resources_found': 8, 'resources_created': 8, 'sync_config': '{"sync_method": "managed_services", "clouds_discovered": 0, "folders_discovered": 1, "total_instances": 6, "total_disks": 0, "total_snapshots": 0, "t ... (32 characters truncated) ... _ips": 1, "total_load_balancers": 0, "total_registries": 1, "total_dns_zones": 0, "total_managed_clusters": 0, "total_estimated_daily_cost": 1051.04}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 6, 484516), 'sync_snapshots_id': 4431}
2025-11-05 01:07:06,485 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:06,486 INFO sqlalchemy.engine.Engine: [cached since 12.09s ago] {'pk_1': 103}
2025-11-05 01:07:06,487 INFO app.providers.yandex.service: PHASE 3: Performance statistics ENABLED
2025-11-05 01:07:06,487 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,487 INFO sqlalchemy.engine.Engine: [cached since 7.243s ago] {'pk_1': 1065}
2025-11-05 01:07:06,489 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,489 INFO sqlalchemy.engine.Engine: [cached since 7.244s ago] {'pk_1': 1066}
2025-11-05 01:07:06,490 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,490 INFO sqlalchemy.engine.Engine: [cached since 7.245s ago] {'pk_1': 1067}
2025-11-05 01:07:06,491 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,491 INFO sqlalchemy.engine.Engine: [cached since 7.247s ago] {'pk_1': 1068}
2025-11-05 01:07:06,493 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,493 INFO sqlalchemy.engine.Engine: [cached since 7.248s ago] {'pk_1': 1069}
2025-11-05 01:07:06,494 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,495 INFO sqlalchemy.engine.Engine: [cached since 7.25s ago] {'pk_1': 1070}
2025-11-05 01:07:06,496 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:06,496 INFO sqlalchemy.engine.Engine: [cached since 7.251s ago] {'pk_1': 1071}
2025-11-05 01:07:06,497 INFO app.providers.yandex.service: Collecting CPU statistics for 6 standalone VMs...
2025-11-05 01:07:06,895 WARNING app.providers.yandex.client: No CPU metrics available for instance epdu8iojmpa0o607185q
2025-11-05 01:07:06,898 WARNING app.providers.yandex.service:    ⚠️  punch-dev-monitoring-1: No CPU data available
2025-11-05 01:07:07,328 INFO app.providers.yandex.client: ✅ CPU statistics for fhm47gie1uihfqm1sl4q: avg=1.43%, max=2.31%, 719 points
2025-11-05 01:07:07,332 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,332 INFO sqlalchemy.engine.Engine: [cached since 9.594s ago] {'resource_id_1': 1066, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:07,335 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,335 INFO sqlalchemy.engine.Engine: [cached since 9.597s ago] {'resource_id_1': 1066, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:07,337 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,337 INFO sqlalchemy.engine.Engine: [cached since 9.599s ago] {'resource_id_1': 1066, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:07,339 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,339 INFO sqlalchemy.engine.Engine: [cached since 9.601s ago] {'resource_id_1': 1066, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:07,341 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,341 INFO sqlalchemy.engine.Engine: [cached since 9.603s ago] {'resource_id_1': 1066, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:07,342 INFO app.providers.yandex.service:    ✅ punch-dev-vpn-1: CPU avg=1.43%
2025-11-05 01:07:07,933 INFO app.providers.yandex.client: ✅ CPU statistics for fhm6stha1svmkd3iegs4: avg=66.86%, max=68.18%, 719 points
2025-11-05 01:07:07,937 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:07,937 INFO sqlalchemy.engine.Engine: [cached since 8.227s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (341 characters truncated) ... , 1.52, 1.51, 1.25, 1.3, 1.19, 1.34, 1.33, 1.43, 1.42, 1.48, 1.44, 1.43, 1.5, 1.57, 1.51, 1.5, 1.45, 1.52, 1.35, 1.36, 1.12, 1.16, 1.24, 1.48, 1.13]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 7, 937349), 'resource_tags_id': 3339}
2025-11-05 01:07:07,939 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,940 INFO sqlalchemy.engine.Engine: [cached since 10.2s ago] {'resource_id_1': 1067, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:07,942 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,942 INFO sqlalchemy.engine.Engine: [cached since 10.2s ago] {'resource_id_1': 1067, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:07,944 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,944 INFO sqlalchemy.engine.Engine: [cached since 10.21s ago] {'resource_id_1': 1067, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:07,946 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,946 INFO sqlalchemy.engine.Engine: [cached since 10.21s ago] {'resource_id_1': 1067, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:07,947 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:07,947 INFO sqlalchemy.engine.Engine: [cached since 10.21s ago] {'resource_id_1': 1067, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:07,948 INFO app.providers.yandex.service:    ✅ punch-dev-backend-1: CPU avg=66.86%
2025-11-05 01:07:08,058 INFO app.providers.yandex.client: ✅ CPU statistics for fhm8ur027cm5cind1ahr: avg=6.67%, max=16.59%, 719 points
2025-11-05 01:07:08,060 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:08,060 INFO sqlalchemy.engine.Engine: [cached since 8.35s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (374 characters truncated) ... 67, 66.7, 66.88, 66.8, 66.85, 66.65, 66.67, 67.02, 66.89, 67.01, 67.01, 66.92, 66.91, 67.07, 67.21, 66.84, 66.91, 67.03, 66.84, 66.94, 67.24, 66.12]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 60569), 'resource_tags_id': 3344}
2025-11-05 01:07:08,062 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,062 INFO sqlalchemy.engine.Engine: [cached since 10.32s ago] {'resource_id_1': 1068, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:08,063 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,063 INFO sqlalchemy.engine.Engine: [cached since 10.33s ago] {'resource_id_1': 1068, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:08,065 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,065 INFO sqlalchemy.engine.Engine: [cached since 10.33s ago] {'resource_id_1': 1068, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:08,065 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,066 INFO sqlalchemy.engine.Engine: [cached since 10.33s ago] {'resource_id_1': 1068, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:08,067 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,067 INFO sqlalchemy.engine.Engine: [cached since 10.33s ago] {'resource_id_1': 1068, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:08,067 INFO app.providers.yandex.service:    ✅ punch-dev-balancer-1: CPU avg=6.67%
2025-11-05 01:07:08,384 INFO app.providers.yandex.client: ✅ CPU statistics for fhmdmtao3tenveghit0u: avg=3.63%, max=3.97%, 719 points
2025-11-05 01:07:08,388 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:08,388 INFO sqlalchemy.engine.Engine: [cached since 8.678s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (345 characters truncated) ... .31, 6.69, 6.06, 6.24, 6.48, 6.94, 6.44, 6.57, 6.75, 7.08, 7.02, 6.83, 6.78, 6.63, 6.22, 6.84, 6.78, 7.42, 6.59, 6.59, 6.14, 6.02, 6.12, 6.21, 5.29]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 388500), 'resource_tags_id': 3349}
2025-11-05 01:07:08,390 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,391 INFO sqlalchemy.engine.Engine: [cached since 10.65s ago] {'resource_id_1': 1069, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:08,393 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,393 INFO sqlalchemy.engine.Engine: [cached since 10.65s ago] {'resource_id_1': 1069, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:08,395 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,395 INFO sqlalchemy.engine.Engine: [cached since 10.66s ago] {'resource_id_1': 1069, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:08,397 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,397 INFO sqlalchemy.engine.Engine: [cached since 10.66s ago] {'resource_id_1': 1069, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:08,398 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,399 INFO sqlalchemy.engine.Engine: [cached since 10.66s ago] {'resource_id_1': 1069, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:08,399 INFO app.providers.yandex.service:    ✅ punch-dev-mysql-1: CPU avg=3.63%
2025-11-05 01:07:08,505 INFO app.providers.yandex.client: ✅ CPU statistics for fhmvk37b238i45pfkb6b: avg=0.19%, max=0.36%, 719 points
2025-11-05 01:07:08,509 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:08,509 INFO sqlalchemy.engine.Engine: [cached since 8.799s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (344 characters truncated) ... 3.59, 3.67, 3.67, 3.66, 3.66, 3.63, 3.63, 3.64, 3.64, 3.66, 3.64, 3.58, 3.6, 3.56, 3.59, 3.63, 3.69, 3.67, 3.65, 3.66, 3.64, 3.58, 3.65, 3.68, 3.64]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 509549), 'resource_tags_id': 3354}
2025-11-05 01:07:08,511 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,512 INFO sqlalchemy.engine.Engine: [cached since 10.77s ago] {'resource_id_1': 1070, 'tag_key_1': 'cpu_avg_usage', 'param_1': 1}
2025-11-05 01:07:08,514 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,514 INFO sqlalchemy.engine.Engine: [cached since 10.78s ago] {'resource_id_1': 1070, 'tag_key_1': 'cpu_max_usage', 'param_1': 1}
2025-11-05 01:07:08,515 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,516 INFO sqlalchemy.engine.Engine: [cached since 10.78s ago] {'resource_id_1': 1070, 'tag_key_1': 'cpu_min_usage', 'param_1': 1}
2025-11-05 01:07:08,517 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,517 INFO sqlalchemy.engine.Engine: [cached since 10.78s ago] {'resource_id_1': 1070, 'tag_key_1': 'cpu_performance_tier', 'param_1': 1}
2025-11-05 01:07:08,518 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s AND resource_tags.tag_key = %(tag_key_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,519 INFO sqlalchemy.engine.Engine: [cached since 10.78s ago] {'resource_id_1': 1070, 'tag_key_1': 'cpu_raw_data', 'param_1': 1}
2025-11-05 01:07:08,520 INFO app.providers.yandex.service:    ✅ punch-dev-runner-1: CPU avg=0.19%
2025-11-05 01:07:08,520 INFO sqlalchemy.engine.Engine: UPDATE resource_tags SET tag_value=%(tag_value)s, updated_at=%(updated_at)s WHERE resource_tags.id = %(resource_tags_id)s
2025-11-05 01:07:08,521 INFO sqlalchemy.engine.Engine: [cached since 8.81s ago] {'tag_value': '{"dates": ["2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13", "2025-10-14", "2025-10-15" ... (336 characters truncated) ... 0.2, 0.2, 0.22, 0.17, 0.17, 0.16, 0.19, 0.18, 0.18, 0.18, 0.19, 0.19, 0.19, 0.2, 0.2, 0.2, 0.21, 0.2, 0.2, 0.17, 0.17, 0.14, 0.16, 0.16, 0.19, 0.14]}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 520916), 'resource_tags_id': 3359}
2025-11-05 01:07:08,522 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,523 INFO app.providers.yandex.service: Performance statistics collection completed
2025-11-05 01:07:08,524 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,524 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:08,524 INFO sqlalchemy.engine.Engine: [cached since 14.13s ago] {'pk_1': 103}
2025-11-05 01:07:08,608 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:08,608 INFO sqlalchemy.engine.Engine: [cached since 9.363s ago] {'pk_1': 1065}
2025-11-05 01:07:08,670 INFO sqlalchemy.engine.Engine: UPDATE cloud_providers SET last_sync=%(last_sync)s, provider_metadata=%(provider_metadata)s, updated_at=%(updated_at)s WHERE cloud_providers.id = %(cloud_providers_id)s
2025-11-05 01:07:08,670 INFO sqlalchemy.engine.Engine: [cached since 5.075s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 8, 668801), 'provider_metadata': '{"last_connection_test": "2025-11-05T01:07:03.821671", "connection_status": "success", "account_info": {"organization": {"name": "I-Techlabs", "legal ... (195 characters truncated) ... c", "status": "ACTIVE"}, "service_account": {"name": "infrazen", "id": "ajeb77ef942o3qm69tsm"}}, "last_account_update": "2025-11-05T01:07:08.668627"}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 670072), 'cloud_providers_id': 103}
2025-11-05 01:07:08,672 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,674 INFO app.providers.yandex.service: Sync completed: 8 resources (0 clusters, 6 VMs, 0 disks, 0 snapshots, 0 images, 1 reserved IPs, 0 load balancers, 1 registries, 0 DNS zones), estimated 1051.04 ₽/day
2025-11-05 01:07:08,675 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,675 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:08,675 INFO sqlalchemy.engine.Engine: [cached since 11.18s ago] {'pk_1': 4431}
2025-11-05 01:07:08,681 INFO app.providers.plugin_system.YandexProviderPlugin: Yandex Cloud sync completed: 8 resources, 1051.04 RUB/day
2025-11-05 01:07:08,682 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:08,683 INFO sqlalchemy.engine.Engine: [cached since 5.078s ago] {'pk_1': 4430}
2025-11-05 01:07:08,684 INFO sqlalchemy.engine.Engine: UPDATE sync_snapshots SET sync_status=%(sync_status)s, sync_completed_at=%(sync_completed_at)s, updated_at=%(updated_at)s WHERE sync_snapshots.id = %(sync_snapshots_id)s
2025-11-05 01:07:08,684 INFO sqlalchemy.engine.Engine: [cached since 5.078s ago] {'sync_status': 'success', 'sync_completed_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 681821), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 684674), 'sync_snapshots_id': 4430}
2025-11-05 01:07:08,686 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:08,686 INFO sqlalchemy.engine.Engine: [cached since 5.082s ago] {'pk_1': 4430}
2025-11-05 01:07:08,688 INFO sqlalchemy.engine.Engine: UPDATE sync_snapshots SET sync_duration_seconds=%(sync_duration_seconds)s, total_resources_found=%(total_resources_found)s, total_monthly_cost=%(total_monthly_cost)s, sync_config=%(sync_config)s, updated_at=%(updated_at)s WHERE sync_snapshots.id = %(sync_snapshots_id)s
2025-11-05 01:07:08,688 INFO sqlalchemy.engine.Engine: [cached since 5.079s ago] {'sync_duration_seconds': 4, 'total_resources_found': 8, 'total_monthly_cost': 1051.04, 'sync_config': '{"sync_type": "complete_sync", "provider_type": "yandex", "connection_name": "Punch", "sync_timestamp": "2025-11-05T01:07:03.629693", "sync_success": ... (627 characters truncated) ... ay"}, "sync_snapshot_id": 4431, "total_instances": 6, "total_disks": 0, "cpu_stats_collected": true, "sync_timestamp": "2025-11-05T01:07:08.681369"}}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 688577), 'sync_snapshots_id': 4430}
2025-11-05 01:07:08,689 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,691 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,691 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.id = %(pk_1)s
2025-11-05 01:07:08,691 INFO sqlalchemy.engine.Engine: [cached since 11.2s ago] {'pk_1': 4430}
2025-11-05 01:07:08,693 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:08,693 INFO sqlalchemy.engine.Engine: [cached since 5.079s ago] {'pk_1': 103}
2025-11-05 01:07:08,694 INFO sqlalchemy.engine.Engine: UPDATE cloud_providers SET last_sync=%(last_sync)s, sync_status=%(sync_status)s, sync_error=%(sync_error)s, updated_at=%(updated_at)s WHERE cloud_providers.id = %(cloud_providers_id)s
2025-11-05 01:07:08,694 INFO sqlalchemy.engine.Engine: [cached since 5.078s ago] {'last_sync': datetime.datetime(2025, 11, 5, 1, 7, 8, 692571), 'sync_status': 'success', 'sync_error': None, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 694633), 'cloud_providers_id': 103}
2025-11-05 01:07:08,695 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,696 INFO app.providers.sync_orchestrator.SyncOrchestrator: Sync completed for provider 103: Successfully synced 8 resources (0 clusters, 6 VMs, 0 disks, 0 snapshots, 0 images, 1 reserved IPs, 0 load balancers, 1 registries, 0 DNS zones) - estimated cost: 1051.04 ₽/day
2025-11-05 01:07:08,697 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,697 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:08,697 INFO sqlalchemy.engine.Engine: [cached since 14.31s ago] {'pk_1': 103}
2025-11-05 01:07:08,698 INFO app.core.services.complete_sync_service.CompleteSyncService: Provider Punch synced successfully: 8 resources, 1051.04 RUB
2025-11-05 01:07:08,700 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.id = %(pk_1)s
2025-11-05 01:07:08,701 INFO sqlalchemy.engine.Engine: [generated in 0.00030s] {'pk_1': 1098}
2025-11-05 01:07:08,703 INFO sqlalchemy.engine.Engine: UPDATE complete_syncs SET sync_status=%(sync_status)s, sync_completed_at=%(sync_completed_at)s, successful_providers=%(successful_providers)s, failed_providers=%(failed_providers)s, total_resources_found=%(total_resources_found)s, total_monthly_cost=%(total_monthly_cost)s, total_daily_cost=%(total_daily_cost)s, cost_by_provider=%(cost_by_provider)s, resources_by_provider=%(resources_by_provider)s, updated_at=%(updated_at)s WHERE complete_syncs.id = %(complete_syncs_id)s
2025-11-05 01:07:08,703 INFO sqlalchemy.engine.Engine: [generated in 0.00037s] {'sync_status': 'success', 'sync_completed_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 699098), 'successful_providers': 2, 'failed_providers': 0, 'total_resources_found': 44, 'total_monthly_cost': 149582.7, 'total_daily_cost': 4986.09, 'cost_by_provider': '{"ITL.Team": 3935.05, "Punch": 1051.04}', 'resources_by_provider': '{"ITL.Team": 36, "Punch": 8}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 703104), 'complete_syncs_id': 1098}
2025-11-05 01:07:08,704 INFO sqlalchemy.engine.Engine: INSERT INTO provider_sync_references (complete_sync_id, provider_id, sync_snapshot_id, sync_order, sync_status, sync_duration_seconds, resources_synced, provider_cost, error_message, error_details, created_at, updated_at) VALUES (%(complete_sync_id)s, %(provider_id)s, %(sync_snapshot_id)s, %(sync_order)s, %(sync_status)s, %(sync_duration_seconds)s, %(resources_synced)s, %(provider_cost)s, %(error_message)s, %(error_details)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:08,704 INFO sqlalchemy.engine.Engine: [cached since 5.083s ago] {'complete_sync_id': 1098, 'provider_id': 103, 'sync_snapshot_id': 4430, 'sync_order': 2, 'sync_status': 'success', 'sync_duration_seconds': 0, 'resources_synced': 8, 'provider_cost': 1051.04, 'error_message': None, 'error_details': None, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 704762), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 704766)}
2025-11-05 01:07:08,706 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.id = %(pk_1)s
2025-11-05 01:07:08,706 INFO sqlalchemy.engine.Engine: [cached since 0.005447s ago] {'pk_1': 1098}
2025-11-05 01:07:08,707 INFO sqlalchemy.engine.Engine: UPDATE complete_syncs SET sync_duration_seconds=%(sync_duration_seconds)s, updated_at=%(updated_at)s WHERE complete_syncs.id = %(complete_syncs_id)s
2025-11-05 01:07:08,707 INFO sqlalchemy.engine.Engine: [generated in 0.00026s] {'sync_duration_seconds': 14, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 707755), 'complete_syncs_id': 1098}
2025-11-05 01:07:08,708 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,710 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,710 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.id = %(pk_1)s
2025-11-05 01:07:08,710 INFO sqlalchemy.engine.Engine: [cached since 14.32s ago] {'pk_1': 1098}
2025-11-05 01:07:08,712 INFO app.core.services.complete_sync_service.CompleteSyncService: Complete sync 1098 completed: success
2025-11-05 01:07:08,712 INFO app.core.services.complete_sync_service.CompleteSyncService: Running recommendations orchestrator for complete_sync 1098
2025-11-05 01:07:08,723 INFO sqlalchemy.engine.Engine: SELECT provider_sync_references.complete_sync_id AS provider_sync_references_complete_sync_id, provider_sync_references.provider_id AS provider_sync_references_provider_id, provider_sync_references.sync_snapshot_id AS provider_sync_references_sync_snapshot_id, provider_sync_references.sync_order AS provider_sync_references_sync_order, provider_sync_references.sync_status AS provider_sync_references_sync_status, provider_sync_references.sync_duration_seconds AS provider_sync_references_sync_duration_seconds, provider_sync_references.resources_synced AS provider_sync_references_resources_synced, provider_sync_references.provider_cost AS provider_sync_references_provider_cost, provider_sync_references.error_message AS provider_sync_references_error_message, provider_sync_references.error_details AS provider_sync_references_error_details, provider_sync_references.id AS provider_sync_references_id, provider_sync_references.created_at AS provider_sync_references_created_at, provider_sync_references.updated_at AS provider_sync_references_updated_at 
FROM provider_sync_references 
WHERE provider_sync_references.complete_sync_id = %(complete_sync_id_1)s
2025-11-05 01:07:08,724 INFO sqlalchemy.engine.Engine: [generated in 0.00022s] {'complete_sync_id_1': 1098}
2025-11-05 01:07:08,726 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id IN (%(provider_id_1_1)s, %(provider_id_1_2)s)
2025-11-05 01:07:08,727 INFO sqlalchemy.engine.Engine: [generated in 0.00021s] {'provider_id_1_1': 102, 'provider_id_1_2': 103}
2025-11-05 01:07:08,733 INFO sqlalchemy.engine.Engine: SELECT recommendation_rule_settings.rule_id AS recommendation_rule_settings_rule_id, recommendation_rule_settings.scope AS recommendation_rule_settings_scope, recommendation_rule_settings.provider_type AS recommendation_rule_settings_provider_type, recommendation_rule_settings.resource_type AS recommendation_rule_settings_resource_type, recommendation_rule_settings.enabled AS recommendation_rule_settings_enabled, recommendation_rule_settings.description AS recommendation_rule_settings_description, recommendation_rule_settings.id AS recommendation_rule_settings_id, recommendation_rule_settings.created_at AS recommendation_rule_settings_created_at, recommendation_rule_settings.updated_at AS recommendation_rule_settings_updated_at 
FROM recommendation_rule_settings
2025-11-05 01:07:08,733 INFO sqlalchemy.engine.Engine: [generated in 0.00014s] {}
2025-11-05 01:07:08,734 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:08,735 INFO sqlalchemy.engine.Engine: [cached since 14.34s ago] {'pk_1': 102}
2025-11-05 01:07:08,736 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,737 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:08,737 INFO sqlalchemy.engine.Engine: [generated in 0.00012s] {'param_1': 996}
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=996 outputs=0 created=0 updated=0 duration_ms=2
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,738 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,738 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (kubernetes node) | res_id=996 name=cl1etc88oikj3sh8mkro-ydas cluster=itlkube
2025-11-05 01:07:08,739 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=996 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:08,739 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,739 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,739 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=996 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:08,739 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=996 rtype=server
2025-11-05 01:07:08,739 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,739 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:08,739 INFO sqlalchemy.engine.Engine: [cached since 0.002764s ago] {'param_1': 997}
2025-11-05 01:07:08,740 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=997 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:08,740 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,741 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,741 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,741 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,741 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,741 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,741 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=997 name=voluxprod vcpu=2 mem_gib=2.0 region=ru-central1-b
2025-11-05 01:07:08,742 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:08,742 INFO sqlalchemy.engine.Engine: [generated in 0.00011s] {'user_id_1': 35}
2025-11-05 01:07:08,743 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:08,745 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:08,746 INFO sqlalchemy.engine.Engine: [generated in 0.00019s] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:08,757 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:08,757 INFO sqlalchemy.engine.Engine: [generated in 0.00018s] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:08,783 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:08,783 INFO sqlalchemy.engine.Engine: [generated in 0.00020s] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:08,819 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=997 total_prices=368 region_filtered=244
2025-11-05 01:07:08,819 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=997 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:08,824 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:08,824 INFO sqlalchemy.engine.Engine: [generated in 0.00028s] {'resource_id_1': 997, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:08,826 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (alternative more expensive) | res_id=997 rec_monthly=2122.84 current_monthly=1589.10
2025-11-05 01:07:08,826 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=997 outputs=0 created=0 updated=0 duration_ms=85
2025-11-05 01:07:08,826 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,827 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,827 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=997 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:08,827 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=997 rtype=server
2025-11-05 01:07:08,827 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,827 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:08,827 INFO sqlalchemy.engine.Engine: [cached since 0.09082s ago] {'param_1': 998}
2025-11-05 01:07:08,828 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=998 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:08,828 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,828 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,828 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,829 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,829 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,829 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,829 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (resource stopped) | res_id=998 name=volux status=STOPPED
2025-11-05 01:07:08,829 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=998 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:08,829 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,829 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,830 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,830 INFO sqlalchemy.engine.Engine: [generated in 0.00012s] {'resource_id_1': 998, 'recommendation_type_1': 'cleanup_stopped', 'source_1': 'cost.cleanup.stopped_resources', 'param_1': 1}
2025-11-05 01:07:08,832 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:08,833 INFO sqlalchemy.engine.Engine: [generated in 0.00022s] {'resource_id': 998, 'provider_id': 102, 'recommendation_type': 'cleanup_stopped', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить остановленный сервер', 'description': "Сервер 'volux' остановлен и продолжает тарифицироваться за хранилище (~158.40 RUB/мес). Если сервер больше не нужен, рекомендуется удалить его для экономии средств. Перед удалением убедитесь, что важные данные сохранены.", 'source': 'cost.cleanup.stopped_resources', 'resource_type': 'server', 'resource_name': 'volux', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 158.4, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.8, 'metrics_snapshot': "{'status': 'STOPPED', 'storage_cost_monthly': 158.4}", 'insights': "{'action': 'delete', 'reason': 'stopped_unused', 'storage_only_cost': True}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 8, 831680), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 8, 831682), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 832864), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 832866)}
2025-11-05 01:07:08,834 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,836 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,836 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:08,836 INFO sqlalchemy.engine.Engine: [generated in 0.00013s] {'pk_1': 1059}
2025-11-05 01:07:08,837 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1059
2025-11-05 01:07:08,906 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1059: name 'Тип' is not defined
2025-11-05 01:07:08,907 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:08,907 INFO sqlalchemy.engine.Engine: [cached since 9.662s ago] {'pk_1': 998}
2025-11-05 01:07:08,907 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=998 outputs=1 created=1 updated=0 duration_ms=77
2025-11-05 01:07:08,908 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:08,908 INFO sqlalchemy.engine.Engine: [cached since 14.52s ago] {'pk_1': 102}
2025-11-05 01:07:08,908 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=998 rtype=server
2025-11-05 01:07:08,908 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:08,908 INFO sqlalchemy.engine.Engine: [cached since 9.663s ago] {'pk_1': 999}
2025-11-05 01:07:08,909 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,909 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:08,909 INFO sqlalchemy.engine.Engine: [cached since 0.1724s ago] {'param_1': 999}
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=999 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,910 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:08,910 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=999 name=office vcpu=4 mem_gib=8.0 region=ru-central1-b
2025-11-05 01:07:08,910 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:08,910 INFO sqlalchemy.engine.Engine: [cached since 0.1683s ago] {'user_id_1': 35}
2025-11-05 01:07:08,911 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:08,911 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:08,911 INFO sqlalchemy.engine.Engine: [cached since 0.1657s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:08,918 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:08,918 INFO sqlalchemy.engine.Engine: [cached since 0.1615s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:08,939 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:08,939 INFO sqlalchemy.engine.Engine: [cached since 0.1563s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:08,967 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=999 total_prices=374 region_filtered=256
2025-11-05 01:07:08,967 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=999 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:08,969 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:08,969 INFO sqlalchemy.engine.Engine: [cached since 0.1452s ago] {'resource_id_1': 999, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:08,970 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate | res_id=999 best_price_id=12693 score=1.00 target_monthly=5349.44 current_monthly=5610.30 savings=260.86 min_abs=112.21
2025-11-05 01:07:08,971 INFO sqlalchemy.engine.Engine: SELECT price_comparison_recommendations.user_id AS price_comparison_recommendations_user_id, price_comparison_recommendations.current_resource_id AS price_comparison_recommendations_current_resource_id, price_comparison_recommendations.recommended_price_id AS price_comparison_recommendations_recommended_price_id, price_comparison_recommendations.similarity_score AS price_comparison_recommendations_similarity_score, price_comparison_recommendations.monthly_savings AS price_comparison_recommendations_monthly_savings, price_comparison_recommendations.annual_savings AS price_comparison_recommendations_annual_savings, price_comparison_recommendations.savings_percent AS price_comparison_recommendations_savings_percent, price_comparison_recommendations.migration_effort AS price_comparison_recommendations_migration_effort, price_comparison_recommendations.migration_notes AS price_comparison_recommendations_migration_notes, price_comparison_recommendations.status AS price_comparison_recommendations_status, price_comparison_recommendations.user_feedback AS price_comparison_recommendations_user_feedback, price_comparison_recommendations.id AS price_comparison_recommendations_id, price_comparison_recommendations.created_at AS price_comparison_recommendations_created_at, price_comparison_recommendations.updated_at AS price_comparison_recommendations_updated_at 
FROM price_comparison_recommendations 
WHERE price_comparison_recommendations.user_id = %(user_id_1)s AND price_comparison_recommendations.current_resource_id = %(current_resource_id_1)s AND price_comparison_recommendations.recommended_price_id = %(recommended_price_id_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,971 INFO sqlalchemy.engine.Engine: [generated in 0.00008s] {'user_id_1': 35, 'current_resource_id_1': 999, 'recommended_price_id_1': 12693, 'param_1': 1}
2025-11-05 01:07:08,973 INFO sqlalchemy.engine.Engine: UPDATE price_comparison_recommendations SET monthly_savings=%(monthly_savings)s, annual_savings=%(annual_savings)s, savings_percent=%(savings_percent)s, updated_at=%(updated_at)s WHERE price_comparison_recommendations.id = %(price_comparison_recommendations_id)s
2025-11-05 01:07:08,973 INFO sqlalchemy.engine.Engine: [generated in 0.00008s] {'monthly_savings': 260.86, 'annual_savings': 3130.32, 'savings_percent': 4.65, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 973084), 'price_comparison_recommendations_id': 207}
2025-11-05 01:07:08,974 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:08,974 INFO sqlalchemy.engine.Engine: [generated in 0.00007s] {'resource_id_1': 999, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'target_provider_1': 'selectel', 'target_sku_1': 'v4-r8-d100-network_ssd:ru-6a', 'param_1': 1}
2025-11-05 01:07:08,974 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:08,974 INFO sqlalchemy.engine.Engine: [cached since 0.142s ago] {'resource_id': 999, 'provider_id': 102, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый аналог у другого провайдера', 'description': 'Найдено сопоставимое предложение у selectel (ru-6a) примерно за 5349 RUB/мес. Текущая стоимость ~5610 RUB.', 'source': 'cost.price_check.cross_provider', 'resource_type': 'server', 'resource_name': 'office', 'target_provider': 'selectel', 'target_sku': 'v4-r8-d100-network_ssd:ru-6a', 'target_region': 'ru-6a', 'potential_savings': 0.0, 'estimated_monthly_savings': 260.86, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'similarity': 1.0, 'target_monthly': 5349.44, 'current_monthly': 5610.299999999999}", 'insights': "{'recommended_provider': 'selectel', 'recommended_region': 'ru-6a', 'recommended_sku': 'v4-r8-d100-network_ssd:ru-6a', 'recommended_price_id': 12693, ... (159 characters truncated) ... d': 12693}, {'provider': 'selectel', 'region': 'ru-1a', 'sku': 'v4-r8-d100-network_ssd:ru-1a', 'monthly': 5461.57, 'score': 1.0, 'price_id': 10005}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 8, 974612), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 8, 974613), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 974797), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 8, 974798)}
2025-11-05 01:07:08,975 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:08,975 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:08,976 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:08,976 INFO sqlalchemy.engine.Engine: [cached since 0.1394s ago] {'pk_1': 1060}
2025-11-05 01:07:08,976 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1060
2025-11-05 01:07:13,589 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1060 (model: openai/gpt-4o-mini, tokens: 1000)
2025-11-05 01:07:13,591 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:13,591 INFO sqlalchemy.engine.Engine: [generated in 0.00022s] {'ai_short_description': "<span class='provider-name'>selectel</span> предлагает аналог за <strong>5,349 ₽/мес</strong> вместо текущих <strong>5,610 ₽/мес</strong>", 'ai_detailed_description': "Экономия <strong>261 ₽/мес</strong> при переносе сервера <strong>office</strong> в <span class='provider-name'>selectel</span>. Схожая конфигурация (4 CPU, 8.0 GB RAM, 92.0 GB HD) там стоит <strong>5,349 ₽/мес</strong>.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 13, 590451), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 13, 591382), 'optimization_recommendations_id': 1060}
2025-11-05 01:07:13,592 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:13,595 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:13,595 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:13,595 INFO sqlalchemy.engine.Engine: [cached since 4.759s ago] {'pk_1': 1060}
2025-11-05 01:07:13,597 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1060
2025-11-05 01:07:13,597 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:13,597 INFO sqlalchemy.engine.Engine: [cached since 14.35s ago] {'pk_1': 999}
2025-11-05 01:07:13,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=999 outputs=1 created=1 updated=0 duration_ms=4686
2025-11-05 01:07:13,598 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:13,598 INFO sqlalchemy.engine.Engine: [cached since 19.21s ago] {'pk_1': 102}
2025-11-05 01:07:13,599 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:13,599 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:13,599 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=999 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:13,599 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=999 rtype=server
2025-11-05 01:07:13,599 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:13,600 INFO sqlalchemy.engine.Engine: [cached since 14.35s ago] {'pk_1': 1000}
2025-11-05 01:07:13,601 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,601 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:13,601 INFO sqlalchemy.engine.Engine: [cached since 4.864s ago] {'param_1': 1000}
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1000 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,602 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (kubernetes node) | res_id=1000 name=cl1etc88oikj3sh8mkro-edup cluster=itlkube
2025-11-05 01:07:13,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1000 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:13,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1000 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:13,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1000 rtype=server
2025-11-05 01:07:13,603 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:13,603 INFO sqlalchemy.engine.Engine: [cached since 14.36s ago] {'pk_1': 1001}
2025-11-05 01:07:13,604 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,604 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:13,604 INFO sqlalchemy.engine.Engine: [cached since 4.868s ago] {'param_1': 1001}
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1001 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:13,606 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1001 name=gitlab vcpu=4 mem_gib=12.0 region=ru-central1-b
2025-11-05 01:07:13,606 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:13,607 INFO sqlalchemy.engine.Engine: [cached since 4.865s ago] {'user_id_1': 35}
2025-11-05 01:07:13,608 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:13,608 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:13,608 INFO sqlalchemy.engine.Engine: [cached since 4.863s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 9.600000000000001, 'ram_gb_2': 15.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:13,616 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:13,616 INFO sqlalchemy.engine.Engine: [cached since 4.859s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 9.600000000000001, 'ram_gb_2': 15.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:13,637 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:13,637 INFO sqlalchemy.engine.Engine: [cached since 4.854s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 9.600000000000001, 'ram_gb_2': 15.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:13,669 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1001 total_prices=298 region_filtered=204
2025-11-05 01:07:13,669 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1001 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:13,673 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:13,673 INFO sqlalchemy.engine.Engine: [cached since 4.849s ago] {'resource_id_1': 1001, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:13,674 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate | res_id=1001 best_price_id=18993 score=1.00 target_monthly=10096.19 current_monthly=12664.20 savings=2568.01 min_abs=253.28
2025-11-05 01:07:13,675 INFO sqlalchemy.engine.Engine: SELECT price_comparison_recommendations.user_id AS price_comparison_recommendations_user_id, price_comparison_recommendations.current_resource_id AS price_comparison_recommendations_current_resource_id, price_comparison_recommendations.recommended_price_id AS price_comparison_recommendations_recommended_price_id, price_comparison_recommendations.similarity_score AS price_comparison_recommendations_similarity_score, price_comparison_recommendations.monthly_savings AS price_comparison_recommendations_monthly_savings, price_comparison_recommendations.annual_savings AS price_comparison_recommendations_annual_savings, price_comparison_recommendations.savings_percent AS price_comparison_recommendations_savings_percent, price_comparison_recommendations.migration_effort AS price_comparison_recommendations_migration_effort, price_comparison_recommendations.migration_notes AS price_comparison_recommendations_migration_notes, price_comparison_recommendations.status AS price_comparison_recommendations_status, price_comparison_recommendations.user_feedback AS price_comparison_recommendations_user_feedback, price_comparison_recommendations.id AS price_comparison_recommendations_id, price_comparison_recommendations.created_at AS price_comparison_recommendations_created_at, price_comparison_recommendations.updated_at AS price_comparison_recommendations_updated_at 
FROM price_comparison_recommendations 
WHERE price_comparison_recommendations.user_id = %(user_id_1)s AND price_comparison_recommendations.current_resource_id = %(current_resource_id_1)s AND price_comparison_recommendations.recommended_price_id = %(recommended_price_id_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:13,675 INFO sqlalchemy.engine.Engine: [cached since 4.704s ago] {'user_id_1': 35, 'current_resource_id_1': 1001, 'recommended_price_id_1': 18993, 'param_1': 1}
2025-11-05 01:07:13,676 INFO sqlalchemy.engine.Engine: UPDATE price_comparison_recommendations SET monthly_savings=%(monthly_savings)s, annual_savings=%(annual_savings)s, savings_percent=%(savings_percent)s, updated_at=%(updated_at)s WHERE price_comparison_recommendations.id = %(price_comparison_recommendations_id)s
2025-11-05 01:07:13,676 INFO sqlalchemy.engine.Engine: [cached since 4.704s ago] {'monthly_savings': 2568.01, 'annual_savings': 30816.12, 'savings_percent': 20.28, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 13, 676872), 'price_comparison_recommendations_id': 208}
2025-11-05 01:07:13,677 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:13,677 INFO sqlalchemy.engine.Engine: [cached since 4.704s ago] {'resource_id_1': 1001, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'target_provider_1': 'selectel', 'target_sku_1': 'v4-r12-d512-network_ssd:ru-6a', 'param_1': 1}
2025-11-05 01:07:13,679 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:13,679 INFO sqlalchemy.engine.Engine: [cached since 4.846s ago] {'resource_id': 1001, 'provider_id': 102, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый аналог у другого провайдера', 'description': 'Найдено сопоставимое предложение у selectel (ru-6a) примерно за 10096 RUB/мес. Текущая стоимость ~12664 RUB.', 'source': 'cost.price_check.cross_provider', 'resource_type': 'server', 'resource_name': 'gitlab', 'target_provider': 'selectel', 'target_sku': 'v4-r12-d512-network_ssd:ru-6a', 'target_region': 'ru-6a', 'potential_savings': 0.0, 'estimated_monthly_savings': 2568.01, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'similarity': 1.0, 'target_monthly': 10096.19, 'current_monthly': 12664.199999999999}", 'insights': "{'recommended_provider': 'selectel', 'recommended_region': 'ru-6a', 'recommended_sku': 'v4-r12-d512-network_ssd:ru-6a', 'recommended_price_id': 18993 ... (164 characters truncated) ... : 18993}, {'provider': 'selectel', 'region': 'ru-1a', 'sku': 'v4-r12-d512-network_ssd:ru-1a', 'monthly': 10264.38, 'score': 1.0, 'price_id': 18417}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 13, 678734), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 13, 678735), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 13, 679075), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 13, 679077)}
2025-11-05 01:07:13,679 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:13,682 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:13,682 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:13,682 INFO sqlalchemy.engine.Engine: [cached since 4.846s ago] {'pk_1': 1061}
2025-11-05 01:07:13,683 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1061
2025-11-05 01:07:17,699 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1061 (model: openai/gpt-4o-mini, tokens: 1011)
2025-11-05 01:07:17,701 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:17,702 INFO sqlalchemy.engine.Engine: [cached since 4.111s ago] {'ai_short_description': "<span class='provider-name'>selectel</span> предлагает аналог за <strong>10,096 ₽/мес</strong> вместо текущих <strong>12,664 ₽/мес</strong>", 'ai_detailed_description': "Экономия <strong>2,568 ₽/мес</strong> при переносе сервера <strong>gitlab</strong> в <span class='provider-name'>selectel</span>. Схожая конфигурация (4 CPU, 12.0 GB RAM, 512.0 GB HD) там стоит <strong>10,096 ₽/мес</strong>.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 17, 700957), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 17, 701763), 'optimization_recommendations_id': 1061}
2025-11-05 01:07:17,703 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:17,706 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:17,707 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:17,707 INFO sqlalchemy.engine.Engine: [cached since 8.87s ago] {'pk_1': 1061}
2025-11-05 01:07:17,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1061
2025-11-05 01:07:17,709 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:17,709 INFO sqlalchemy.engine.Engine: [cached since 18.46s ago] {'pk_1': 1001}
2025-11-05 01:07:17,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1001 outputs=1 created=1 updated=0 duration_ms=4102
2025-11-05 01:07:17,711 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:17,711 INFO sqlalchemy.engine.Engine: [cached since 23.32s ago] {'pk_1': 102}
2025-11-05 01:07:17,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:17,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:17,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1001 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:17,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1001 rtype=server
2025-11-05 01:07:17,713 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:17,713 INFO sqlalchemy.engine.Engine: [cached since 18.47s ago] {'pk_1': 1002}
2025-11-05 01:07:17,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,715 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:17,716 INFO sqlalchemy.engine.Engine: [cached since 8.979s ago] {'param_1': 1002}
2025-11-05 01:07:17,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1002 outputs=0 created=0 updated=0 duration_ms=2
2025-11-05 01:07:17,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,719 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1002 name=sphinx vcpu=2 mem_gib=4.0 region=ru-central1-b
2025-11-05 01:07:17,719 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:17,719 INFO sqlalchemy.engine.Engine: [cached since 8.978s ago] {'user_id_1': 35}
2025-11-05 01:07:17,721 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:17,722 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:17,722 INFO sqlalchemy.engine.Engine: [cached since 8.977s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 3.2, 'ram_gb_2': 5.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:17,730 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:17,730 INFO sqlalchemy.engine.Engine: [cached since 8.973s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 3.2, 'ram_gb_2': 5.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:17,754 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:17,754 INFO sqlalchemy.engine.Engine: [cached since 8.971s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 3.2, 'ram_gb_2': 5.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:17,792 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1002 total_prices=362 region_filtered=244
2025-11-05 01:07:17,793 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1002 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:17,797 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:17,797 INFO sqlalchemy.engine.Engine: [cached since 8.973s ago] {'resource_id_1': 1002, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:17,799 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (alternative more expensive) | res_id=1002 rec_monthly=3662.85 current_monthly=1346.10
2025-11-05 01:07:17,799 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1002 outputs=0 created=0 updated=0 duration_ms=81
2025-11-05 01:07:17,799 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,799 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,800 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1002 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:17,800 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1002 rtype=server
2025-11-05 01:07:17,800 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:17,800 INFO sqlalchemy.engine.Engine: [cached since 18.56s ago] {'pk_1': 1003}
2025-11-05 01:07:17,801 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,801 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:17,802 INFO sqlalchemy.engine.Engine: [cached since 9.065s ago] {'param_1': 1003}
2025-11-05 01:07:17,802 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1003 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (resource stopped) | res_id=1003 name=r7 status=STOPPED
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1003 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,803 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,804 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:17,804 INFO sqlalchemy.engine.Engine: [cached since 8.973s ago] {'resource_id_1': 1003, 'recommendation_type_1': 'cleanup_stopped', 'source_1': 'cost.cleanup.stopped_resources', 'param_1': 1}
2025-11-05 01:07:17,805 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:17,805 INFO sqlalchemy.engine.Engine: [cached since 8.973s ago] {'resource_id': 1003, 'provider_id': 102, 'recommendation_type': 'cleanup_stopped', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить остановленный сервер', 'description': "Сервер 'r7' остановлен и продолжает тарифицироваться за хранилище (~158.40 RUB/мес). Если сервер больше не нужен, рекомендуется удалить его для экономии средств. Перед удалением убедитесь, что важные данные сохранены.", 'source': 'cost.cleanup.stopped_resources', 'resource_type': 'server', 'resource_name': 'r7', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 158.4, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.8, 'metrics_snapshot': "{'status': 'STOPPED', 'storage_cost_monthly': 158.4}", 'insights': "{'action': 'delete', 'reason': 'stopped_unused', 'storage_only_cost': True}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 17, 804990), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 17, 804991), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 17, 805449), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 17, 805451)}
2025-11-05 01:07:17,806 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:17,807 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:17,808 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:17,808 INFO sqlalchemy.engine.Engine: [cached since 8.971s ago] {'pk_1': 1062}
2025-11-05 01:07:17,809 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1062
2025-11-05 01:07:17,818 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1062: name 'Тип' is not defined
2025-11-05 01:07:17,819 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:17,819 INFO sqlalchemy.engine.Engine: [cached since 18.57s ago] {'pk_1': 1003}
2025-11-05 01:07:17,820 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1003 outputs=1 created=1 updated=0 duration_ms=15
2025-11-05 01:07:17,820 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:17,820 INFO sqlalchemy.engine.Engine: [cached since 23.43s ago] {'pk_1': 102}
2025-11-05 01:07:17,821 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1003 rtype=server
2025-11-05 01:07:17,821 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:17,821 INFO sqlalchemy.engine.Engine: [cached since 18.58s ago] {'pk_1': 1004}
2025-11-05 01:07:17,822 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,822 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:17,822 INFO sqlalchemy.engine.Engine: [cached since 9.086s ago] {'param_1': 1004}
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1004 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,823 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:17,823 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1004 name=gateway vcpu=2 mem_gib=2.0 region=ru-central1-b
2025-11-05 01:07:17,824 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:17,824 INFO sqlalchemy.engine.Engine: [cached since 9.082s ago] {'user_id_1': 35}
2025-11-05 01:07:17,824 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:17,825 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:17,825 INFO sqlalchemy.engine.Engine: [cached since 9.08s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:17,829 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:17,829 INFO sqlalchemy.engine.Engine: [cached since 9.072s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:17,843 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:17,843 INFO sqlalchemy.engine.Engine: [cached since 9.06s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:17,908 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1004 total_prices=368 region_filtered=244
2025-11-05 01:07:17,908 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1004 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:17,910 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:17,910 INFO sqlalchemy.engine.Engine: [cached since 9.086s ago] {'resource_id_1': 1004, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:17,911 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate | res_id=1004 best_price_id=12616 score=1.00 target_monthly=1831.77 current_monthly=2286.90 savings=455.13 min_abs=100.00
2025-11-05 01:07:17,911 INFO sqlalchemy.engine.Engine: SELECT price_comparison_recommendations.user_id AS price_comparison_recommendations_user_id, price_comparison_recommendations.current_resource_id AS price_comparison_recommendations_current_resource_id, price_comparison_recommendations.recommended_price_id AS price_comparison_recommendations_recommended_price_id, price_comparison_recommendations.similarity_score AS price_comparison_recommendations_similarity_score, price_comparison_recommendations.monthly_savings AS price_comparison_recommendations_monthly_savings, price_comparison_recommendations.annual_savings AS price_comparison_recommendations_annual_savings, price_comparison_recommendations.savings_percent AS price_comparison_recommendations_savings_percent, price_comparison_recommendations.migration_effort AS price_comparison_recommendations_migration_effort, price_comparison_recommendations.migration_notes AS price_comparison_recommendations_migration_notes, price_comparison_recommendations.status AS price_comparison_recommendations_status, price_comparison_recommendations.user_feedback AS price_comparison_recommendations_user_feedback, price_comparison_recommendations.id AS price_comparison_recommendations_id, price_comparison_recommendations.created_at AS price_comparison_recommendations_created_at, price_comparison_recommendations.updated_at AS price_comparison_recommendations_updated_at 
FROM price_comparison_recommendations 
WHERE price_comparison_recommendations.user_id = %(user_id_1)s AND price_comparison_recommendations.current_resource_id = %(current_resource_id_1)s AND price_comparison_recommendations.recommended_price_id = %(recommended_price_id_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:17,911 INFO sqlalchemy.engine.Engine: [cached since 8.941s ago] {'user_id_1': 35, 'current_resource_id_1': 1004, 'recommended_price_id_1': 12616, 'param_1': 1}
2025-11-05 01:07:17,912 INFO sqlalchemy.engine.Engine: UPDATE price_comparison_recommendations SET monthly_savings=%(monthly_savings)s, annual_savings=%(annual_savings)s, savings_percent=%(savings_percent)s, updated_at=%(updated_at)s WHERE price_comparison_recommendations.id = %(price_comparison_recommendations_id)s
2025-11-05 01:07:17,912 INFO sqlalchemy.engine.Engine: [cached since 8.94s ago] {'monthly_savings': 455.13, 'annual_savings': 5461.56, 'savings_percent': 19.9, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 17, 912813), 'price_comparison_recommendations_id': 209}
2025-11-05 01:07:17,913 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:17,913 INFO sqlalchemy.engine.Engine: [cached since 8.939s ago] {'resource_id_1': 1004, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'target_provider_1': 'selectel', 'target_sku_1': 'v2-r2-d10-hdd:ru-6a', 'param_1': 1}
2025-11-05 01:07:17,914 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:17,914 INFO sqlalchemy.engine.Engine: [cached since 9.081s ago] {'resource_id': 1004, 'provider_id': 102, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый аналог у другого провайдера', 'description': 'Найдено сопоставимое предложение у selectel (ru-6a) примерно за 1831 RUB/мес. Текущая стоимость ~2286 RUB.', 'source': 'cost.price_check.cross_provider', 'resource_type': 'server', 'resource_name': 'gateway', 'target_provider': 'selectel', 'target_sku': 'v2-r2-d10-hdd:ru-6a', 'target_region': 'ru-6a', 'potential_savings': 0.0, 'estimated_monthly_savings': 455.13, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'similarity': 1.0, 'target_monthly': 1831.77, 'current_monthly': 2286.9}", 'insights': "{'recommended_provider': 'selectel', 'recommended_region': 'ru-6a', 'recommended_sku': 'v2-r2-d10-hdd:ru-6a', 'recommended_price_id': 12616, 'specs_u ... (132 characters truncated) ...  'price_id': 12616}, {'provider': 'selectel', 'region': 'ru-1c', 'sku': 'v2-r2-d10-hdd:ru-1c', 'monthly': 1859.81, 'score': 1.0, 'price_id': 10600}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 17, 913865), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 17, 913866), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 17, 914071), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 17, 914072)}
2025-11-05 01:07:17,914 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:17,915 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:17,915 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:17,915 INFO sqlalchemy.engine.Engine: [cached since 9.079s ago] {'pk_1': 1063}
2025-11-05 01:07:17,916 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1063
2025-11-05 01:07:22,126 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1063 (model: openai/gpt-4o-mini, tokens: 1006)
2025-11-05 01:07:22,128 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:22,128 INFO sqlalchemy.engine.Engine: [cached since 8.538s ago] {'ai_short_description': "<span class='provider-name'>selectel</span> предлагает аналог за <strong>1,832 ₽/мес</strong> вместо текущих <strong>2,287 ₽/мес</strong>", 'ai_detailed_description': "Экономия <strong>455 ₽/мес</strong> при переносе сервера <strong>gateway</strong> в <span class='provider-name'>selectel</span>. Схожая конфигурация (2 CPU, 2.0 GB RAM, 10.0 GB HD) там стоит <strong>1,832 ₽/мес</strong>, что позволяет существенно сократить ваши расходы.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 22, 127794), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 22, 128592), 'optimization_recommendations_id': 1063}
2025-11-05 01:07:22,130 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:22,133 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:22,134 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:22,134 INFO sqlalchemy.engine.Engine: [cached since 13.3s ago] {'pk_1': 1063}
2025-11-05 01:07:22,136 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1063
2025-11-05 01:07:22,136 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,136 INFO sqlalchemy.engine.Engine: [cached since 22.89s ago] {'pk_1': 1004}
2025-11-05 01:07:22,138 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1004 outputs=1 created=1 updated=0 duration_ms=4312
2025-11-05 01:07:22,139 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:22,139 INFO sqlalchemy.engine.Engine: [cached since 27.75s ago] {'pk_1': 102}
2025-11-05 01:07:22,140 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:22,140 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:22,141 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1004 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,141 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1004 rtype=server
2025-11-05 01:07:22,141 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,141 INFO sqlalchemy.engine.Engine: [cached since 22.9s ago] {'pk_1': 1005}
2025-11-05 01:07:22,142 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,143 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,143 INFO sqlalchemy.engine.Engine: [cached since 13.41s ago] {'param_1': 1005}
2025-11-05 01:07:22,144 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1005 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:22,144 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,145 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,145 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,145 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,145 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,145 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,145 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1005 name=database vcpu=2 mem_gib=6.0 region=ru-central1-b
2025-11-05 01:07:22,146 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:22,146 INFO sqlalchemy.engine.Engine: [cached since 13.4s ago] {'user_id_1': 35}
2025-11-05 01:07:22,146 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:22,147 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:22,147 INFO sqlalchemy.engine.Engine: [cached since 13.4s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 4.800000000000001, 'ram_gb_2': 7.5, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,155 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:22,155 INFO sqlalchemy.engine.Engine: [cached since 13.4s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 4.800000000000001, 'ram_gb_2': 7.5, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,178 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:22,178 INFO sqlalchemy.engine.Engine: [cached since 13.4s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 4.800000000000001, 'ram_gb_2': 7.5, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,202 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1005 total_prices=0 region_filtered=0
2025-11-05 01:07:22,202 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1005 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:22,202 INFO app.core.recommendations.plugins.price_check_rule: price_check: no candidates for preferred region | res_id=1005 pref_region=ru-central1-b -> fallback to any region
2025-11-05 01:07:22,203 INFO app.core.recommendations.plugins.price_check_rule: price_check: no candidates | res_id=1005 min_score=0.80 specs_unknown=False
2025-11-05 01:07:22,203 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1005 outputs=0 created=0 updated=0 duration_ms=57
2025-11-05 01:07:22,203 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,203 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,203 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1005 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,203 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1005 rtype=server
2025-11-05 01:07:22,204 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,204 INFO sqlalchemy.engine.Engine: [cached since 22.96s ago] {'pk_1': 1006}
2025-11-05 01:07:22,205 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,206 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,206 INFO sqlalchemy.engine.Engine: [cached since 13.47s ago] {'param_1': 1006}
2025-11-05 01:07:22,207 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1006 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:22,207 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,207 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,207 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,208 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (kubernetes node) | res_id=1006 name=cl1etc88oikj3sh8mkro-ivad cluster=itlkube
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1006 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1006 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,208 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1006 rtype=server
2025-11-05 01:07:22,209 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,209 INFO sqlalchemy.engine.Engine: [cached since 22.96s ago] {'pk_1': 1007}
2025-11-05 01:07:22,210 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,210 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,210 INFO sqlalchemy.engine.Engine: [cached since 13.47s ago] {'param_1': 1007}
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1007 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,211 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (kubernetes node) | res_id=1007 name=cl192dme7q4gg4ne73d7-ubig cluster=itlkube
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1007 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,211 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,212 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,212 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1007 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,212 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1007 rtype=server
2025-11-05 01:07:22,212 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,212 INFO sqlalchemy.engine.Engine: [cached since 22.97s ago] {'pk_1': 1008}
2025-11-05 01:07:22,213 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,213 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,213 INFO sqlalchemy.engine.Engine: [cached since 13.48s ago] {'param_1': 1008}
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1008 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,214 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,215 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (kubernetes node) | res_id=1008 name=cl1hiol7irnqk6ieucmd-egop cluster=itlkube
2025-11-05 01:07:22,215 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1008 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,215 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,215 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,215 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1008 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,215 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1008 rtype=server
2025-11-05 01:07:22,215 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,215 INFO sqlalchemy.engine.Engine: [cached since 22.97s ago] {'pk_1': 1009}
2025-11-05 01:07:22,216 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,216 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,216 INFO sqlalchemy.engine.Engine: [cached since 13.48s ago] {'param_1': 1009}
2025-11-05 01:07:22,217 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1009 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:22,217 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,217 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,217 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,217 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,218 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,218 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,218 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1009 name=bookstack vcpu=2 mem_gib=4.0 region=ru-central1-b
2025-11-05 01:07:22,218 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:22,218 INFO sqlalchemy.engine.Engine: [cached since 13.48s ago] {'user_id_1': 35}
2025-11-05 01:07:22,219 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:22,219 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:22,219 INFO sqlalchemy.engine.Engine: [cached since 13.47s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 3.2, 'ram_gb_2': 5.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,223 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:22,223 INFO sqlalchemy.engine.Engine: [cached since 13.47s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 3.2, 'ram_gb_2': 5.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,232 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:22,232 INFO sqlalchemy.engine.Engine: [cached since 13.45s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 3.2, 'ram_gb_2': 5.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,259 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1009 total_prices=362 region_filtered=244
2025-11-05 01:07:22,259 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1009 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:22,262 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:22,262 INFO sqlalchemy.engine.Engine: [cached since 13.44s ago] {'resource_id_1': 1009, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:22,263 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (below threshold) | res_id=1009 savings=90.85 min_required=100.00
2025-11-05 01:07:22,263 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1009 outputs=0 created=0 updated=0 duration_ms=45
2025-11-05 01:07:22,263 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,263 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,263 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1009 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,264 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1009 rtype=server
2025-11-05 01:07:22,264 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,264 INFO sqlalchemy.engine.Engine: [cached since 23.02s ago] {'pk_1': 1010}
2025-11-05 01:07:22,265 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,265 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,265 INFO sqlalchemy.engine.Engine: [cached since 13.53s ago] {'param_1': 1010}
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1010 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,266 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,266 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1010 name=chartsstorage vcpu=4 mem_gib=8.0 region=ru-central1-b
2025-11-05 01:07:22,266 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:22,266 INFO sqlalchemy.engine.Engine: [cached since 13.52s ago] {'user_id_1': 35}
2025-11-05 01:07:22,267 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:22,267 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:22,267 INFO sqlalchemy.engine.Engine: [cached since 13.52s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,270 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:22,270 INFO sqlalchemy.engine.Engine: [cached since 13.51s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,277 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:22,277 INFO sqlalchemy.engine.Engine: [cached since 13.49s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:22,299 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1010 total_prices=374 region_filtered=256
2025-11-05 01:07:22,300 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1010 pref_region=ru-central1-b min_score=0.80
2025-11-05 01:07:22,302 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:22,302 INFO sqlalchemy.engine.Engine: [cached since 13.48s ago] {'resource_id_1': 1010, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:22,303 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (alternative more expensive) | res_id=1010 rec_monthly=13983.30 current_monthly=9464.40
2025-11-05 01:07:22,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1010 outputs=0 created=0 updated=0 duration_ms=37
2025-11-05 01:07:22,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1010 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1010 rtype=server
2025-11-05 01:07:22,303 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,304 INFO sqlalchemy.engine.Engine: [cached since 23.06s ago] {'pk_1': 1011}
2025-11-05 01:07:22,304 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,304 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,304 INFO sqlalchemy.engine.Engine: [cached since 13.57s ago] {'param_1': 1011}
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1011 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (kubernetes node) | res_id=1011 name=cl1etc88oikj3sh8mkro-amil cluster=itlkube
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1011 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1011 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,305 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1011 rtype=server
2025-11-05 01:07:22,305 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,306 INFO sqlalchemy.engine.Engine: [cached since 23.06s ago] {'pk_1': 1012}
2025-11-05 01:07:22,306 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,306 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:22,306 INFO sqlalchemy.engine.Engine: [cached since 13.57s ago] {'param_1': 1012}
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1012 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (resource stopped) | res_id=1012 name=duktusdemo status=STOPPED
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1012 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,307 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:22,308 INFO sqlalchemy.engine.Engine: [cached since 13.48s ago] {'resource_id_1': 1012, 'recommendation_type_1': 'cleanup_stopped', 'source_1': 'cost.cleanup.stopped_resources', 'param_1': 1}
2025-11-05 01:07:22,308 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:22,308 INFO sqlalchemy.engine.Engine: [cached since 13.48s ago] {'resource_id': 1012, 'provider_id': 102, 'recommendation_type': 'cleanup_stopped', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить остановленный сервер', 'description': "Сервер 'duktusdemo' остановлен и продолжает тарифицироваться за хранилище (~633.60 RUB/мес). Если сервер больше не нужен, рекомендуется удалить его для экономии средств. Перед удалением убедитесь, что важные данные сохранены.", 'source': 'cost.cleanup.stopped_resources', 'resource_type': 'server', 'resource_name': 'duktusdemo', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 633.6, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.8, 'metrics_snapshot': "{'status': 'STOPPED', 'storage_cost_monthly': 633.6}", 'insights': "{'action': 'delete', 'reason': 'stopped_unused', 'storage_only_cost': True}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 22, 308550), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 22, 308551), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 22, 308821), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 22, 308823)}
2025-11-05 01:07:22,309 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:22,310 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:22,310 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:22,310 INFO sqlalchemy.engine.Engine: [cached since 13.47s ago] {'pk_1': 1064}
2025-11-05 01:07:22,311 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1064
2025-11-05 01:07:22,317 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1064: name 'Тип' is not defined
2025-11-05 01:07:22,317 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,317 INFO sqlalchemy.engine.Engine: [cached since 23.07s ago] {'pk_1': 1012}
2025-11-05 01:07:22,318 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1012 outputs=1 created=1 updated=0 duration_ms=9
2025-11-05 01:07:22,318 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:22,318 INFO sqlalchemy.engine.Engine: [cached since 27.93s ago] {'pk_1': 102}
2025-11-05 01:07:22,318 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1012 rtype=server
2025-11-05 01:07:22,319 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,319 INFO sqlalchemy.engine.Engine: [cached since 23.07s ago] {'pk_1': 1013}
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,319 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1013 rtype=volume
2025-11-05 01:07:22,320 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,320 INFO sqlalchemy.engine.Engine: [cached since 23.07s ago] {'pk_1': 1014}
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,320 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1014 rtype=volume
2025-11-05 01:07:22,321 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,321 INFO sqlalchemy.engine.Engine: [cached since 23.08s ago] {'pk_1': 1015}
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,321 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1015 rtype=volume
2025-11-05 01:07:22,322 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,322 INFO sqlalchemy.engine.Engine: [cached since 23.08s ago] {'pk_1': 1016}
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,322 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,323 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,323 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,323 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,323 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1016 rtype=volume
2025-11-05 01:07:22,323 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,323 INFO sqlalchemy.engine.Engine: [cached since 23.08s ago] {'pk_1': 1017}
2025-11-05 01:07:22,323 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1017 rtype=volume
2025-11-05 01:07:22,324 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:22,324 INFO sqlalchemy.engine.Engine: [cached since 23.08s ago] {'pk_1': 1018}
2025-11-05 01:07:22,325 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:22,325 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:22,325 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:22,325 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:22,325 INFO sqlalchemy.engine.Engine: [cached since 13.58s ago] {'user_id_1': 35}
2025-11-05 01:07:22,326 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:22,326 INFO sqlalchemy.engine.Engine: [generated in 0.00008s] {'resource_id_1': 1018, 'source_1': 'cost.price_check.kubernetes_cluster', 'status_1': 'dismissed'}
2025-11-05 01:07:22,327 INFO sqlalchemy.engine.Engine: SELECT DISTINCT provider_prices.region AS provider_prices_region 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s
2025-11-05 01:07:22,327 INFO sqlalchemy.engine.Engine: [generated in 0.00007s] {'provider_1': 'selectel'}
2025-11-05 01:07:22,343 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,343 INFO sqlalchemy.engine.Engine: [generated in 0.00013s] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1', 'param_1': 1}
2025-11-05 01:07:22,344 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,344 INFO sqlalchemy.engine.Engine: [cached since 0.001172s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2', 'param_1': 1}
2025-11-05 01:07:22,345 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,345 INFO sqlalchemy.engine.Engine: [cached since 0.002063s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3', 'param_1': 1}
2025-11-05 01:07:22,346 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,346 INFO sqlalchemy.engine.Engine: [cached since 0.002904s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7', 'param_1': 1}
2025-11-05 01:07:22,347 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,347 INFO sqlalchemy.engine.Engine: [cached since 0.003739s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8', 'param_1': 1}
2025-11-05 01:07:22,348 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,348 INFO sqlalchemy.engine.Engine: [cached since 0.004567s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9', 'param_1': 1}
2025-11-05 01:07:22,349 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,349 INFO sqlalchemy.engine.Engine: [cached since 0.005397s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c-236061', 'param_1': 1}
2025-11-05 01:07:22,349 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,349 INFO sqlalchemy.engine.Engine: [cached since 0.00608s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a-170930', 'param_1': 1}
2025-11-05 01:07:22,350 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,350 INFO sqlalchemy.engine.Engine: [cached since 0.006768s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a-52130', 'param_1': 1}
2025-11-05 01:07:22,351 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,351 INFO sqlalchemy.engine.Engine: [cached since 0.007444s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a-76241', 'param_1': 1}
2025-11-05 01:07:22,351 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,351 INFO sqlalchemy.engine.Engine: [cached since 0.008109s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a-143084', 'param_1': 1}
2025-11-05 01:07:22,352 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,352 INFO sqlalchemy.engine.Engine: [cached since 0.008793s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a-164186', 'param_1': 1}
2025-11-05 01:07:22,353 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,353 INFO sqlalchemy.engine.Engine: [cached since 0.009473s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a-243996', 'param_1': 1}
2025-11-05 01:07:22,353 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,353 INFO sqlalchemy.engine.Engine: [cached since 0.01016s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a-307331', 'param_1': 1}
2025-11-05 01:07:22,354 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,354 INFO sqlalchemy.engine.Engine: [cached since 0.01083s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2-73401', 'param_1': 1}
2025-11-05 01:07:22,355 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,355 INFO sqlalchemy.engine.Engine: [cached since 0.01151s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b-83671', 'param_1': 1}
2025-11-05 01:07:22,355 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,355 INFO sqlalchemy.engine.Engine: [cached since 0.01219s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c-83671', 'param_1': 1}
2025-11-05 01:07:22,356 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,356 INFO sqlalchemy.engine.Engine: [cached since 0.01286s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3-52833', 'param_1': 1}
2025-11-05 01:07:22,357 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,357 INFO sqlalchemy.engine.Engine: [cached since 0.01354s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a-83671', 'param_1': 1}
2025-11-05 01:07:22,357 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,357 INFO sqlalchemy.engine.Engine: [cached since 0.01421s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1a', 'param_1': 1}
2025-11-05 01:07:22,363 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,363 INFO sqlalchemy.engine.Engine: [cached since 0.01932s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1a', 'param_1': 1}
2025-11-05 01:07:22,367 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,367 INFO sqlalchemy.engine.Engine: [cached since 0.02408s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1a', 'param_1': 1}
2025-11-05 01:07:22,372 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,372 INFO sqlalchemy.engine.Engine: [cached since 0.02901s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1a', 'param_1': 1}
2025-11-05 01:07:22,377 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,377 INFO sqlalchemy.engine.Engine: [cached since 0.03399s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1a', 'param_1': 1}
2025-11-05 01:07:22,382 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,382 INFO sqlalchemy.engine.Engine: [cached since 0.03901s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1a', 'param_1': 1}
2025-11-05 01:07:22,387 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,387 INFO sqlalchemy.engine.Engine: [cached since 0.04407s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8a', 'param_1': 1}
2025-11-05 01:07:22,393 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,393 INFO sqlalchemy.engine.Engine: [cached since 0.04945s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8a', 'param_1': 1}
2025-11-05 01:07:22,398 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,398 INFO sqlalchemy.engine.Engine: [cached since 0.0548s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8a', 'param_1': 1}
2025-11-05 01:07:22,403 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,403 INFO sqlalchemy.engine.Engine: [cached since 0.06008s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8a', 'param_1': 1}
2025-11-05 01:07:22,409 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,409 INFO sqlalchemy.engine.Engine: [cached since 0.06539s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8a', 'param_1': 1}
2025-11-05 01:07:22,414 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,414 INFO sqlalchemy.engine.Engine: [cached since 0.07059s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-8a', 'param_1': 1}
2025-11-05 01:07:22,419 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,419 INFO sqlalchemy.engine.Engine: [cached since 0.07545s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1b', 'param_1': 1}
2025-11-05 01:07:22,423 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,423 INFO sqlalchemy.engine.Engine: [cached since 0.08021s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1b', 'param_1': 1}
2025-11-05 01:07:22,428 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,428 INFO sqlalchemy.engine.Engine: [cached since 0.08489s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1b', 'param_1': 1}
2025-11-05 01:07:22,433 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,433 INFO sqlalchemy.engine.Engine: [cached since 0.08954s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1b', 'param_1': 1}
2025-11-05 01:07:22,437 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,437 INFO sqlalchemy.engine.Engine: [cached since 0.0942s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1b', 'param_1': 1}
2025-11-05 01:07:22,442 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,442 INFO sqlalchemy.engine.Engine: [cached since 0.09888s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1b', 'param_1': 1}
2025-11-05 01:07:22,447 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,447 INFO sqlalchemy.engine.Engine: [cached since 0.1035s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2a', 'param_1': 1}
2025-11-05 01:07:22,452 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,452 INFO sqlalchemy.engine.Engine: [cached since 0.1083s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2a', 'param_1': 1}
2025-11-05 01:07:22,456 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,456 INFO sqlalchemy.engine.Engine: [cached since 0.1132s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2a', 'param_1': 1}
2025-11-05 01:07:22,463 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,463 INFO sqlalchemy.engine.Engine: [cached since 0.1197s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2a', 'param_1': 1}
2025-11-05 01:07:22,469 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,469 INFO sqlalchemy.engine.Engine: [cached since 0.1259s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2a', 'param_1': 1}
2025-11-05 01:07:22,475 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,475 INFO sqlalchemy.engine.Engine: [cached since 0.1315s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2a', 'param_1': 1}
2025-11-05 01:07:22,480 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,481 INFO sqlalchemy.engine.Engine: [cached since 0.1373s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c', 'param_1': 1}
2025-11-05 01:07:22,486 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,487 INFO sqlalchemy.engine.Engine: [cached since 0.1434s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c', 'param_1': 1}
2025-11-05 01:07:22,492 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,492 INFO sqlalchemy.engine.Engine: [cached since 0.1491s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c', 'param_1': 1}
2025-11-05 01:07:22,498 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,498 INFO sqlalchemy.engine.Engine: [cached since 0.155s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c', 'param_1': 1}
2025-11-05 01:07:22,504 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,504 INFO sqlalchemy.engine.Engine: [cached since 0.1611s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c', 'param_1': 1}
2025-11-05 01:07:22,511 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,511 INFO sqlalchemy.engine.Engine: [cached since 0.1677s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2c', 'param_1': 1}
2025-11-05 01:07:22,517 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,517 INFO sqlalchemy.engine.Engine: [cached since 0.1739s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3b', 'param_1': 1}
2025-11-05 01:07:22,524 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,524 INFO sqlalchemy.engine.Engine: [cached since 0.1807s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3b', 'param_1': 1}
2025-11-05 01:07:22,531 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,531 INFO sqlalchemy.engine.Engine: [cached since 0.1881s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3b', 'param_1': 1}
2025-11-05 01:07:22,538 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,539 INFO sqlalchemy.engine.Engine: [cached since 0.1953s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3b', 'param_1': 1}
2025-11-05 01:07:22,546 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,546 INFO sqlalchemy.engine.Engine: [cached since 0.2028s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3b', 'param_1': 1}
2025-11-05 01:07:22,553 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,553 INFO sqlalchemy.engine.Engine: [cached since 0.2101s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3b', 'param_1': 1}
2025-11-05 01:07:22,560 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,561 INFO sqlalchemy.engine.Engine: [cached since 0.2173s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a', 'param_1': 1}
2025-11-05 01:07:22,568 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,568 INFO sqlalchemy.engine.Engine: [cached since 0.2247s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a', 'param_1': 1}
2025-11-05 01:07:22,575 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,575 INFO sqlalchemy.engine.Engine: [cached since 0.2322s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a', 'param_1': 1}
2025-11-05 01:07:22,583 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,583 INFO sqlalchemy.engine.Engine: [cached since 0.2399s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a', 'param_1': 1}
2025-11-05 01:07:22,590 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,591 INFO sqlalchemy.engine.Engine: [cached since 0.2474s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a', 'param_1': 1}
2025-11-05 01:07:22,598 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,598 INFO sqlalchemy.engine.Engine: [cached since 0.2547s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7a', 'param_1': 1}
2025-11-05 01:07:22,605 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,606 INFO sqlalchemy.engine.Engine: [cached since 0.2625s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7b', 'param_1': 1}
2025-11-05 01:07:22,613 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,613 INFO sqlalchemy.engine.Engine: [cached since 0.2701s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7b', 'param_1': 1}
2025-11-05 01:07:22,621 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,621 INFO sqlalchemy.engine.Engine: [cached since 0.2779s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7b', 'param_1': 1}
2025-11-05 01:07:22,628 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,629 INFO sqlalchemy.engine.Engine: [cached since 0.2855s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7b', 'param_1': 1}
2025-11-05 01:07:22,636 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,637 INFO sqlalchemy.engine.Engine: [cached since 0.2933s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7b', 'param_1': 1}
2025-11-05 01:07:22,644 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,644 INFO sqlalchemy.engine.Engine: [cached since 0.3012s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-7b', 'param_1': 1}
2025-11-05 01:07:22,652 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,652 INFO sqlalchemy.engine.Engine: [cached since 0.309s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1c', 'param_1': 1}
2025-11-05 01:07:22,660 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,660 INFO sqlalchemy.engine.Engine: [cached since 0.3167s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1c', 'param_1': 1}
2025-11-05 01:07:22,667 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,668 INFO sqlalchemy.engine.Engine: [cached since 0.3244s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1c', 'param_1': 1}
2025-11-05 01:07:22,676 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,676 INFO sqlalchemy.engine.Engine: [cached since 0.3327s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1c', 'param_1': 1}
2025-11-05 01:07:22,684 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,684 INFO sqlalchemy.engine.Engine: [cached since 0.3409s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1c', 'param_1': 1}
2025-11-05 01:07:22,692 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,693 INFO sqlalchemy.engine.Engine: [cached since 0.3493s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-1c', 'param_1': 1}
2025-11-05 01:07:22,701 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,701 INFO sqlalchemy.engine.Engine: [cached since 0.3576s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b', 'param_1': 1}
2025-11-05 01:07:22,709 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,709 INFO sqlalchemy.engine.Engine: [cached since 0.3661s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b', 'param_1': 1}
2025-11-05 01:07:22,717 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,718 INFO sqlalchemy.engine.Engine: [cached since 0.3744s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b', 'param_1': 1}
2025-11-05 01:07:22,726 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,726 INFO sqlalchemy.engine.Engine: [cached since 0.3826s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b', 'param_1': 1}
2025-11-05 01:07:22,734 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,734 INFO sqlalchemy.engine.Engine: [cached since 0.3909s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b', 'param_1': 1}
2025-11-05 01:07:22,742 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,742 INFO sqlalchemy.engine.Engine: [cached since 0.3988s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-2b', 'param_1': 1}
2025-11-05 01:07:22,750 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,750 INFO sqlalchemy.engine.Engine: [cached since 0.4065s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a', 'param_1': 1}
2025-11-05 01:07:22,757 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,757 INFO sqlalchemy.engine.Engine: [cached since 0.4142s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a', 'param_1': 1}
2025-11-05 01:07:22,765 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,765 INFO sqlalchemy.engine.Engine: [cached since 0.4219s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a', 'param_1': 1}
2025-11-05 01:07:22,773 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,773 INFO sqlalchemy.engine.Engine: [cached since 0.4296s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a', 'param_1': 1}
2025-11-05 01:07:22,780 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,781 INFO sqlalchemy.engine.Engine: [cached since 0.4375s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a', 'param_1': 1}
2025-11-05 01:07:22,789 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,789 INFO sqlalchemy.engine.Engine: [cached since 0.4456s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9a', 'param_1': 1}
2025-11-05 01:07:22,797 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,797 INFO sqlalchemy.engine.Engine: [cached since 0.4536s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a', 'param_1': 1}
2025-11-05 01:07:22,805 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,805 INFO sqlalchemy.engine.Engine: [cached since 0.4618s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a', 'param_1': 1}
2025-11-05 01:07:22,813 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,813 INFO sqlalchemy.engine.Engine: [cached since 0.4699s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a', 'param_1': 1}
2025-11-05 01:07:22,821 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,821 INFO sqlalchemy.engine.Engine: [cached since 0.4778s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a', 'param_1': 1}
2025-11-05 01:07:22,829 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,829 INFO sqlalchemy.engine.Engine: [cached since 0.4859s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a', 'param_1': 1}
2025-11-05 01:07:22,837 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,837 INFO sqlalchemy.engine.Engine: [cached since 0.4937s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-3a', 'param_1': 1}
2025-11-05 01:07:22,844 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,845 INFO sqlalchemy.engine.Engine: [cached since 0.5015s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6', 'param_1': 1}
2025-11-05 01:07:22,846 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,847 INFO sqlalchemy.engine.Engine: [cached since 0.5034s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6a', 'param_1': 1}
2025-11-05 01:07:22,855 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,855 INFO sqlalchemy.engine.Engine: [cached since 0.5121s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6a', 'param_1': 1}
2025-11-05 01:07:22,864 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,864 INFO sqlalchemy.engine.Engine: [cached since 0.5211s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6a', 'param_1': 1}
2025-11-05 01:07:22,873 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,874 INFO sqlalchemy.engine.Engine: [cached since 0.5303s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6a', 'param_1': 1}
2025-11-05 01:07:22,883 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,883 INFO sqlalchemy.engine.Engine: [cached since 0.5397s ago] {'provider_1': 'selectel', 'cpu_cores_1': 2, 'ram_gb_1': 7.2, 'ram_gb_2': 8.8, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6a', 'param_1': 1}
2025-11-05 01:07:22,892 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,892 INFO sqlalchemy.engine.Engine: [cached since 0.5488s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-6a', 'param_1': 1}
2025-11-05 01:07:22,901 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,901 INFO sqlalchemy.engine.Engine: [cached since 0.5577s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9b', 'param_1': 1}
2025-11-05 01:07:22,903 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.ram_gb <= %(ram_gb_2)s AND provider_prices.storage_gb >= %(storage_gb_1)s AND provider_prices.storage_type = %(storage_type_1)s AND provider_prices.region = %(region_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:22,903 INFO sqlalchemy.engine.Engine: [cached since 0.56s ago] {'provider_1': 'selectel', 'cpu_cores_1': 4, 'ram_gb_1': 14.4, 'ram_gb_2': 17.6, 'storage_gb_1': 128.0, 'storage_type_1': 'hdd', 'region_1': 'ru-9c', 'param_1': 1}
2025-11-05 01:07:22,904 INFO app.core.recommendations.plugins.kubernetes_cluster_price_rule: k8s_price_check: recommendation | res_id=1018 target=selectel savings=2068.95 (4.1%)
2025-11-05 01:07:22,905 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:22,906 INFO sqlalchemy.engine.Engine: [cached since 13.93s ago] {'resource_id_1': 1018, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.kubernetes_cluster', 'target_provider_1': 'selectel', 'target_sku_1': 'managed-k8s-cluster', 'param_1': 1}
2025-11-05 01:07:22,908 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:22,908 INFO sqlalchemy.engine.Engine: [cached since 14.08s ago] {'resource_id': 1018, 'provider_id': 102, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый managed Kubernetes у другого провайдера', 'description': "Kubernetes кластер 'itlkube' (6 нод, 22 vCPU, 88 GB RAM, 2 LB) можно разместить дешевле у провайдера selectel в регионе ru-6a. Текущая стоимость ~49901 RUB/мес, альтернатива ~47832 RUB/мес. ⚠️ Миграция кластера требует тщательного планирования.", 'source': 'cost.price_check.kubernetes_cluster', 'resource_type': 'kubernetes-cluster', 'resource_name': 'itlkube', 'target_provider': 'selectel', 'target_sku': 'managed-k8s-cluster', 'target_region': 'ru-6a', 'potential_savings': 0.0, 'estimated_monthly_savings': 2068.95, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.7, 'metrics_snapshot': "{'similarity': 1.0, 'target_monthly': 47831.85, 'current_monthly': 49900.8, 'control_plane_cost': 5307.0, 'worker_nodes_cost': 39738.45, 'volumes_cost': 360.0}", 'insights': "{'recommended_provider': 'selectel', 'recommended_sku': 'managed-k8s-cluster', 'recommended_region': 'ru-6a', 'recommended_type': 'managed_kubernetes ... (68 characters truncated) ... tion_complexity': 'high', 'alternatives': [{'provider': 'selectel', 'region': 'ru-6a', 'monthly': 47831.85, 'savings': 2068.95, 'savings_pct': 4.1}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 22, 907262), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 22, 907265), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 22, 908107), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 22, 908112)}
2025-11-05 01:07:22,909 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:22,912 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:22,912 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:22,912 INFO sqlalchemy.engine.Engine: [cached since 14.08s ago] {'pk_1': 1065}
2025-11-05 01:07:22,914 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1065
2025-11-05 01:07:26,463 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1065 (model: openai/gpt-4o-mini, tokens: 984)
2025-11-05 01:07:26,465 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:26,465 INFO sqlalchemy.engine.Engine: [cached since 12.87s ago] {'ai_short_description': "<span class='provider-name'>selectel</span> предлагает аналог за <strong>47,832 ₽/мес</strong> вместо текущих <strong>49,901 ₽/мес</strong>", 'ai_detailed_description': "Экономия <strong>2,069 ₽/мес</strong> при переносе ресурса <strong>itlkube</strong> в <span class='provider-name'>selectel</span>. Схожая конфигурация (768.0 GB HD) там стоит <strong>47,832 ₽/мес</strong>.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 464145), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 465040), 'optimization_recommendations_id': 1065}
2025-11-05 01:07:26,467 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,471 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,471 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,471 INFO sqlalchemy.engine.Engine: [cached since 17.64s ago] {'pk_1': 1065}
2025-11-05 01:07:26,473 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1065
2025-11-05 01:07:26,474 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,474 INFO sqlalchemy.engine.Engine: [cached since 27.23s ago] {'pk_1': 1018}
2025-11-05 01:07:26,475 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1018 outputs=1 created=1 updated=0 duration_ms=4148
2025-11-05 01:07:26,476 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,476 INFO sqlalchemy.engine.Engine: [cached since 32.08s ago] {'pk_1': 102}
2025-11-05 01:07:26,477 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,478 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,478 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,478 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,478 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,478 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,478 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1018 rtype=kubernetes-cluster
2025-11-05 01:07:26,479 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,479 INFO sqlalchemy.engine.Engine: [cached since 27.23s ago] {'pk_1': 1019}
2025-11-05 01:07:26,480 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,480 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,480 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,481 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,481 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,481 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,482 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:26,482 INFO sqlalchemy.engine.Engine: [cached since 17.74s ago] {'user_id_1': 35}
2025-11-05 01:07:26,485 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:26,485 INFO sqlalchemy.engine.Engine: [generated in 0.00029s] {'resource_id_1': 1019, 'recommendation_type_1': 'price_compare_cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:26,488 INFO sqlalchemy.engine.Engine: SELECT DISTINCT provider_prices.region AS provider_prices_region 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s
2025-11-05 01:07:26,488 INFO sqlalchemy.engine.Engine: [generated in 0.00030s] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster'}
2025-11-05 01:07:26,492 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,492 INFO sqlalchemy.engine.Engine: [generated in 0.00027s] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-7', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,494 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,495 INFO sqlalchemy.engine.Engine: [cached since 0.002916s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-8', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,496 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,497 INFO sqlalchemy.engine.Engine: [cached since 0.005008s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-9', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,498 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,498 INFO sqlalchemy.engine.Engine: [cached since 0.006814s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-1', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,500 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,500 INFO sqlalchemy.engine.Engine: [cached since 0.008717s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-2', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,502 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,502 INFO sqlalchemy.engine.Engine: [cached since 0.01067s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-3', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,504 INFO sqlalchemy.engine.Engine: SELECT DISTINCT provider_prices.region AS provider_prices_region 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s
2025-11-05 01:07:26,504 INFO sqlalchemy.engine.Engine: [cached since 0.01672s ago] {'provider_1': 'beget', 'resource_type_1': 'postgresql-cluster'}
2025-11-05 01:07:26,506 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,506 INFO sqlalchemy.engine.Engine: [cached since 0.01475s ago] {'provider_1': 'beget', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru1', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,508 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,508 INFO sqlalchemy.engine.Engine: [cached since 0.01635s ago] {'provider_1': 'beget', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru2', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,509 INFO app.core.recommendations.plugins.postgresql_cluster_price_rule: pg_price_check: skip (below threshold) | res_id=1019 savings=-3245.29 min=127.40
2025-11-05 01:07:26,510 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1019 outputs=0 created=0 updated=0 duration_ms=28
2025-11-05 01:07:26,510 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,510 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,510 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,510 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1019 rtype=postgresql-cluster
2025-11-05 01:07:26,511 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,511 INFO sqlalchemy.engine.Engine: [cached since 27.27s ago] {'pk_1': 1020}
2025-11-05 01:07:26,513 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,513 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,513 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,513 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,513 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,513 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,514 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:26,514 INFO sqlalchemy.engine.Engine: [cached since 17.77s ago] {'user_id_1': 35}
2025-11-05 01:07:26,515 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:26,515 INFO sqlalchemy.engine.Engine: [cached since 0.03085s ago] {'resource_id_1': 1020, 'recommendation_type_1': 'price_compare_cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:26,517 INFO sqlalchemy.engine.Engine: SELECT DISTINCT provider_prices.region AS provider_prices_region 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s
2025-11-05 01:07:26,517 INFO sqlalchemy.engine.Engine: [cached since 0.02939s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster'}
2025-11-05 01:07:26,519 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,519 INFO sqlalchemy.engine.Engine: [cached since 0.02767s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-7', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,521 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,521 INFO sqlalchemy.engine.Engine: [cached since 0.02979s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-8', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,523 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,523 INFO sqlalchemy.engine.Engine: [cached since 0.03154s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-9', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,525 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,525 INFO sqlalchemy.engine.Engine: [cached since 0.0332s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-1', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,527 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,527 INFO sqlalchemy.engine.Engine: [cached since 0.03524s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-2', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,529 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,529 INFO sqlalchemy.engine.Engine: [cached since 0.03742s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-3', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,531 INFO sqlalchemy.engine.Engine: SELECT DISTINCT provider_prices.region AS provider_prices_region 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s
2025-11-05 01:07:26,531 INFO sqlalchemy.engine.Engine: [cached since 0.04325s ago] {'provider_1': 'beget', 'resource_type_1': 'postgresql-cluster'}
2025-11-05 01:07:26,533 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,533 INFO sqlalchemy.engine.Engine: [cached since 0.04129s ago] {'provider_1': 'beget', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru1', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,534 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,535 INFO sqlalchemy.engine.Engine: [cached since 0.04296s ago] {'provider_1': 'beget', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru2', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 240.0, 'param_1': 1}
2025-11-05 01:07:26,536 INFO app.core.recommendations.plugins.postgresql_cluster_price_rule: pg_price_check: skip (below threshold) | res_id=1020 savings=-3245.29 min=127.40
2025-11-05 01:07:26,536 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1020 outputs=0 created=0 updated=0 duration_ms=23
2025-11-05 01:07:26,536 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,537 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,537 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,537 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1020 rtype=postgresql-cluster
2025-11-05 01:07:26,537 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,538 INFO sqlalchemy.engine.Engine: [cached since 27.29s ago] {'pk_1': 1021}
2025-11-05 01:07:26,539 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,539 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,540 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:26,540 INFO sqlalchemy.engine.Engine: [cached since 17.8s ago] {'user_id_1': 35}
2025-11-05 01:07:26,541 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:26,541 INFO sqlalchemy.engine.Engine: [cached since 0.0568s ago] {'resource_id_1': 1021, 'recommendation_type_1': 'price_compare_cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:26,543 INFO sqlalchemy.engine.Engine: SELECT DISTINCT provider_prices.region AS provider_prices_region 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s
2025-11-05 01:07:26,543 INFO sqlalchemy.engine.Engine: [cached since 0.0554s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster'}
2025-11-05 01:07:26,545 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,546 INFO sqlalchemy.engine.Engine: [cached since 0.05399s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-7', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 80.0, 'param_1': 1}
2025-11-05 01:07:26,547 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,548 INFO sqlalchemy.engine.Engine: [cached since 0.05589s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-8', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 80.0, 'param_1': 1}
2025-11-05 01:07:26,549 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,549 INFO sqlalchemy.engine.Engine: [cached since 0.05761s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-9', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 80.0, 'param_1': 1}
2025-11-05 01:07:26,551 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,551 INFO sqlalchemy.engine.Engine: [cached since 0.05941s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-1', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 80.0, 'param_1': 1}
2025-11-05 01:07:26,553 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,553 INFO sqlalchemy.engine.Engine: [cached since 0.06153s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-2', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 80.0, 'param_1': 1}
2025-11-05 01:07:26,555 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.provider = %(provider_1)s AND provider_prices.resource_type = %(resource_type_1)s AND provider_prices.region = %(region_1)s AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb >= %(ram_gb_1)s AND provider_prices.storage_gb >= %(storage_gb_1)s ORDER BY provider_prices.monthly_cost 
 LIMIT %(param_1)s
2025-11-05 01:07:26,555 INFO sqlalchemy.engine.Engine: [cached since 0.06345s ago] {'provider_1': 'selectel', 'resource_type_1': 'postgresql-cluster', 'region_1': 'ru-3', 'cpu_cores_1': 2, 'ram_gb_1': 4, 'storage_gb_1': 80.0, 'param_1': 1}
2025-11-05 01:07:26,556 INFO app.core.recommendations.plugins.kafka_cluster_price_rule: kafka_price_check: skip (below threshold) | res_id=1021 savings=-2805.99 min=100.00
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1021 outputs=0 created=0 updated=0 duration_ms=17
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,557 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,558 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1021 rtype=kafka-cluster
2025-11-05 01:07:26,558 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,558 INFO sqlalchemy.engine.Engine: [cached since 27.31s ago] {'pk_1': 1022}
2025-11-05 01:07:26,560 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,560 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,560 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,560 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,560 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,561 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1022 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,561 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,561 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,561 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,561 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,561 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1022 rtype=snapshot
2025-11-05 01:07:26,562 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,562 INFO sqlalchemy.engine.Engine: [cached since 27.32s ago] {'pk_1': 1023}
2025-11-05 01:07:26,563 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,563 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,563 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,563 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,564 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,564 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,564 INFO sqlalchemy.engine.Engine: [cached since 17.73s ago] {'resource_id_1': 1023, 'recommendation_type_1': 'cleanup_old_snapshot', 'source_1': 'cost.cleanup.old_snapshots', 'param_1': 1}
2025-11-05 01:07:26,567 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,567 INFO sqlalchemy.engine.Engine: [cached since 17.73s ago] {'resource_id': 1023, 'provider_id': 102, 'recommendation_type': 'cleanup_old_snapshot', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить устаревший снимок диска', 'description': "Снимок диска 'gate-021023' существует уже 764 дней (2.1 лет) и продолжает потреблять ресурсы хранения, что стоит 33.30 RUB/месяц. Размер снимка: 9.9 GB. Рассмотрите возможность удаления этого снимка, если он больше не нужен для восстановления, чтобы полностью исключить эти расходы.", 'source': 'cost.cleanup.old_snapshots', 'resource_type': 'snapshot', 'resource_name': 'gate-021023', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 33.300000000000004, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'age_days': 764, 'age_years': 2.1, 'age_threshold_days': 180, 'size_gb': 9.91, 'created_at': '2023-10-02T16:31:41Z', 'current_monthly_cost': 33.300000000000004}", 'insights': "{'action': 'delete_snapshot', 'age_days': 764, 'size_gb': 9.91}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 566177), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 566179), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 567021), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 567025)}
2025-11-05 01:07:26,568 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,571 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,572 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,572 INFO sqlalchemy.engine.Engine: [cached since 17.74s ago] {'pk_1': 1066}
2025-11-05 01:07:26,573 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1066
2025-11-05 01:07:26,589 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1066: name 'Тип' is not defined
2025-11-05 01:07:26,590 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,590 INFO sqlalchemy.engine.Engine: [cached since 27.35s ago] {'pk_1': 1023}
2025-11-05 01:07:26,592 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1023 outputs=1 created=1 updated=0 duration_ms=25
2025-11-05 01:07:26,592 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,592 INFO sqlalchemy.engine.Engine: [cached since 32.2s ago] {'pk_1': 102}
2025-11-05 01:07:26,593 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,593 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,594 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,594 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,594 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1023 rtype=snapshot
2025-11-05 01:07:26,594 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,594 INFO sqlalchemy.engine.Engine: [cached since 27.35s ago] {'pk_1': 1024}
2025-11-05 01:07:26,595 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1024 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,596 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1024 rtype=snapshot
2025-11-05 01:07:26,597 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,597 INFO sqlalchemy.engine.Engine: [cached since 27.35s ago] {'pk_1': 1025}
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1025 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,598 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,599 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,599 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1025 rtype=snapshot
2025-11-05 01:07:26,599 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,599 INFO sqlalchemy.engine.Engine: [cached since 27.35s ago] {'pk_1': 1026}
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1026 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,600 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,601 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,601 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,601 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,601 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1026 rtype=snapshot
2025-11-05 01:07:26,601 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,601 INFO sqlalchemy.engine.Engine: [cached since 27.36s ago] {'pk_1': 1027}
2025-11-05 01:07:26,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,602 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1027 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1027 rtype=snapshot
2025-11-05 01:07:26,603 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,603 INFO sqlalchemy.engine.Engine: [cached since 27.36s ago] {'pk_1': 1028}
2025-11-05 01:07:26,604 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1028 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1028 rtype=snapshot
2025-11-05 01:07:26,605 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,606 INFO sqlalchemy.engine.Engine: [cached since 27.36s ago] {'pk_1': 1029}
2025-11-05 01:07:26,606 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,607 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,607 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,607 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,607 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,607 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,608 INFO sqlalchemy.engine.Engine: [cached since 17.78s ago] {'resource_id_1': 1029, 'recommendation_type_1': 'cleanup_old_snapshot', 'source_1': 'cost.cleanup.old_snapshots', 'param_1': 1}
2025-11-05 01:07:26,609 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,609 INFO sqlalchemy.engine.Engine: [cached since 17.78s ago] {'resource_id': 1029, 'provider_id': 102, 'recommendation_type': 'cleanup_old_snapshot', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить устаревший снимок диска', 'description': "Снимок диска 'gitdisk-1740816592565' существует уже 248 дней (0.7 лет) и продолжает потреблять ресурсы хранения, что стоит 1708.50 RUB/месяц. Размер снимка: 507.2 GB. Рассмотрите возможность удаления этого снимка, если он больше не нужен для восстановления, чтобы полностью исключить эти расходы.", 'source': 'cost.cleanup.old_snapshots', 'resource_type': 'snapshot', 'resource_name': 'gitdisk-1740816592565', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 1708.5, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'age_days': 248, 'age_years': 0.7, 'age_threshold_days': 180, 'size_gb': 507.16, 'created_at': '2025-03-01T08:09:59Z', 'current_monthly_cost': 1708.5}", 'insights': "{'action': 'delete_snapshot', 'age_days': 248, 'size_gb': 507.16}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 609228), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 609230), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 609753), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 609755)}
2025-11-05 01:07:26,611 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,613 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,613 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,613 INFO sqlalchemy.engine.Engine: [cached since 17.78s ago] {'pk_1': 1067}
2025-11-05 01:07:26,614 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1067
2025-11-05 01:07:26,624 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1067: name 'Тип' is not defined
2025-11-05 01:07:26,625 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,625 INFO sqlalchemy.engine.Engine: [cached since 27.38s ago] {'pk_1': 1029}
2025-11-05 01:07:26,626 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1029 outputs=1 created=1 updated=0 duration_ms=17
2025-11-05 01:07:26,626 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,626 INFO sqlalchemy.engine.Engine: [cached since 32.23s ago] {'pk_1': 102}
2025-11-05 01:07:26,627 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,627 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,627 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,627 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,627 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1029 rtype=snapshot
2025-11-05 01:07:26,628 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,628 INFO sqlalchemy.engine.Engine: [cached since 27.38s ago] {'pk_1': 1030}
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1030 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,629 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1030 rtype=snapshot
2025-11-05 01:07:26,630 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,630 INFO sqlalchemy.engine.Engine: [cached since 27.38s ago] {'pk_1': 1031}
2025-11-05 01:07:26,630 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,630 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1031 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1031 rtype=snapshot
2025-11-05 01:07:26,631 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,631 INFO sqlalchemy.engine.Engine: [cached since 27.39s ago] {'pk_1': 1032}
2025-11-05 01:07:26,632 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,632 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,632 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,632 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,632 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,633 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,633 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,633 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,633 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,633 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1032 rtype=image
2025-11-05 01:07:26,633 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,633 INFO sqlalchemy.engine.Engine: [cached since 27.39s ago] {'pk_1': 1033}
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,634 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,635 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1033 rtype=image
2025-11-05 01:07:26,635 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,635 INFO sqlalchemy.engine.Engine: [cached since 27.39s ago] {'pk_1': 1034}
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1034 rtype=image
2025-11-05 01:07:26,636 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,637 INFO sqlalchemy.engine.Engine: [cached since 27.39s ago] {'pk_1': 1035}
2025-11-05 01:07:26,637 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1035 rtype=image
2025-11-05 01:07:26,638 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,638 INFO sqlalchemy.engine.Engine: [cached since 27.39s ago] {'pk_1': 1036}
2025-11-05 01:07:26,639 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,639 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,639 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,639 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,639 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,640 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,640 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,640 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,640 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,640 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1036 rtype=reserved_ip
2025-11-05 01:07:26,640 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,640 INFO sqlalchemy.engine.Engine: [cached since 17.81s ago] {'resource_id_1': 1036, 'recommendation_type_1': 'cleanup_unused_ip', 'source_1': 'cost.cleanup.unused_reserved_ips', 'param_1': 1}
2025-11-05 01:07:26,642 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,642 INFO sqlalchemy.engine.Engine: [cached since 17.81s ago] {'resource_id': 1036, 'provider_id': 102, 'recommendation_type': 'cleanup_unused_ip', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить неиспользуемый зарезервированный IP', 'description': "Зарезервированный IP-адрес 'kafka_ip' (158.160.85.164) не используется уже 567 дней (1.6 лет) и продолжает потреблять средства, что стоит 241.20 RUB/месяц. Рассмотрите возможность освобождения этого IP-адреса, чтобы полностью исключить эти расходы.", 'source': 'cost.cleanup.unused_reserved_ips', 'resource_type': 'reserved_ip', 'resource_name': 'kafka_ip', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 241.2, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 1.0, 'metrics_snapshot': "{'age_days': 567, 'age_years': 1.6, 'age_threshold_days': 180, 'ip_address': '158.160.85.164', 'created_at': '2024-04-16T13:14:35Z', 'is_used': False, 'current_monthly_cost': 241.2}", 'insights': "{'action': 'release_ip', 'age_days': 567, 'ip_address': '158.160.85.164'}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 641872), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 641873), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 642271), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 642272)}
2025-11-05 01:07:26,643 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,645 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,645 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,645 INFO sqlalchemy.engine.Engine: [cached since 17.81s ago] {'pk_1': 1068}
2025-11-05 01:07:26,646 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1068
2025-11-05 01:07:26,654 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1068: name 'Тип' is not defined
2025-11-05 01:07:26,654 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,654 INFO sqlalchemy.engine.Engine: [cached since 27.41s ago] {'pk_1': 1036}
2025-11-05 01:07:26,655 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1036 outputs=1 created=1 updated=0 duration_ms=13
2025-11-05 01:07:26,655 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,655 INFO sqlalchemy.engine.Engine: [cached since 27.41s ago] {'pk_1': 1037}
2025-11-05 01:07:26,656 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,656 INFO sqlalchemy.engine.Engine: [cached since 32.26s ago] {'pk_1': 102}
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,657 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1037 rtype=reserved_ip
2025-11-05 01:07:26,658 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,658 INFO sqlalchemy.engine.Engine: [cached since 17.83s ago] {'resource_id_1': 1037, 'recommendation_type_1': 'cleanup_unused_ip', 'source_1': 'cost.cleanup.unused_reserved_ips', 'param_1': 1}
2025-11-05 01:07:26,659 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,659 INFO sqlalchemy.engine.Engine: [cached since 17.83s ago] {'resource_id': 1037, 'provider_id': 102, 'recommendation_type': 'cleanup_unused_ip', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить неиспользуемый зарезервированный IP', 'description': "Зарезервированный IP-адрес 'gitlab_new' (158.160.78.143) не используется уже 547 дней (1.5 лет) и продолжает потреблять средства, что стоит 241.20 RUB/месяц. Рассмотрите возможность освобождения этого IP-адреса, чтобы полностью исключить эти расходы.", 'source': 'cost.cleanup.unused_reserved_ips', 'resource_type': 'reserved_ip', 'resource_name': 'gitlab_new', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 241.2, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 1.0, 'metrics_snapshot': "{'age_days': 547, 'age_years': 1.5, 'age_threshold_days': 180, 'ip_address': '158.160.78.143', 'created_at': '2024-05-06T14:00:08Z', 'is_used': False, 'current_monthly_cost': 241.2}", 'insights': "{'action': 'release_ip', 'age_days': 547, 'ip_address': '158.160.78.143'}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 659099), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 659100), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 659382), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 659383)}
2025-11-05 01:07:26,660 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,662 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,662 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,662 INFO sqlalchemy.engine.Engine: [cached since 17.83s ago] {'pk_1': 1069}
2025-11-05 01:07:26,663 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1069
2025-11-05 01:07:26,670 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1069: name 'Тип' is not defined
2025-11-05 01:07:26,670 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,670 INFO sqlalchemy.engine.Engine: [cached since 27.43s ago] {'pk_1': 1037}
2025-11-05 01:07:26,671 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1037 outputs=1 created=1 updated=0 duration_ms=12
2025-11-05 01:07:26,671 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,671 INFO sqlalchemy.engine.Engine: [cached since 27.43s ago] {'pk_1': 1038}
2025-11-05 01:07:26,672 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,672 INFO sqlalchemy.engine.Engine: [cached since 32.28s ago] {'pk_1': 102}
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,673 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1038 rtype=reserved_ip
2025-11-05 01:07:26,674 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,674 INFO sqlalchemy.engine.Engine: [cached since 17.84s ago] {'resource_id_1': 1038, 'recommendation_type_1': 'cleanup_unused_ip', 'source_1': 'cost.cleanup.unused_reserved_ips', 'param_1': 1}
2025-11-05 01:07:26,675 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,675 INFO sqlalchemy.engine.Engine: [cached since 17.84s ago] {'resource_id': 1038, 'provider_id': 102, 'recommendation_type': 'cleanup_unused_ip', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить неиспользуемый зарезервированный IP', 'description': "Зарезервированный IP-адрес 'chartsstorage_ip' (158.160.88.24) не используется уже 228 дней (0.6 лет) и продолжает потреблять средства, что стоит 241.20 RUB/месяц. Рассмотрите возможность освобождения этого IP-адреса, чтобы полностью исключить эти расходы.", 'source': 'cost.cleanup.unused_reserved_ips', 'resource_type': 'reserved_ip', 'resource_name': 'chartsstorage_ip', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 241.2, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 1.0, 'metrics_snapshot': "{'age_days': 228, 'age_years': 0.6, 'age_threshold_days': 180, 'ip_address': '158.160.88.24', 'created_at': '2025-03-21T11:05:40Z', 'is_used': False, 'current_monthly_cost': 241.2}", 'insights': "{'action': 'release_ip', 'age_days': 228, 'ip_address': '158.160.88.24'}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 675133), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 675134), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 675392), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 675393)}
2025-11-05 01:07:26,676 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,677 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,677 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,678 INFO sqlalchemy.engine.Engine: [cached since 17.84s ago] {'pk_1': 1070}
2025-11-05 01:07:26,678 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1070
2025-11-05 01:07:26,685 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1070: name 'Тип' is not defined
2025-11-05 01:07:26,685 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,685 INFO sqlalchemy.engine.Engine: [cached since 27.44s ago] {'pk_1': 1038}
2025-11-05 01:07:26,686 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1038 outputs=1 created=1 updated=0 duration_ms=11
2025-11-05 01:07:26,686 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,686 INFO sqlalchemy.engine.Engine: [cached since 27.44s ago] {'pk_1': 1039}
2025-11-05 01:07:26,687 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,687 INFO sqlalchemy.engine.Engine: [cached since 32.3s ago] {'pk_1': 102}
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,688 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1039 rtype=load_balancer
2025-11-05 01:07:26,689 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,689 INFO sqlalchemy.engine.Engine: [cached since 27.44s ago] {'pk_1': 1040}
2025-11-05 01:07:26,689 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1040 rtype=load_balancer
2025-11-05 01:07:26,690 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,690 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1041}
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,691 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,692 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1041 rtype=container_registry
2025-11-05 01:07:26,692 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,692 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1042}
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1042 rtype=dns_zone
2025-11-05 01:07:26,693 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,693 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1043}
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,694 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,695 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,695 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1043 rtype=dns_zone
2025-11-05 01:07:26,695 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,695 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1044}
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1044 rtype=dns_zone
2025-11-05 01:07:26,696 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,696 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1045}
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,697 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,698 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,698 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,698 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1045 rtype=dns_zone
2025-11-05 01:07:26,698 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,698 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1046}
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1046 rtype=dns_zone
2025-11-05 01:07:26,699 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,699 INFO sqlalchemy.engine.Engine: [cached since 27.45s ago] {'pk_1': 1047}
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,700 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,701 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,701 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,701 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1047 rtype=dns_zone
2025-11-05 01:07:26,701 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,701 INFO sqlalchemy.engine.Engine: [cached since 27.46s ago] {'pk_1': 1048}
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1048 rtype=dns_zone
2025-11-05 01:07:26,702 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,702 INFO sqlalchemy.engine.Engine: [cached since 27.46s ago] {'pk_1': 1049}
2025-11-05 01:07:26,703 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,703 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,703 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1049 rtype=dns_zone
2025-11-05 01:07:26,704 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,704 INFO sqlalchemy.engine.Engine: [cached since 27.46s ago] {'pk_1': 1050}
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,705 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1050 rtype=dns_zone
2025-11-05 01:07:26,706 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,706 INFO sqlalchemy.engine.Engine: [cached since 27.46s ago] {'pk_1': 1051}
2025-11-05 01:07:26,706 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1051 rtype=dns_zone
2025-11-05 01:07:26,707 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,707 INFO sqlalchemy.engine.Engine: [cached since 27.46s ago] {'pk_1': 1052}
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,708 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,709 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,709 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,709 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1052 rtype=dns_zone
2025-11-05 01:07:26,709 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,709 INFO sqlalchemy.engine.Engine: [cached since 27.46s ago] {'pk_1': 1053}
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1053 rtype=dns_zone
2025-11-05 01:07:26,711 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,711 INFO sqlalchemy.engine.Engine: [cached since 27.47s ago] {'pk_1': 1054}
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1054 rtype=dns_zone
2025-11-05 01:07:26,712 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,712 INFO sqlalchemy.engine.Engine: [cached since 27.47s ago] {'pk_1': 1055}
2025-11-05 01:07:26,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1055 rtype=dns_zone
2025-11-05 01:07:26,714 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,714 INFO sqlalchemy.engine.Engine: [cached since 27.47s ago] {'pk_1': 1056}
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,715 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,716 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,716 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1056 rtype=dns_zone
2025-11-05 01:07:26,716 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,716 INFO sqlalchemy.engine.Engine: [cached since 27.47s ago] {'pk_1': 1057}
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1057 rtype=dns_zone
2025-11-05 01:07:26,717 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,717 INFO sqlalchemy.engine.Engine: [cached since 27.47s ago] {'pk_1': 1058}
2025-11-05 01:07:26,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,718 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,719 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,719 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,719 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,719 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,719 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1058 rtype=dns_zone
2025-11-05 01:07:26,719 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,719 INFO sqlalchemy.engine.Engine: [cached since 27.47s ago] {'pk_1': 1061}
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1061 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,720 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1061 rtype=snapshot
2025-11-05 01:07:26,721 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,721 INFO sqlalchemy.engine.Engine: [cached since 27.48s ago] {'pk_1': 1062}
2025-11-05 01:07:26,721 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,721 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1062 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1062 rtype=snapshot
2025-11-05 01:07:26,722 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,722 INFO sqlalchemy.engine.Engine: [cached since 27.48s ago] {'pk_1': 1063}
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1063 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,723 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1063 rtype=snapshot
2025-11-05 01:07:26,724 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,724 INFO sqlalchemy.engine.Engine: [cached since 27.48s ago] {'pk_1': 1064}
2025-11-05 01:07:26,724 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1064 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1064 rtype=snapshot
2025-11-05 01:07:26,725 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,725 INFO sqlalchemy.engine.Engine: [cached since 27.48s ago] {'pk_1': 1065}
2025-11-05 01:07:26,726 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,726 INFO sqlalchemy.engine.Engine: [cached since 32.33s ago] {'pk_1': 103}
2025-11-05 01:07:26,727 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,727 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:26,727 INFO sqlalchemy.engine.Engine: [cached since 17.99s ago] {'param_1': 1065}
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1065 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (resource stopped) | res_id=1065 name=punch-dev-monitoring-1 status=STOPPED
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1065 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,728 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,729 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,729 INFO sqlalchemy.engine.Engine: [cached since 17.9s ago] {'resource_id_1': 1065, 'recommendation_type_1': 'cleanup_stopped', 'source_1': 'cost.cleanup.stopped_resources', 'param_1': 1}
2025-11-05 01:07:26,730 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,730 INFO sqlalchemy.engine.Engine: [cached since 17.9s ago] {'resource_id': 1065, 'provider_id': 103, 'recommendation_type': 'cleanup_stopped', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить остановленный сервер', 'description': "Сервер 'punch-dev-monitoring-1' остановлен и продолжает тарифицироваться за хранилище (~1288.80 RUB/мес). Если сервер больше не нужен, рекомендуется удалить его для экономии средств. Перед удалением убедитесь, что важные данные сохранены.", 'source': 'cost.cleanup.stopped_resources', 'resource_type': 'server', 'resource_name': 'punch-dev-monitoring-1', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 1288.8, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.8, 'metrics_snapshot': "{'status': 'STOPPED', 'storage_cost_monthly': 1288.8}", 'insights': "{'action': 'delete', 'reason': 'stopped_unused', 'storage_only_cost': True}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 730068), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 730068), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 730338), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 730340)}
2025-11-05 01:07:26,731 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,732 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,733 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,733 INFO sqlalchemy.engine.Engine: [cached since 17.9s ago] {'pk_1': 1071}
2025-11-05 01:07:26,733 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1071
2025-11-05 01:07:26,740 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1071: name 'Тип' is not defined
2025-11-05 01:07:26,740 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,740 INFO sqlalchemy.engine.Engine: [cached since 27.5s ago] {'pk_1': 1065}
2025-11-05 01:07:26,741 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1065 outputs=1 created=1 updated=0 duration_ms=11
2025-11-05 01:07:26,741 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:26,741 INFO sqlalchemy.engine.Engine: [cached since 32.35s ago] {'pk_1': 103}
2025-11-05 01:07:26,742 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1065 rtype=server
2025-11-05 01:07:26,742 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,742 INFO sqlalchemy.engine.Engine: [cached since 27.5s ago] {'pk_1': 1066}
2025-11-05 01:07:26,743 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,743 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:26,743 INFO sqlalchemy.engine.Engine: [cached since 18.01s ago] {'param_1': 1066}
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1066 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,744 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,744 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1066 name=punch-dev-vpn-1 vcpu=2 mem_gib=2.0 region=ru-central1-a
2025-11-05 01:07:26,745 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:26,745 INFO sqlalchemy.engine.Engine: [cached since 18s ago] {'user_id_1': 35}
2025-11-05 01:07:26,745 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:26,746 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:26,746 INFO sqlalchemy.engine.Engine: [cached since 18s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:26,753 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:26,753 INFO sqlalchemy.engine.Engine: [cached since 18s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:26,776 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:26,776 INFO sqlalchemy.engine.Engine: [cached since 17.99s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 1.6, 'ram_gb_2': 2.5, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:26,808 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1066 total_prices=368 region_filtered=244
2025-11-05 01:07:26,808 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1066 pref_region=ru-central1-a min_score=0.80
2025-11-05 01:07:26,811 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:26,811 INFO sqlalchemy.engine.Engine: [cached since 17.99s ago] {'resource_id_1': 1066, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:26,812 INFO app.core.recommendations.plugins.price_check_rule: price_check: skip (alternative more expensive) | res_id=1066 rec_monthly=2122.84 current_monthly=1494.00
2025-11-05 01:07:26,812 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1066 outputs=0 created=0 updated=0 duration_ms=68
2025-11-05 01:07:26,812 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,812 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,813 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1066 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,813 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1066 rtype=server
2025-11-05 01:07:26,813 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:26,813 INFO sqlalchemy.engine.Engine: [cached since 27.57s ago] {'pk_1': 1067}
2025-11-05 01:07:26,814 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,814 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:26,814 INFO sqlalchemy.engine.Engine: [cached since 18.08s ago] {'param_1': 1067}
2025-11-05 01:07:26,814 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1067 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:26,815 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,815 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,815 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,815 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,815 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,815 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:26,815 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1067 name=punch-dev-backend-1 vcpu=8 mem_gib=16.0 region=ru-central1-a
2025-11-05 01:07:26,815 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:26,815 INFO sqlalchemy.engine.Engine: [cached since 18.07s ago] {'user_id_1': 35}
2025-11-05 01:07:26,816 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:26,816 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:26,816 INFO sqlalchemy.engine.Engine: [cached since 18.07s ago] {'provider_1': 'yandex', 'cpu_cores_1': 8, 'ram_gb_1': 12.8, 'ram_gb_2': 20.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:26,819 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:26,819 INFO sqlalchemy.engine.Engine: [cached since 18.06s ago] {'provider_1': 'yandex', 'cpu_cores_1': 8, 'ram_gb_1': 12.8, 'ram_gb_2': 20.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:26,828 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:26,828 INFO sqlalchemy.engine.Engine: [cached since 18.04s ago] {'provider_1': 'yandex', 'cpu_cores_1': 8, 'ram_gb_1': 12.8, 'ram_gb_2': 20.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:26,856 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1067 total_prices=374 region_filtered=244
2025-11-05 01:07:26,856 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1067 pref_region=ru-central1-a min_score=0.80
2025-11-05 01:07:26,858 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:26,858 INFO sqlalchemy.engine.Engine: [cached since 18.03s ago] {'resource_id_1': 1067, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:26,859 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate | res_id=1067 best_price_id=21900 score=1.00 target_monthly=6570.00 current_monthly=13379.40 savings=6809.40 min_abs=267.59
2025-11-05 01:07:26,859 INFO sqlalchemy.engine.Engine: SELECT price_comparison_recommendations.user_id AS price_comparison_recommendations_user_id, price_comparison_recommendations.current_resource_id AS price_comparison_recommendations_current_resource_id, price_comparison_recommendations.recommended_price_id AS price_comparison_recommendations_recommended_price_id, price_comparison_recommendations.similarity_score AS price_comparison_recommendations_similarity_score, price_comparison_recommendations.monthly_savings AS price_comparison_recommendations_monthly_savings, price_comparison_recommendations.annual_savings AS price_comparison_recommendations_annual_savings, price_comparison_recommendations.savings_percent AS price_comparison_recommendations_savings_percent, price_comparison_recommendations.migration_effort AS price_comparison_recommendations_migration_effort, price_comparison_recommendations.migration_notes AS price_comparison_recommendations_migration_notes, price_comparison_recommendations.status AS price_comparison_recommendations_status, price_comparison_recommendations.user_feedback AS price_comparison_recommendations_user_feedback, price_comparison_recommendations.id AS price_comparison_recommendations_id, price_comparison_recommendations.created_at AS price_comparison_recommendations_created_at, price_comparison_recommendations.updated_at AS price_comparison_recommendations_updated_at 
FROM price_comparison_recommendations 
WHERE price_comparison_recommendations.user_id = %(user_id_1)s AND price_comparison_recommendations.current_resource_id = %(current_resource_id_1)s AND price_comparison_recommendations.recommended_price_id = %(recommended_price_id_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,859 INFO sqlalchemy.engine.Engine: [cached since 17.89s ago] {'user_id_1': 35, 'current_resource_id_1': 1067, 'recommended_price_id_1': 21900, 'param_1': 1}
2025-11-05 01:07:26,861 INFO sqlalchemy.engine.Engine: UPDATE price_comparison_recommendations SET monthly_savings=%(monthly_savings)s, annual_savings=%(annual_savings)s, savings_percent=%(savings_percent)s, updated_at=%(updated_at)s WHERE price_comparison_recommendations.id = %(price_comparison_recommendations_id)s
2025-11-05 01:07:26,861 INFO sqlalchemy.engine.Engine: [cached since 17.89s ago] {'monthly_savings': 6809.4, 'annual_savings': 81712.8, 'savings_percent': 50.89, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 861068), 'price_comparison_recommendations_id': 210}
2025-11-05 01:07:26,861 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:26,861 INFO sqlalchemy.engine.Engine: [cached since 17.89s ago] {'resource_id_1': 1067, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'target_provider_1': 'beget', 'target_sku_1': 'mysql5_v1_220', 'param_1': 1}
2025-11-05 01:07:26,862 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:26,862 INFO sqlalchemy.engine.Engine: [cached since 18.03s ago] {'resource_id': 1067, 'provider_id': 103, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый аналог у другого провайдера', 'description': 'Найдено сопоставимое предложение у beget (ru1) примерно за 6570 RUB/мес. Текущая стоимость ~13379 RUB.', 'source': 'cost.price_check.cross_provider', 'resource_type': 'server', 'resource_name': 'punch-dev-backend-1', 'target_provider': 'beget', 'target_sku': 'mysql5_v1_220', 'target_region': 'ru1', 'potential_savings': 0.0, 'estimated_monthly_savings': 6809.4, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'similarity': 1.0, 'target_monthly': 6570.0, 'current_monthly': 13379.400000000001}", 'insights': "{'recommended_provider': 'beget', 'recommended_region': 'ru1', 'recommended_sku': 'mysql5_v1_220', 'recommended_price_id': 21900, 'specs_unknown': Fa ... (97 characters truncated) ... score': 1.0, 'price_id': 21900}, {'provider': 'beget', 'region': 'ru1', 'sku': 'mysql8_v1_220', 'monthly': 6570.0, 'score': 1.0, 'price_id': 21905}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 862467), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 26, 862467), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 862745), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 26, 862746)}
2025-11-05 01:07:26,863 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:26,865 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:26,865 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:26,865 INFO sqlalchemy.engine.Engine: [cached since 18.03s ago] {'pk_1': 1072}
2025-11-05 01:07:26,866 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1072
2025-11-05 01:07:31,257 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1072 (model: openai/gpt-4o-mini, tokens: 1013)
2025-11-05 01:07:31,259 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:31,259 INFO sqlalchemy.engine.Engine: [cached since 17.67s ago] {'ai_short_description': "<span class='provider-name'>beget</span> предлагает аналог за <strong>6,570 ₽/мес</strong> вместо текущих 13,379 ₽/мес", 'ai_detailed_description': "Экономия <strong>6,809 ₽/мес</strong> при переносе сервера <strong>punch-dev-backend-1</strong> в <span class='provider-name'>beget</span>. Схожая конфигурация (8 CPU, 16.0 GB RAM, 150.0 GB HD) там стоит <strong>6,570 ₽/мес</strong>.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 31, 258252), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 31, 259087), 'optimization_recommendations_id': 1072}
2025-11-05 01:07:31,261 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:31,264 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:31,265 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:31,265 INFO sqlalchemy.engine.Engine: [cached since 22.43s ago] {'pk_1': 1072}
2025-11-05 01:07:31,267 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1072
2025-11-05 01:07:31,268 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:31,268 INFO sqlalchemy.engine.Engine: [cached since 32.02s ago] {'pk_1': 1067}
2025-11-05 01:07:31,269 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1067 outputs=1 created=1 updated=0 duration_ms=4452
2025-11-05 01:07:31,270 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:31,270 INFO sqlalchemy.engine.Engine: [cached since 36.88s ago] {'pk_1': 103}
2025-11-05 01:07:31,271 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:31,271 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:31,272 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1067 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:31,272 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1067 rtype=server
2025-11-05 01:07:31,272 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:31,272 INFO sqlalchemy.engine.Engine: [cached since 32.03s ago] {'pk_1': 1068}
2025-11-05 01:07:31,273 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,274 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:31,274 INFO sqlalchemy.engine.Engine: [cached since 22.54s ago] {'param_1': 1068}
2025-11-05 01:07:31,275 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1068 outputs=0 created=0 updated=0 duration_ms=2
2025-11-05 01:07:31,276 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,276 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,276 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,276 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,276 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,276 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,277 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1068 name=punch-dev-balancer-1 vcpu=2 mem_gib=3.0 region=ru-central1-a
2025-11-05 01:07:31,277 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:31,278 INFO sqlalchemy.engine.Engine: [cached since 22.54s ago] {'user_id_1': 35}
2025-11-05 01:07:31,279 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:31,280 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:31,280 INFO sqlalchemy.engine.Engine: [cached since 22.53s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 2.4000000000000004, 'ram_gb_2': 3.75, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:31,286 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:31,287 INFO sqlalchemy.engine.Engine: [cached since 22.53s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 2.4000000000000004, 'ram_gb_2': 3.75, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:31,304 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:31,305 INFO sqlalchemy.engine.Engine: [cached since 22.52s ago] {'provider_1': 'yandex', 'cpu_cores_1': 2, 'ram_gb_1': 2.4000000000000004, 'ram_gb_2': 3.75, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:31,328 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1068 total_prices=0 region_filtered=0
2025-11-05 01:07:31,329 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1068 pref_region=ru-central1-a min_score=0.80
2025-11-05 01:07:31,329 INFO app.core.recommendations.plugins.price_check_rule: price_check: no candidates for preferred region | res_id=1068 pref_region=ru-central1-a -> fallback to any region
2025-11-05 01:07:31,329 INFO app.core.recommendations.plugins.price_check_rule: price_check: no candidates | res_id=1068 min_score=0.80 specs_unknown=False
2025-11-05 01:07:31,329 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1068 outputs=0 created=0 updated=0 duration_ms=52
2025-11-05 01:07:31,329 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,329 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,329 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1068 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:31,329 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1068 rtype=server
2025-11-05 01:07:31,330 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:31,330 INFO sqlalchemy.engine.Engine: [cached since 32.08s ago] {'pk_1': 1069}
2025-11-05 01:07:31,331 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,331 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:31,331 INFO sqlalchemy.engine.Engine: [cached since 22.59s ago] {'param_1': 1069}
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1069 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,333 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:31,333 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1069 name=punch-dev-mysql-1 vcpu=4 mem_gib=6.0 region=ru-central1-a
2025-11-05 01:07:31,334 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:31,334 INFO sqlalchemy.engine.Engine: [cached since 22.59s ago] {'user_id_1': 35}
2025-11-05 01:07:31,334 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:31,335 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:31,335 INFO sqlalchemy.engine.Engine: [cached since 22.59s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 4.800000000000001, 'ram_gb_2': 7.5, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:31,339 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:31,339 INFO sqlalchemy.engine.Engine: [cached since 22.58s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 4.800000000000001, 'ram_gb_2': 7.5, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:31,349 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:31,349 INFO sqlalchemy.engine.Engine: [cached since 22.57s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 4.800000000000001, 'ram_gb_2': 7.5, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:31,369 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1069 total_prices=12 region_filtered=12
2025-11-05 01:07:31,369 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1069 pref_region=ru-central1-a min_score=0.80
2025-11-05 01:07:31,369 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:31,369 INFO sqlalchemy.engine.Engine: [cached since 22.55s ago] {'resource_id_1': 1069, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:31,370 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate | res_id=1069 best_price_id=476 score=0.87 target_monthly=1934.10 current_monthly=4459.20 savings=2525.10 min_abs=100.00
2025-11-05 01:07:31,370 INFO sqlalchemy.engine.Engine: SELECT price_comparison_recommendations.user_id AS price_comparison_recommendations_user_id, price_comparison_recommendations.current_resource_id AS price_comparison_recommendations_current_resource_id, price_comparison_recommendations.recommended_price_id AS price_comparison_recommendations_recommended_price_id, price_comparison_recommendations.similarity_score AS price_comparison_recommendations_similarity_score, price_comparison_recommendations.monthly_savings AS price_comparison_recommendations_monthly_savings, price_comparison_recommendations.annual_savings AS price_comparison_recommendations_annual_savings, price_comparison_recommendations.savings_percent AS price_comparison_recommendations_savings_percent, price_comparison_recommendations.migration_effort AS price_comparison_recommendations_migration_effort, price_comparison_recommendations.migration_notes AS price_comparison_recommendations_migration_notes, price_comparison_recommendations.status AS price_comparison_recommendations_status, price_comparison_recommendations.user_feedback AS price_comparison_recommendations_user_feedback, price_comparison_recommendations.id AS price_comparison_recommendations_id, price_comparison_recommendations.created_at AS price_comparison_recommendations_created_at, price_comparison_recommendations.updated_at AS price_comparison_recommendations_updated_at 
FROM price_comparison_recommendations 
WHERE price_comparison_recommendations.user_id = %(user_id_1)s AND price_comparison_recommendations.current_resource_id = %(current_resource_id_1)s AND price_comparison_recommendations.recommended_price_id = %(recommended_price_id_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:31,370 INFO sqlalchemy.engine.Engine: [cached since 22.4s ago] {'user_id_1': 35, 'current_resource_id_1': 1069, 'recommended_price_id_1': 476, 'param_1': 1}
2025-11-05 01:07:31,372 INFO sqlalchemy.engine.Engine: UPDATE price_comparison_recommendations SET similarity_score=%(similarity_score)s, monthly_savings=%(monthly_savings)s, annual_savings=%(annual_savings)s, savings_percent=%(savings_percent)s, updated_at=%(updated_at)s WHERE price_comparison_recommendations.id = %(price_comparison_recommendations_id)s
2025-11-05 01:07:31,372 INFO sqlalchemy.engine.Engine: [generated in 0.00012s] {'similarity_score': 87.14, 'monthly_savings': 2525.1, 'annual_savings': 30301.2, 'savings_percent': 56.63, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 31, 372273), 'price_comparison_recommendations_id': 211}
2025-11-05 01:07:31,373 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:31,373 INFO sqlalchemy.engine.Engine: [cached since 22.4s ago] {'resource_id_1': 1069, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'target_provider_1': 'beget', 'target_sku_1': 'ru2-normal_cpu-4cpu-7gb-105gb', 'param_1': 1}
2025-11-05 01:07:31,374 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:31,374 INFO sqlalchemy.engine.Engine: [cached since 22.54s ago] {'resource_id': 1069, 'provider_id': 103, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый аналог у другого провайдера', 'description': 'Найдено сопоставимое предложение у beget (ru2) примерно за 1934 RUB/мес. Текущая стоимость ~4459 RUB.', 'source': 'cost.price_check.cross_provider', 'resource_type': 'server', 'resource_name': 'punch-dev-mysql-1', 'target_provider': 'beget', 'target_sku': 'ru2-normal_cpu-4cpu-7gb-105gb', 'target_region': 'ru2', 'potential_savings': 0.0, 'estimated_monthly_savings': 2525.1, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.8714285714285712, 'metrics_snapshot': "{'similarity': 0.87, 'target_monthly': 1934.1, 'current_monthly': 4459.2}", 'insights': "{'recommended_provider': 'beget', 'recommended_region': 'ru2', 'recommended_sku': 'ru2-normal_cpu-4cpu-7gb-105gb', 'recommended_price_id': 476, 'spec ... (142 characters truncated) ... price_id': 476}, {'provider': 'beget', 'region': 'ru1', 'sku': 'ru1-normal_cpu-4cpu-7gb-105gb', 'monthly': 1934.1, 'score': 0.87, 'price_id': 6824}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 31, 373740), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 31, 373742), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 31, 374050), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 31, 374051)}
2025-11-05 01:07:31,374 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:31,376 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:31,376 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:31,376 INFO sqlalchemy.engine.Engine: [cached since 22.54s ago] {'pk_1': 1073}
2025-11-05 01:07:31,376 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1073
2025-11-05 01:07:34,701 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1073 (model: openai/gpt-4o-mini, tokens: 1020)
2025-11-05 01:07:34,702 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:34,702 INFO sqlalchemy.engine.Engine: [cached since 21.11s ago] {'ai_short_description': "<span class='provider-name'>beget</span> предлагает аналог за <strong>1,934 ₽/мес</strong> вместо текущих <strong>4,459 ₽/мес</strong>", 'ai_detailed_description': "Экономия <strong>2,525 ₽/мес</strong> при переносе сервера <strong>punch-dev-mysql-1</strong> в <span class='provider-name'>beget</span>. Схожая конфигурация (4 CPU, 7 GB RAM, 105 GB HD) там стоит <strong>1,934 ₽/мес</strong>.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 34, 702286), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 34, 702706), 'optimization_recommendations_id': 1073}
2025-11-05 01:07:34,703 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:34,705 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:34,706 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:34,706 INFO sqlalchemy.engine.Engine: [cached since 25.87s ago] {'pk_1': 1073}
2025-11-05 01:07:34,707 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1073
2025-11-05 01:07:34,707 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:34,707 INFO sqlalchemy.engine.Engine: [cached since 35.46s ago] {'pk_1': 1069}
2025-11-05 01:07:34,709 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1069 outputs=1 created=1 updated=0 duration_ms=3373
2025-11-05 01:07:34,709 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:34,709 INFO sqlalchemy.engine.Engine: [cached since 40.32s ago] {'pk_1': 103}
2025-11-05 01:07:34,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:34,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:34,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1069 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:34,710 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1069 rtype=server
2025-11-05 01:07:34,711 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:34,711 INFO sqlalchemy.engine.Engine: [cached since 35.47s ago] {'pk_1': 1070}
2025-11-05 01:07:34,712 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,712 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:07:34,712 INFO sqlalchemy.engine.Engine: [cached since 25.98s ago] {'param_1': 1070}
2025-11-05 01:07:34,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1070 outputs=0 created=0 updated=0 duration_ms=1
2025-11-05 01:07:34,713 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,714 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:34,714 INFO app.core.recommendations.plugins.price_check_rule: price_check: normalized | res_id=1070 name=punch-dev-runner-1 vcpu=4 mem_gib=8.0 region=ru-central1-a
2025-11-05 01:07:34,715 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s AND user_provider_preferences.is_enabled = true
2025-11-05 01:07:34,715 INFO sqlalchemy.engine.Engine: [cached since 25.97s ago] {'user_id_1': 35}
2025-11-05 01:07:34,715 INFO app.core.recommendations.plugins.price_check_rule: price_check: user preferences | user_id=35 enabled_providers=['beget', 'selectel', 'yandex']
2025-11-05 01:07:34,716 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s) AS anon_1
2025-11-05 01:07:34,716 INFO sqlalchemy.engine.Engine: [cached since 25.97s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:34,723 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%'))) AS anon_1
2025-11-05 01:07:34,723 INFO sqlalchemy.engine.Engine: [cached since 25.97s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'region_1': 'ru', 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:34,748 INFO sqlalchemy.engine.Engine: SELECT provider_prices.provider AS provider_prices_provider, provider_prices.resource_type AS provider_prices_resource_type, provider_prices.provider_sku AS provider_prices_provider_sku, provider_prices.region AS provider_prices_region, provider_prices.cpu_cores AS provider_prices_cpu_cores, provider_prices.ram_gb AS provider_prices_ram_gb, provider_prices.storage_gb AS provider_prices_storage_gb, provider_prices.storage_type AS provider_prices_storage_type, provider_prices.extended_specs AS provider_prices_extended_specs, provider_prices.hourly_cost AS provider_prices_hourly_cost, provider_prices.monthly_cost AS provider_prices_monthly_cost, provider_prices.currency AS provider_prices_currency, provider_prices.yearly_cost AS provider_prices_yearly_cost, provider_prices.three_year_cost AS provider_prices_three_year_cost, provider_prices.commitment_discount_percent AS provider_prices_commitment_discount_percent, provider_prices.last_updated AS provider_prices_last_updated, provider_prices.confidence_score AS provider_prices_confidence_score, provider_prices.source AS provider_prices_source, provider_prices.source_url AS provider_prices_source_url, provider_prices.notes AS provider_prices_notes, provider_prices.id AS provider_prices_id, provider_prices.created_at AS provider_prices_created_at, provider_prices.updated_at AS provider_prices_updated_at 
FROM provider_prices 
WHERE provider_prices.cpu_cores IS NOT NULL AND provider_prices.ram_gb IS NOT NULL AND provider_prices.provider != %(provider_1)s AND provider_prices.provider IN (%(provider_2_1)s, %(provider_2_2)s, %(provider_2_3)s) AND provider_prices.cpu_cores = %(cpu_cores_1)s AND provider_prices.ram_gb BETWEEN %(ram_gb_1)s AND %(ram_gb_2)s AND (provider_prices.region LIKE concat(%(region_1)s, '%%')) ORDER BY provider_prices.monthly_cost IS NULL ASC, provider_prices.monthly_cost ASC 
 LIMIT %(param_1)s
2025-11-05 01:07:34,748 INFO sqlalchemy.engine.Engine: [cached since 25.96s ago] {'provider_1': 'yandex', 'cpu_cores_1': 4, 'ram_gb_1': 6.4, 'ram_gb_2': 10.0, 'region_1': 'ru', 'param_1': 500, 'provider_2_1': 'beget', 'provider_2_2': 'selectel', 'provider_2_3': 'yandex'}
2025-11-05 01:07:34,788 INFO app.core.recommendations.plugins.price_check_rule: price_check: catalog scope | res_id=1070 total_prices=374 region_filtered=256
2025-11-05 01:07:34,789 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate_search | res_id=1070 pref_region=ru-central1-a min_score=0.80
2025-11-05 01:07:34,794 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:07:34,794 INFO sqlalchemy.engine.Engine: [cached since 25.97s ago] {'resource_id_1': 1070, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'status_1': 'dismissed'}
2025-11-05 01:07:34,795 INFO app.core.recommendations.plugins.price_check_rule: price_check: candidate | res_id=1070 best_price_id=21902 score=1.00 target_monthly=2520.00 current_monthly=6460.80 savings=3940.80 min_abs=129.22
2025-11-05 01:07:34,796 INFO sqlalchemy.engine.Engine: SELECT price_comparison_recommendations.user_id AS price_comparison_recommendations_user_id, price_comparison_recommendations.current_resource_id AS price_comparison_recommendations_current_resource_id, price_comparison_recommendations.recommended_price_id AS price_comparison_recommendations_recommended_price_id, price_comparison_recommendations.similarity_score AS price_comparison_recommendations_similarity_score, price_comparison_recommendations.monthly_savings AS price_comparison_recommendations_monthly_savings, price_comparison_recommendations.annual_savings AS price_comparison_recommendations_annual_savings, price_comparison_recommendations.savings_percent AS price_comparison_recommendations_savings_percent, price_comparison_recommendations.migration_effort AS price_comparison_recommendations_migration_effort, price_comparison_recommendations.migration_notes AS price_comparison_recommendations_migration_notes, price_comparison_recommendations.status AS price_comparison_recommendations_status, price_comparison_recommendations.user_feedback AS price_comparison_recommendations_user_feedback, price_comparison_recommendations.id AS price_comparison_recommendations_id, price_comparison_recommendations.created_at AS price_comparison_recommendations_created_at, price_comparison_recommendations.updated_at AS price_comparison_recommendations_updated_at 
FROM price_comparison_recommendations 
WHERE price_comparison_recommendations.user_id = %(user_id_1)s AND price_comparison_recommendations.current_resource_id = %(current_resource_id_1)s AND price_comparison_recommendations.recommended_price_id = %(recommended_price_id_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:34,796 INFO sqlalchemy.engine.Engine: [cached since 25.82s ago] {'user_id_1': 35, 'current_resource_id_1': 1070, 'recommended_price_id_1': 21902, 'param_1': 1}
2025-11-05 01:07:34,798 INFO sqlalchemy.engine.Engine: UPDATE price_comparison_recommendations SET monthly_savings=%(monthly_savings)s, annual_savings=%(annual_savings)s, updated_at=%(updated_at)s WHERE price_comparison_recommendations.id = %(price_comparison_recommendations_id)s
2025-11-05 01:07:34,798 INFO sqlalchemy.engine.Engine: [generated in 0.00016s] {'monthly_savings': 3940.8, 'annual_savings': 47289.6, 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 34, 798475), 'price_comparison_recommendations_id': 212}
2025-11-05 01:07:34,799 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s AND optimization_recommendations.target_provider = %(target_provider_1)s AND optimization_recommendations.target_sku = %(target_sku_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:34,799 INFO sqlalchemy.engine.Engine: [cached since 25.83s ago] {'resource_id_1': 1070, 'recommendation_type_1': 'price_compare_cross_provider', 'source_1': 'cost.price_check.cross_provider', 'target_provider_1': 'beget', 'target_sku_1': 'mysql5_v1_80', 'param_1': 1}
2025-11-05 01:07:34,800 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:34,800 INFO sqlalchemy.engine.Engine: [cached since 25.97s ago] {'resource_id': 1070, 'provider_id': 103, 'recommendation_type': 'price_compare_cross_provider', 'category': 'cost', 'severity': 'low', 'title': 'Доступен более дешёвый аналог у другого провайдера', 'description': 'Найдено сопоставимое предложение у beget (ru1) примерно за 2520 RUB/мес. Текущая стоимость ~6460 RUB.', 'source': 'cost.price_check.cross_provider', 'resource_type': 'server', 'resource_name': 'punch-dev-runner-1', 'target_provider': 'beget', 'target_sku': 'mysql5_v1_80', 'target_region': 'ru1', 'potential_savings': 0.0, 'estimated_monthly_savings': 3940.8, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 0.9, 'metrics_snapshot': "{'similarity': 1.0, 'target_monthly': 2520.0, 'current_monthly': 6460.8}", 'insights': "{'recommended_provider': 'beget', 'recommended_region': 'ru1', 'recommended_sku': 'mysql5_v1_80', 'recommended_price_id': 21902, 'specs_unknown': Fal ... (94 characters truncated) ... 'score': 1.0, 'price_id': 21902}, {'provider': 'beget', 'region': 'ru1', 'sku': 'mysql8_v1_80', 'monthly': 2520.0, 'score': 1.0, 'price_id': 21907}]}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 34, 800269), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 34, 800270), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 34, 800646), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 34, 800647)}
2025-11-05 01:07:34,801 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:34,803 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:34,803 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:34,803 INFO sqlalchemy.engine.Engine: [cached since 25.97s ago] {'pk_1': 1074}
2025-11-05 01:07:34,804 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1074
2025-11-05 01:07:38,287 INFO app.core.services.ai_text_generator: ✓ AI text generated for rec 1074 (model: openai/gpt-4o-mini, tokens: 1017)
2025-11-05 01:07:38,289 INFO sqlalchemy.engine.Engine: UPDATE optimization_recommendations SET ai_short_description=%(ai_short_description)s, ai_detailed_description=%(ai_detailed_description)s, ai_generated_at=%(ai_generated_at)s, updated_at=%(updated_at)s WHERE optimization_recommendations.id = %(optimization_recommendations_id)s
2025-11-05 01:07:38,289 INFO sqlalchemy.engine.Engine: [cached since 24.7s ago] {'ai_short_description': "<span class='provider-name'>beget</span> предлагает аналог за <strong>2,520 ₽/мес</strong> вместо текущих <strong>6,461 ₽/мес</strong>", 'ai_detailed_description': "Экономия <strong>3,941 ₽/мес</strong> при переносе сервера <strong>punch-dev-runner-1</strong> в <span class='provider-name'>beget</span>. Схожая конфигурация (4 CPU, 8.0 GB RAM, 50.0 GB HD) там стоит <strong>2,520 ₽/мес</strong>.", 'ai_generated_at': datetime.datetime(2025, 11, 4, 22, 7, 38, 288616), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 38, 289481), 'optimization_recommendations_id': 1074}
2025-11-05 01:07:38,291 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:38,294 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:38,295 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:38,295 INFO sqlalchemy.engine.Engine: [cached since 29.46s ago] {'pk_1': 1074}
2025-11-05 01:07:38,297 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: ✓ AI text generated and stored for recommendation 1074
2025-11-05 01:07:38,297 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,297 INFO sqlalchemy.engine.Engine: [cached since 39.05s ago] {'pk_1': 1070}
2025-11-05 01:07:38,299 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.price_check.cross_provider provider=yandex resource_id=1070 outputs=1 created=1 updated=0 duration_ms=3582
2025-11-05 01:07:38,299 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:38,299 INFO sqlalchemy.engine.Engine: [cached since 43.91s ago] {'pk_1': 103}
2025-11-05 01:07:38,300 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:38,300 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:38,300 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1070 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:38,300 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1070 rtype=server
2025-11-05 01:07:38,301 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,301 INFO sqlalchemy.engine.Engine: [cached since 39.06s ago] {'pk_1': 1071}
2025-11-05 01:07:38,302 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,303 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,304 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,304 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1071 rtype=reserved_ip
2025-11-05 01:07:38,305 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.resource_id = %(resource_id_1)s AND optimization_recommendations.recommendation_type = %(recommendation_type_1)s AND optimization_recommendations.source = %(source_1)s 
 LIMIT %(param_1)s
2025-11-05 01:07:38,305 INFO sqlalchemy.engine.Engine: [cached since 29.47s ago] {'resource_id_1': 1071, 'recommendation_type_1': 'cleanup_unused_ip', 'source_1': 'cost.cleanup.unused_reserved_ips', 'param_1': 1}
2025-11-05 01:07:38,307 INFO sqlalchemy.engine.Engine: INSERT INTO optimization_recommendations (resource_id, provider_id, recommendation_type, category, severity, title, description, source, resource_type, resource_name, target_provider, target_sku, target_region, potential_savings, estimated_monthly_savings, estimated_one_time_savings, currency, confidence_score, metrics_snapshot, insights, ai_short_description, ai_detailed_description, ai_generated_at, status, first_seen_at, seen_at, snoozed_until, applied_at, dismissed_at, dismissed_reason, last_verified_at, verification_fail_count, created_at, updated_at) VALUES (%(resource_id)s, %(provider_id)s, %(recommendation_type)s, %(category)s, %(severity)s, %(title)s, %(description)s, %(source)s, %(resource_type)s, %(resource_name)s, %(target_provider)s, %(target_sku)s, %(target_region)s, %(potential_savings)s, %(estimated_monthly_savings)s, %(estimated_one_time_savings)s, %(currency)s, %(confidence_score)s, %(metrics_snapshot)s, %(insights)s, %(ai_short_description)s, %(ai_detailed_description)s, %(ai_generated_at)s, %(status)s, %(first_seen_at)s, %(seen_at)s, %(snoozed_until)s, %(applied_at)s, %(dismissed_at)s, %(dismissed_reason)s, %(last_verified_at)s, %(verification_fail_count)s, %(created_at)s, %(updated_at)s)
2025-11-05 01:07:38,307 INFO sqlalchemy.engine.Engine: [cached since 29.47s ago] {'resource_id': 1071, 'provider_id': 103, 'recommendation_type': 'cleanup_unused_ip', 'category': 'cost', 'severity': 'medium', 'title': 'Удалить неиспользуемый зарезервированный IP', 'description': "Зарезервированный IP-адрес 'Reserved IP: 158.160.107.171' (158.160.107.171) не используется уже 901 дней (2.5 лет) и продолжает потреблять средства, что стоит 241.20 RUB/месяц. Рассмотрите возможность освобождения этого IP-адреса, чтобы полностью исключить эти расходы.", 'source': 'cost.cleanup.unused_reserved_ips', 'resource_type': 'reserved_ip', 'resource_name': 'Reserved IP: 158.160.107.171', 'target_provider': None, 'target_sku': None, 'target_region': None, 'potential_savings': 0.0, 'estimated_monthly_savings': 241.2, 'estimated_one_time_savings': 0.0, 'currency': 'RUB', 'confidence_score': 1.0, 'metrics_snapshot': "{'age_days': 901, 'age_years': 2.5, 'age_threshold_days': 180, 'ip_address': '158.160.107.171', 'created_at': '2023-05-18T12:37:25Z', 'is_used': False, 'current_monthly_cost': 241.2}", 'insights': "{'action': 'release_ip', 'age_days': 901, 'ip_address': '158.160.107.171'}", 'ai_short_description': None, 'ai_detailed_description': None, 'ai_generated_at': None, 'status': 'pending', 'first_seen_at': datetime.datetime(2025, 11, 4, 22, 7, 38, 306675), 'seen_at': None, 'snoozed_until': None, 'applied_at': None, 'dismissed_at': None, 'dismissed_reason': None, 'last_verified_at': datetime.datetime(2025, 11, 4, 22, 7, 38, 306677), 'verification_fail_count': 0, 'created_at': datetime.datetime(2025, 11, 5, 1, 7, 38, 307410), 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 38, 307413)}
2025-11-05 01:07:38,308 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:38,311 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:38,311 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:07:38,311 INFO sqlalchemy.engine.Engine: [cached since 29.48s ago] {'pk_1': 1075}
2025-11-05 01:07:38,313 INFO app.core.services.ai_text_generator: Generating AI text for recommendation 1075
2025-11-05 01:07:38,329 WARNING app.core.services.ai_text_generator: Agent returned error for rec 1075: name 'Тип' is not defined
2025-11-05 01:07:38,330 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,330 INFO sqlalchemy.engine.Engine: [cached since 39.09s ago] {'pk_1': 1071}
2025-11-05 01:07:38,332 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1071 outputs=1 created=1 updated=0 duration_ms=25
2025-11-05 01:07:38,332 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,332 INFO sqlalchemy.engine.Engine: [cached since 39.09s ago] {'pk_1': 1072}
2025-11-05 01:07:38,334 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:38,334 INFO sqlalchemy.engine.Engine: [cached since 43.94s ago] {'pk_1': 103}
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,335 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,336 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1072 rtype=container_registry
2025-11-05 01:07:38,336 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,336 INFO sqlalchemy.engine.Engine: [cached since 39.09s ago] {'pk_1': 1073}
2025-11-05 01:07:38,337 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:07:38,337 INFO sqlalchemy.engine.Engine: [cached since 43.95s ago] {'pk_1': 102}
2025-11-05 01:07:38,338 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,338 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,338 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1073 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1073 rtype=snapshot
2025-11-05 01:07:38,339 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,340 INFO sqlalchemy.engine.Engine: [cached since 39.09s ago] {'pk_1': 1074}
2025-11-05 01:07:38,340 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1074 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,341 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1074 rtype=snapshot
2025-11-05 01:07:38,342 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id = %(pk_1)s
2025-11-05 01:07:38,342 INFO sqlalchemy.engine.Engine: [cached since 39.1s ago] {'pk_1': 1075}
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.rightsize.cpu_underuse provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kafka_cluster provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.kubernetes_cluster provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.mysql_cluster provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_start | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_run_end | rule_id=cost.cleanup.old_snapshots provider=yandex resource_id=1075 outputs=0 created=0 updated=0 duration_ms=0
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.postgresql_cluster provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.cross_provider provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.price_check.redis_cluster provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.stopped_resources provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,343 INFO app.core.recommendations.orchestrator.RecommendationOrchestrator: rule_skip | reason=not_applicable rule_id=cost.cleanup.unused_reserved_ips provider=yandex resource_id=1075 rtype=snapshot
2025-11-05 01:07:38,344 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:38,345 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:38,345 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.id = %(pk_1)s
2025-11-05 01:07:38,345 INFO sqlalchemy.engine.Engine: [cached since 43.95s ago] {'pk_1': 1098}
2025-11-05 01:07:38,347 INFO sqlalchemy.engine.Engine: UPDATE complete_syncs SET sync_config=%(sync_config)s, updated_at=%(updated_at)s WHERE complete_syncs.id = %(complete_syncs_id)s
2025-11-05 01:07:38,347 INFO sqlalchemy.engine.Engine: [generated in 0.00017s] {'sync_config': '{"sync_type": "manual", "user_id": 35, "providers_count": 2, "sync_timestamp": "2025-11-05T01:06:54.387898", "providers": [{"id": 102, "name": "ITL.T ... (688 characters truncated) ... k.kafka_cluster": 0.01730637508444488, "cost.cleanup.old_snapshots": 0.044992041075602174, "cost.cleanup.unused_reserved_ips": 0.06414537399541587}}}', 'updated_at': datetime.datetime(2025, 11, 5, 1, 7, 38, 347457), 'complete_syncs_id': 1098}
2025-11-05 01:07:38,348 INFO sqlalchemy.engine.Engine: COMMIT
2025-11-05 01:07:38,350 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:38] "POST /api/complete-sync HTTP/1.1" 200 -
2025-11-05 01:07:40,365 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:07:40,365 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.is_deleted = false
2025-11-05 01:07:40,365 INFO sqlalchemy.engine.Engine: [cached since 47.29s ago] {}
2025-11-05 01:07:40,367 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s) AS anon_1
2025-11-05 01:07:40,367 INFO sqlalchemy.engine.Engine: [cached since 47.28s ago] {'provider_id_1': 102}
2025-11-05 01:07:40,369 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:07:40,369 INFO sqlalchemy.engine.Engine: [cached since 47.28s ago] {'provider_id_1': 102, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:07:40,371 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s) AS anon_1
2025-11-05 01:07:40,371 INFO sqlalchemy.engine.Engine: [cached since 47.28s ago] {'provider_id_1': 103}
2025-11-05 01:07:40,372 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:07:40,372 INFO sqlalchemy.engine.Engine: [cached since 47.28s ago] {'provider_id_1': 103, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:07:40,373 INFO sqlalchemy.engine.Engine: SELECT provider_catalog.id AS provider_catalog_id, provider_catalog.provider_type AS provider_catalog_provider_type, provider_catalog.display_name AS provider_catalog_display_name, provider_catalog.description AS provider_catalog_description, provider_catalog.logo_url AS provider_catalog_logo_url, provider_catalog.is_enabled AS provider_catalog_is_enabled, provider_catalog.has_pricing_api AS provider_catalog_has_pricing_api, provider_catalog.pricing_method AS provider_catalog_pricing_method, provider_catalog.last_price_sync AS provider_catalog_last_price_sync, provider_catalog.sync_status AS provider_catalog_sync_status, provider_catalog.sync_error AS provider_catalog_sync_error, provider_catalog.website_url AS provider_catalog_website_url, provider_catalog.documentation_url AS provider_catalog_documentation_url, provider_catalog.supported_regions AS provider_catalog_supported_regions, provider_catalog.created_at AS provider_catalog_created_at, provider_catalog.updated_at AS provider_catalog_updated_at 
FROM provider_catalog 
WHERE provider_catalog.is_enabled = true
2025-11-05 01:07:40,373 INFO sqlalchemy.engine.Engine: [cached since 70.23s ago] {}
2025-11-05 01:07:40,375 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s ORDER BY complete_syncs.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:07:40,375 INFO sqlalchemy.engine.Engine: [cached since 70.3s ago] {'user_id_1': 35, 'param_1': 1}
2025-11-05 01:07:40,378 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:07:40,379 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "GET /connections HTTP/1.1" 200 -
2025-11-05 01:07:40,395 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "GET /static/css/main.css?v=3504 HTTP/1.1" 200 -
2025-11-05 01:07:40,397 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/pages/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,397 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,398 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/provider_logos/yc_logo.png HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,399 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/provider_logos/beget_logo.jpeg HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,400 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/provider_logos/selectel_logo.svg HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,401 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/js/connections.js HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,402 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/core/variables.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,403 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/core/reset.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,404 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/core/utilities.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,406 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/buttons.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,406 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/forms.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,407 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/cards.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,408 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/tables.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,410 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/navigation.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,410 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/modals.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,411 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/components/badges.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,412 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/layouts/dashboard.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,413 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/layouts/admin.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,413 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/layouts/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,415 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/pages/admin/users.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,416 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/pages/admin/unrecognized-resources.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,417 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/features/charts.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,418 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/features/drag-drop.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,418 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/css/legacy.css HTTP/1.1[0m" 304 -
2025-11-05 01:07:40,426 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:07:40] "[36mGET /static/favicon.ico HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,309 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:08,310 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-11-05 01:08:08,310 INFO sqlalchemy.engine.Engine: [cached since 98.24s ago] {'pk_1': 35}
2025-11-05 01:08:08,319 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:08,321 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "GET /recommendations HTTP/1.1" 200 -
2025-11-05 01:08:08,339 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "GET /static/css/main.css?v=7706 HTTP/1.1" 200 -
2025-11-05 01:08:08,340 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/pages/recommendations.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,341 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,341 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/js/recommendations.js HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,343 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/core/variables.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,346 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/core/reset.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,347 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/core/utilities.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,347 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/buttons.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,349 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/forms.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,350 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/tables.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,351 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/modals.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,352 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/cards.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,353 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/badges.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,353 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/components/navigation.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,355 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/layouts/admin.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,356 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/layouts/dashboard.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,357 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/pages/admin/users.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,357 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/layouts/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,358 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/pages/admin/unrecognized-resources.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,358 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/features/charts.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,359 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/features/drag-drop.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,360 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "[36mGET /static/css/legacy.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:08,366 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:08,367 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.`role` = %(role_1)s
2025-11-05 01:08:08,367 INFO sqlalchemy.engine.Engine: [generated in 0.00015s] {'role_1': 'demouser'}
2025-11-05 01:08:08,370 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.is_deleted = false AND (cloud_providers.user_id NOT IN (%(user_id_1_1)s))
2025-11-05 01:08:08,370 INFO sqlalchemy.engine.Engine: [generated in 0.00017s] {'user_id_1_1': 32}
2025-11-05 01:08:08,371 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:08,371 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "GET /api/providers/ HTTP/1.1" 200 -
2025-11-05 01:08:08,375 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:08,377 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations INNER JOIN cloud_providers ON optimization_recommendations.provider_id = cloud_providers.id 
WHERE cloud_providers.user_id = %(user_id_1)s AND optimization_recommendations.status = %(status_1)s ORDER BY optimization_recommendations.estimated_monthly_savings DESC 
 LIMIT %(param_1)s, %(param_2)s
2025-11-05 01:08:08,377 INFO sqlalchemy.engine.Engine: [generated in 0.00016s] {'user_id_1': 35, 'status_1': 'pending', 'param_1': 0, 'param_2': 25}
2025-11-05 01:08:08,380 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations INNER JOIN cloud_providers ON optimization_recommendations.provider_id = cloud_providers.id 
WHERE cloud_providers.user_id = %(user_id_1)s AND optimization_recommendations.status = %(status_1)s) AS anon_1
2025-11-05 01:08:08,380 INFO sqlalchemy.engine.Engine: [generated in 0.00009s] {'user_id_1': 35, 'status_1': 'pending'}
2025-11-05 01:08:08,382 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,382 INFO sqlalchemy.engine.Engine: [generated in 0.00017s] {'pk_1': 103}
2025-11-05 01:08:08,383 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,383 INFO sqlalchemy.engine.Engine: [cached since 0.001372s ago] {'pk_1': 103}
2025-11-05 01:08:08,384 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,384 INFO sqlalchemy.engine.Engine: [cached since 0.002305s ago] {'pk_1': 102}
2025-11-05 01:08:08,385 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,385 INFO sqlalchemy.engine.Engine: [cached since 0.003112s ago] {'pk_1': 103}
2025-11-05 01:08:08,385 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,386 INFO sqlalchemy.engine.Engine: [cached since 0.003965s ago] {'pk_1': 102}
2025-11-05 01:08:08,386 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,386 INFO sqlalchemy.engine.Engine: [cached since 0.004521s ago] {'pk_1': 102}
2025-11-05 01:08:08,387 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,387 INFO sqlalchemy.engine.Engine: [cached since 0.005072s ago] {'pk_1': 103}
2025-11-05 01:08:08,387 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,387 INFO sqlalchemy.engine.Engine: [cached since 0.005713s ago] {'pk_1': 102}
2025-11-05 01:08:08,388 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,388 INFO sqlalchemy.engine.Engine: [cached since 0.006217s ago] {'pk_1': 102}
2025-11-05 01:08:08,388 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,388 INFO sqlalchemy.engine.Engine: [cached since 0.006837s ago] {'pk_1': 102}
2025-11-05 01:08:08,389 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,389 INFO sqlalchemy.engine.Engine: [cached since 0.007535s ago] {'pk_1': 103}
2025-11-05 01:08:08,390 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,390 INFO sqlalchemy.engine.Engine: [cached since 0.008283s ago] {'pk_1': 102}
2025-11-05 01:08:08,391 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,391 INFO sqlalchemy.engine.Engine: [cached since 0.009052s ago] {'pk_1': 102}
2025-11-05 01:08:08,391 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,391 INFO sqlalchemy.engine.Engine: [cached since 0.009824s ago] {'pk_1': 102}
2025-11-05 01:08:08,392 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,392 INFO sqlalchemy.engine.Engine: [cached since 0.01055s ago] {'pk_1': 102}
2025-11-05 01:08:08,393 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,393 INFO sqlalchemy.engine.Engine: [cached since 0.01128s ago] {'pk_1': 102}
2025-11-05 01:08:08,393 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:08,394 INFO sqlalchemy.engine.Engine: [cached since 0.01194s ago] {'pk_1': 102}
2025-11-05 01:08:08,395 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:08,395 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:08] "GET /api/recommendations?status=pending&page=1&page_size=25&order_by=-estimated_monthly_savings HTTP/1.1" 200 -
2025-11-05 01:08:18,504 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:18,506 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:08:18,506 INFO sqlalchemy.engine.Engine: [generated in 0.00026s] {'pk_1': 1064}
2025-11-05 01:08:18,509 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:08:18,509 INFO sqlalchemy.engine.Engine: [cached since 10.13s ago] {'pk_1': 102}
2025-11-05 01:08:18,511 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:18,512 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:18] "GET /api/recommendations/1064 HTTP/1.1" 200 -
2025-11-05 01:08:50,742 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:50,743 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-11-05 01:08:50,744 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'pk_1': 35}
2025-11-05 01:08:50,746 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.user_id = %(user_id_1)s AND cloud_providers.is_deleted = false
2025-11-05 01:08:50,746 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'user_id_1': '35'}
2025-11-05 01:08:50,747 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s ORDER BY complete_syncs.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:08:50,747 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'user_id_1': 35, 'param_1': 1}
2025-11-05 01:08:50,749 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.provider_id IN (%(provider_id_1_1)s, %(provider_id_1_2)s) AND optimization_recommendations.status = %(status_1)s
2025-11-05 01:08:50,749 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'status_1': 'pending', 'provider_id_1_1': 102, 'provider_id_1_2': 103}
2025-11-05 01:08:50,752 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.created_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:08:50,752 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'provider_id_1': 102, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:08:50,754 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.is_active = true
2025-11-05 01:08:50,754 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'provider_id_1': 102}
2025-11-05 01:08:50,760 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.created_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:08:50,760 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'provider_id_1': 103, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:08:50,762 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.provider_id = %(provider_id_1)s AND resources.is_active = true
2025-11-05 01:08:50,762 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'provider_id_1': 103}
2025-11-05 01:08:50,766 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:50,767 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "GET /settings HTTP/1.1" 200 -
2025-11-05 01:08:50,785 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "GET /static/css/main.css?v=4952 HTTP/1.1" 200 -
2025-11-05 01:08:50,787 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/pages/settings.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,787 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,789 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/js/settings.js HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,792 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/core/variables.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,793 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/core/reset.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,795 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/core/utilities.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,797 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/buttons.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,797 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/cards.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,797 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/forms.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,799 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/tables.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,800 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/modals.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,802 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/badges.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,803 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/layouts/admin.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,804 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/layouts/dashboard.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,805 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/layouts/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,806 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/pages/admin/users.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,806 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/pages/admin/unrecognized-resources.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,808 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/features/charts.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,809 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/features/drag-drop.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,809 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/components/navigation.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,810 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/css/legacy.css HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,819 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:50,819 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:08:50,820 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-11-05 01:08:50,820 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-11-05 01:08:50,820 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'pk_1': 35}
2025-11-05 01:08:50,820 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'pk_1': 35}
2025-11-05 01:08:50,821 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:50,822 INFO sqlalchemy.engine.Engine: SELECT provider_catalog.id AS provider_catalog_id, provider_catalog.provider_type AS provider_catalog_provider_type, provider_catalog.display_name AS provider_catalog_display_name, provider_catalog.description AS provider_catalog_description, provider_catalog.logo_url AS provider_catalog_logo_url, provider_catalog.is_enabled AS provider_catalog_is_enabled, provider_catalog.has_pricing_api AS provider_catalog_has_pricing_api, provider_catalog.pricing_method AS provider_catalog_pricing_method, provider_catalog.last_price_sync AS provider_catalog_last_price_sync, provider_catalog.sync_status AS provider_catalog_sync_status, provider_catalog.sync_error AS provider_catalog_sync_error, provider_catalog.website_url AS provider_catalog_website_url, provider_catalog.documentation_url AS provider_catalog_documentation_url, provider_catalog.supported_regions AS provider_catalog_supported_regions, provider_catalog.created_at AS provider_catalog_created_at, provider_catalog.updated_at AS provider_catalog_updated_at 
FROM provider_catalog 
WHERE provider_catalog.is_enabled = true
2025-11-05 01:08:50,822 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {}
2025-11-05 01:08:50,822 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "GET /api/auth/user-details HTTP/1.1" 200 -
2025-11-05 01:08:50,822 INFO sqlalchemy.engine.Engine: SELECT user_provider_preferences.user_id AS user_provider_preferences_user_id, user_provider_preferences.provider_type AS user_provider_preferences_provider_type, user_provider_preferences.is_enabled AS user_provider_preferences_is_enabled, user_provider_preferences.id AS user_provider_preferences_id, user_provider_preferences.created_at AS user_provider_preferences_created_at, user_provider_preferences.updated_at AS user_provider_preferences_updated_at 
FROM user_provider_preferences 
WHERE user_provider_preferences.user_id = %(user_id_1)s
2025-11-05 01:08:50,823 INFO sqlalchemy.engine.Engine: [cached since 140.7s ago] {'user_id_1': 35}
2025-11-05 01:08:50,823 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:08:50,824 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "GET /api/auth/provider-preferences HTTP/1.1" 200 -
2025-11-05 01:08:50,826 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/provider_logos/beget_logo.jpeg HTTP/1.1[0m" 304 -
2025-11-05 01:08:50,826 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:08:50] "[36mGET /static/provider_logos/selectel_logo.svg HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,543 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:51,545 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-11-05 01:09:51,546 INFO sqlalchemy.engine.Engine: [cached since 201.5s ago] {'pk_1': 35}
2025-11-05 01:09:51,548 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s ORDER BY complete_syncs.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:51,549 INFO sqlalchemy.engine.Engine: [cached since 201.5s ago] {'user_id_1': 35, 'param_1': 1}
2025-11-05 01:09:51,553 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.status = %(status_1)s
2025-11-05 01:09:51,553 INFO sqlalchemy.engine.Engine: [generated in 0.00042s] {'status_1': 'implemented'}
2025-11-05 01:09:51,556 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.user_id = %(user_id_1)s AND cloud_providers.is_active = true AND cloud_providers.is_deleted = false
2025-11-05 01:09:51,556 INFO sqlalchemy.engine.Engine: [generated in 0.00029s] {'user_id_1': 35}
2025-11-05 01:09:51,571 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:51,572 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "GET /analytics HTTP/1.1" 200 -
2025-11-05 01:09:51,591 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "GET /static/css/main.css?v=6880 HTTP/1.1" 200 -
2025-11-05 01:09:51,594 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "GET /static/css/features/analytics-charts.css HTTP/1.1" 200 -
2025-11-05 01:09:51,595 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "GET /static/css/pages/analytics.css HTTP/1.1" 200 -
2025-11-05 01:09:51,597 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "GET /static/css/components/analytics-cards.css HTTP/1.1" 200 -
2025-11-05 01:09:51,597 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "GET /static/js/analytics.js HTTP/1.1" 200 -
2025-11-05 01:09:51,599 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/core/variables.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,600 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/core/reset.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,602 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/core/utilities.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,603 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/forms.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,603 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/tables.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,604 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/buttons.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,605 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/cards.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,606 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/layouts/dashboard.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,607 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/pages/admin/users.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,608 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/navigation.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,609 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/modals.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,609 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/components/badges.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,610 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/layouts/admin.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,611 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/layouts/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,611 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/features/charts.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,612 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/features/drag-drop.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,613 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/pages/admin/unrecognized-resources.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:51,613 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:51] "[36mGET /static/css/legacy.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:52,213 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:52,215 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:52,219 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s AND complete_syncs.sync_completed_at >= %(sync_completed_at_1)s AND complete_syncs.sync_completed_at <= %(sync_completed_at_2)s AND complete_syncs.sync_status = %(sync_status_1)s ORDER BY complete_syncs.sync_completed_at
2025-11-05 01:09:52,220 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s AND complete_syncs.sync_status = %(sync_status_1)s ORDER BY complete_syncs.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:52,221 INFO sqlalchemy.engine.Engine: [generated in 0.00218s] {'user_id_1': 35, 'sync_completed_at_1': datetime.datetime(2025, 10, 6, 1, 9, 52, 211573), 'sync_completed_at_2': datetime.datetime(2025, 11, 5, 1, 9, 52, 211573), 'sync_status_1': 'success'}
2025-11-05 01:09:52,221 INFO sqlalchemy.engine.Engine: [generated in 0.00085s] {'user_id_1': 35, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:09:52,227 INFO sqlalchemy.engine.Engine: SELECT provider_sync_references.complete_sync_id AS provider_sync_references_complete_sync_id, provider_sync_references.provider_id AS provider_sync_references_provider_id, provider_sync_references.sync_snapshot_id AS provider_sync_references_sync_snapshot_id, provider_sync_references.sync_order AS provider_sync_references_sync_order, provider_sync_references.sync_status AS provider_sync_references_sync_status, provider_sync_references.sync_duration_seconds AS provider_sync_references_sync_duration_seconds, provider_sync_references.resources_synced AS provider_sync_references_resources_synced, provider_sync_references.provider_cost AS provider_sync_references_provider_cost, provider_sync_references.error_message AS provider_sync_references_error_message, provider_sync_references.error_details AS provider_sync_references_error_details, provider_sync_references.id AS provider_sync_references_id, provider_sync_references.created_at AS provider_sync_references_created_at, provider_sync_references.updated_at AS provider_sync_references_updated_at 
FROM provider_sync_references 
WHERE %(param_1)s = provider_sync_references.complete_sync_id
2025-11-05 01:09:52,229 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:52,229 INFO sqlalchemy.engine.Engine: [generated in 0.00238s] {'param_1': 1098}
2025-11-05 01:09:52,231 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:52,233 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s ORDER BY complete_syncs.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:52,233 INFO sqlalchemy.engine.Engine: [generated in 0.00071s] {'user_id_1': 35, 'param_1': 1}
2025-11-05 01:09:52,234 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:52] "GET /api/analytics/main-trends?days=30 HTTP/1.1" 200 -
2025-11-05 01:09:52,236 INFO sqlalchemy.engine.Engine: SELECT resource_states.sync_snapshot_id AS resource_states_sync_snapshot_id, resource_states.resource_id AS resource_states_resource_id, resource_states.provider_resource_id AS resource_states_provider_resource_id, resource_states.resource_type AS resource_states_resource_type, resource_states.resource_name AS resource_states_resource_name, resource_states.state_action AS resource_states_state_action, resource_states.previous_state AS resource_states_previous_state, resource_states.current_state AS resource_states_current_state, resource_states.changes_detected AS resource_states_changes_detected, resource_states.service_name AS resource_states_service_name, resource_states.region AS resource_states_region, resource_states.status AS resource_states_status, resource_states.effective_cost AS resource_states_effective_cost, resource_states.has_cost_change AS resource_states_has_cost_change, resource_states.has_status_change AS resource_states_has_status_change, resource_states.has_config_change AS resource_states_has_config_change, resource_states.id AS resource_states_id, resource_states.created_at AS resource_states_created_at, resource_states.updated_at AS resource_states_updated_at 
FROM resource_states 
WHERE resource_states.sync_snapshot_id IN (%(sync_snapshot_id_1_1)s, %(sync_snapshot_id_1_2)s)
2025-11-05 01:09:52,241 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.connection_name IN (%(connection_name_1_1)s, %(connection_name_1_2)s)
2025-11-05 01:09:52,241 INFO sqlalchemy.engine.Engine: [generated in 0.00505s] {'sync_snapshot_id_1_1': 4428, 'sync_snapshot_id_1_2': 4430}
2025-11-05 01:09:52,242 INFO sqlalchemy.engine.Engine: [generated in 0.00068s] {'connection_name_1_1': 'ITL.Team', 'connection_name_1_2': 'Punch'}
2025-11-05 01:09:52,243 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:52,244 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:52,244 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:52] "GET /api/analytics/service-breakdown HTTP/1.1" 200 -
2025-11-05 01:09:52,244 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:52] "GET /api/analytics/provider-breakdown HTTP/1.1" 200 -
2025-11-05 01:09:52,413 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:52,417 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots INNER JOIN cloud_providers ON cloud_providers.id = sync_snapshots.provider_id 
WHERE cloud_providers.user_id = %(user_id_1)s AND sync_snapshots.sync_completed_at >= %(sync_completed_at_1)s AND sync_snapshots.sync_completed_at <= %(sync_completed_at_2)s AND sync_snapshots.sync_status = %(sync_status_1)s AND sync_snapshots.provider_id = %(provider_id_1)s ORDER BY sync_snapshots.sync_completed_at
2025-11-05 01:09:52,417 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:52,417 INFO sqlalchemy.engine.Engine: [generated in 0.00047s] {'user_id_1': 35, 'sync_completed_at_1': datetime.datetime(2025, 10, 6, 1, 9, 52, 412123), 'sync_completed_at_2': datetime.datetime(2025, 11, 5, 1, 9, 52, 412123), 'sync_status_1': 'success', 'provider_id_1': 102}
2025-11-05 01:09:52,418 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots INNER JOIN cloud_providers ON cloud_providers.id = sync_snapshots.provider_id 
WHERE cloud_providers.user_id = %(user_id_1)s AND sync_snapshots.sync_completed_at >= %(sync_completed_at_1)s AND sync_snapshots.sync_completed_at <= %(sync_completed_at_2)s AND sync_snapshots.sync_status = %(sync_status_1)s AND sync_snapshots.provider_id = %(provider_id_1)s ORDER BY sync_snapshots.sync_completed_at
2025-11-05 01:09:52,418 INFO sqlalchemy.engine.Engine: [cached since 0.001052s ago] {'user_id_1': 35, 'sync_completed_at_1': datetime.datetime(2025, 10, 6, 1, 9, 52, 414749), 'sync_completed_at_2': datetime.datetime(2025, 11, 5, 1, 9, 52, 414749), 'sync_status_1': 'success', 'provider_id_1': 103}
2025-11-05 01:09:52,426 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:52,428 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:52,429 INFO sqlalchemy.engine.Engine: [cached since 104s ago] {'pk_1': 103}
2025-11-05 01:09:52,429 INFO sqlalchemy.engine.Engine: [cached since 104s ago] {'pk_1': 102}
2025-11-05 01:09:52,433 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:52,436 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:52,437 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:52] "GET /api/analytics/provider-trends/103?days=30 HTTP/1.1" 200 -
2025-11-05 01:09:52,437 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:52] "GET /api/analytics/provider-trends/102?days=30 HTTP/1.1" 200 -
2025-11-05 01:09:53,270 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:53,270 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.is_deleted = false
2025-11-05 01:09:53,270 INFO sqlalchemy.engine.Engine: [cached since 180.2s ago] {}
2025-11-05 01:09:53,272 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.created_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:53,272 INFO sqlalchemy.engine.Engine: [cached since 203.2s ago] {'provider_id_1': 102, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:09:53,278 INFO sqlalchemy.engine.Engine: SELECT resource_states.sync_snapshot_id AS resource_states_sync_snapshot_id, resource_states.resource_id AS resource_states_resource_id, resource_states.provider_resource_id AS resource_states_provider_resource_id, resource_states.resource_type AS resource_states_resource_type, resource_states.resource_name AS resource_states_resource_name, resource_states.state_action AS resource_states_state_action, resource_states.previous_state AS resource_states_previous_state, resource_states.current_state AS resource_states_current_state, resource_states.changes_detected AS resource_states_changes_detected, resource_states.service_name AS resource_states_service_name, resource_states.region AS resource_states_region, resource_states.status AS resource_states_status, resource_states.effective_cost AS resource_states_effective_cost, resource_states.has_cost_change AS resource_states_has_cost_change, resource_states.has_status_change AS resource_states_has_status_change, resource_states.has_config_change AS resource_states_has_config_change, resource_states.id AS resource_states_id, resource_states.created_at AS resource_states_created_at, resource_states.updated_at AS resource_states_updated_at 
FROM resource_states 
WHERE resource_states.sync_snapshot_id = %(sync_snapshot_id_1)s
2025-11-05 01:09:53,278 INFO sqlalchemy.engine.Engine: [generated in 0.00052s] {'sync_snapshot_id_1': 4429}
2025-11-05 01:09:53,283 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id IN (%(id_1_1)s, %(id_1_2)s, %(id_1_3)s, %(id_1_4)s, %(id_1_5)s, %(id_1_6)s, %(id_1_7)s, %(id_1_8)s, %(id_1_9)s, %(id_1_10)s, %(id_1_11)s, %(id_1_12)s, %(id_1_13)s, %(id_1_14)s, %(id_1_15)s, %(id_1_16)s, %(id_1_17)s, %(id_1_18)s, %(id_1_19)s, %(id_1_20)s, %(id_1_21)s, %(id_1_22)s, %(id_1_23)s, %(id_1_24)s, %(id_1_25)s, %(id_1_26)s, %(id_1_27)s, %(id_1_28)s, %(id_1_29)s, %(id_1_30)s, %(id_1_31)s, %(id_1_32)s, %(id_1_33)s, %(id_1_34)s, %(id_1_35)s, %(id_1_36)s)
2025-11-05 01:09:53,283 INFO sqlalchemy.engine.Engine: [generated in 0.00041s] {'id_1_1': 1018, 'id_1_2': 1019, 'id_1_3': 1020, 'id_1_4': 1021, 'id_1_5': 997, 'id_1_6': 998, 'id_1_7': 999, 'id_1_8': 1001, 'id_1_9': 1002, 'id_1_10': 1003, 'id_1_11': 1004, 'id_1_12': 1005, 'id_1_13': 1009, 'id_1_14': 1010, 'id_1_15': 1012, 'id_1_16': 1075, 'id_1_17': 1023, 'id_1_18': 1074, 'id_1_19': 1028, 'id_1_20': 1064, 'id_1_21': 1032, 'id_1_22': 1033, 'id_1_23': 1034, 'id_1_24': 1035, 'id_1_25': 1036, 'id_1_26': 1037, 'id_1_27': 1038, 'id_1_28': 1041, 'id_1_29': 1042, 'id_1_30': 1044, 'id_1_31': 1051, 'id_1_32': 1052, 'id_1_33': 1053, 'id_1_34': 1054, 'id_1_35': 1055, 'id_1_36': 1056}
2025-11-05 01:09:53,288 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,288 INFO sqlalchemy.engine.Engine: [generated in 0.00023s] {'resource_id_1': 997}
2025-11-05 01:09:53,289 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,289 INFO sqlalchemy.engine.Engine: [cached since 0.001778s ago] {'resource_id_1': 998}
2025-11-05 01:09:53,290 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,291 INFO sqlalchemy.engine.Engine: [cached since 0.002931s ago] {'resource_id_1': 999}
2025-11-05 01:09:53,292 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,292 INFO sqlalchemy.engine.Engine: [cached since 0.004179s ago] {'resource_id_1': 1001}
2025-11-05 01:09:53,293 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,293 INFO sqlalchemy.engine.Engine: [cached since 0.005755s ago] {'resource_id_1': 1002}
2025-11-05 01:09:53,295 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,295 INFO sqlalchemy.engine.Engine: [cached since 0.007478s ago] {'resource_id_1': 1003}
2025-11-05 01:09:53,297 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,297 INFO sqlalchemy.engine.Engine: [cached since 0.009536s ago] {'resource_id_1': 1004}
2025-11-05 01:09:53,300 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,300 INFO sqlalchemy.engine.Engine: [cached since 0.0124s ago] {'resource_id_1': 1005}
2025-11-05 01:09:53,302 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,302 INFO sqlalchemy.engine.Engine: [cached since 0.01419s ago] {'resource_id_1': 1009}
2025-11-05 01:09:53,303 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,303 INFO sqlalchemy.engine.Engine: [cached since 0.01531s ago] {'resource_id_1': 1010}
2025-11-05 01:09:53,304 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,304 INFO sqlalchemy.engine.Engine: [cached since 0.01678s ago] {'resource_id_1': 1012}
2025-11-05 01:09:53,306 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,306 INFO sqlalchemy.engine.Engine: [cached since 0.01835s ago] {'resource_id_1': 1018}
2025-11-05 01:09:53,307 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,307 INFO sqlalchemy.engine.Engine: [cached since 0.01973s ago] {'resource_id_1': 1019}
2025-11-05 01:09:53,309 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,309 INFO sqlalchemy.engine.Engine: [cached since 0.02117s ago] {'resource_id_1': 1020}
2025-11-05 01:09:53,310 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,310 INFO sqlalchemy.engine.Engine: [cached since 0.02269s ago] {'resource_id_1': 1021}
2025-11-05 01:09:53,312 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,312 INFO sqlalchemy.engine.Engine: [cached since 0.02422s ago] {'resource_id_1': 1023}
2025-11-05 01:09:53,314 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,314 INFO sqlalchemy.engine.Engine: [cached since 0.02636s ago] {'resource_id_1': 1028}
2025-11-05 01:09:53,315 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,316 INFO sqlalchemy.engine.Engine: [cached since 0.02798s ago] {'resource_id_1': 1032}
2025-11-05 01:09:53,317 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,317 INFO sqlalchemy.engine.Engine: [cached since 0.02933s ago] {'resource_id_1': 1033}
2025-11-05 01:09:53,318 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,318 INFO sqlalchemy.engine.Engine: [cached since 0.03072s ago] {'resource_id_1': 1034}
2025-11-05 01:09:53,320 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,321 INFO sqlalchemy.engine.Engine: [cached since 0.0331s ago] {'resource_id_1': 1035}
2025-11-05 01:09:53,322 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,323 INFO sqlalchemy.engine.Engine: [cached since 0.03505s ago] {'resource_id_1': 1036}
2025-11-05 01:09:53,324 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,324 INFO sqlalchemy.engine.Engine: [cached since 0.03609s ago] {'resource_id_1': 1037}
2025-11-05 01:09:53,325 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,325 INFO sqlalchemy.engine.Engine: [cached since 0.03739s ago] {'resource_id_1': 1038}
2025-11-05 01:09:53,326 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,326 INFO sqlalchemy.engine.Engine: [cached since 0.03871s ago] {'resource_id_1': 1041}
2025-11-05 01:09:53,327 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,328 INFO sqlalchemy.engine.Engine: [cached since 0.03995s ago] {'resource_id_1': 1042}
2025-11-05 01:09:53,329 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,330 INFO sqlalchemy.engine.Engine: [cached since 0.04218s ago] {'resource_id_1': 1044}
2025-11-05 01:09:53,332 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,332 INFO sqlalchemy.engine.Engine: [cached since 0.04442s ago] {'resource_id_1': 1051}
2025-11-05 01:09:53,334 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,334 INFO sqlalchemy.engine.Engine: [cached since 0.04618s ago] {'resource_id_1': 1052}
2025-11-05 01:09:53,336 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,336 INFO sqlalchemy.engine.Engine: [cached since 0.04824s ago] {'resource_id_1': 1053}
2025-11-05 01:09:53,338 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,339 INFO sqlalchemy.engine.Engine: [cached since 0.05097s ago] {'resource_id_1': 1054}
2025-11-05 01:09:53,340 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,340 INFO sqlalchemy.engine.Engine: [cached since 0.05213s ago] {'resource_id_1': 1055}
2025-11-05 01:09:53,341 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,341 INFO sqlalchemy.engine.Engine: [cached since 0.05334s ago] {'resource_id_1': 1056}
2025-11-05 01:09:53,342 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,342 INFO sqlalchemy.engine.Engine: [cached since 0.05468s ago] {'resource_id_1': 1064}
2025-11-05 01:09:53,343 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,344 INFO sqlalchemy.engine.Engine: [cached since 0.05592s ago] {'resource_id_1': 1074}
2025-11-05 01:09:53,344 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,345 INFO sqlalchemy.engine.Engine: [cached since 0.05708s ago] {'resource_id_1': 1075}
2025-11-05 01:09:53,347 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.created_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:53,347 INFO sqlalchemy.engine.Engine: [cached since 203.3s ago] {'provider_id_1': 103, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:09:53,350 INFO sqlalchemy.engine.Engine: SELECT resource_states.sync_snapshot_id AS resource_states_sync_snapshot_id, resource_states.resource_id AS resource_states_resource_id, resource_states.provider_resource_id AS resource_states_provider_resource_id, resource_states.resource_type AS resource_states_resource_type, resource_states.resource_name AS resource_states_resource_name, resource_states.state_action AS resource_states_state_action, resource_states.previous_state AS resource_states_previous_state, resource_states.current_state AS resource_states_current_state, resource_states.changes_detected AS resource_states_changes_detected, resource_states.service_name AS resource_states_service_name, resource_states.region AS resource_states_region, resource_states.status AS resource_states_status, resource_states.effective_cost AS resource_states_effective_cost, resource_states.has_cost_change AS resource_states_has_cost_change, resource_states.has_status_change AS resource_states_has_status_change, resource_states.has_config_change AS resource_states_has_config_change, resource_states.id AS resource_states_id, resource_states.created_at AS resource_states_created_at, resource_states.updated_at AS resource_states_updated_at 
FROM resource_states 
WHERE resource_states.sync_snapshot_id = %(sync_snapshot_id_1)s
2025-11-05 01:09:53,350 INFO sqlalchemy.engine.Engine: [cached since 0.07202s ago] {'sync_snapshot_id_1': 4431}
2025-11-05 01:09:53,352 INFO sqlalchemy.engine.Engine: SELECT resources.provider_id AS resources_provider_id, resources.resource_id AS resources_resource_id, resources.resource_name AS resources_resource_name, resources.region AS resources_region, resources.external_ip AS resources_external_ip, resources.service_name AS resources_service_name, resources.resource_type AS resources_resource_type, resources.status AS resources_status, resources.pricing_model AS resources_pricing_model, resources.list_price AS resources_list_price, resources.effective_cost AS resources_effective_cost, resources.currency AS resources_currency, resources.billing_period AS resources_billing_period, resources.daily_cost AS resources_daily_cost, resources.original_cost AS resources_original_cost, resources.cost_period AS resources_cost_period, resources.cost_frequency AS resources_cost_frequency, resources.business_unit AS resources_business_unit, resources.project_id AS resources_project_id, resources.feature_tag AS resources_feature_tag, resources.cost_center AS resources_cost_center, resources.environment AS resources_environment, resources.last_sync AS resources_last_sync, resources.is_active AS resources_is_active, resources.provider_config AS resources_provider_config, resources.notes AS resources_notes, resources.id AS resources_id, resources.created_at AS resources_created_at, resources.updated_at AS resources_updated_at 
FROM resources 
WHERE resources.id IN (%(id_1_1)s, %(id_1_2)s, %(id_1_3)s, %(id_1_4)s, %(id_1_5)s, %(id_1_6)s, %(id_1_7)s, %(id_1_8)s)
2025-11-05 01:09:53,352 INFO sqlalchemy.engine.Engine: [cached since 0.06955s ago] {'id_1_1': 1065, 'id_1_2': 1066, 'id_1_3': 1067, 'id_1_4': 1068, 'id_1_5': 1069, 'id_1_6': 1070, 'id_1_7': 1071, 'id_1_8': 1072}
2025-11-05 01:09:53,354 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,354 INFO sqlalchemy.engine.Engine: [cached since 0.06648s ago] {'resource_id_1': 1065}
2025-11-05 01:09:53,355 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,355 INFO sqlalchemy.engine.Engine: [cached since 0.06755s ago] {'resource_id_1': 1066}
2025-11-05 01:09:53,356 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,357 INFO sqlalchemy.engine.Engine: [cached since 0.06892s ago] {'resource_id_1': 1067}
2025-11-05 01:09:53,357 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,358 INFO sqlalchemy.engine.Engine: [cached since 0.07004s ago] {'resource_id_1': 1068}
2025-11-05 01:09:53,359 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,359 INFO sqlalchemy.engine.Engine: [cached since 0.07122s ago] {'resource_id_1': 1069}
2025-11-05 01:09:53,360 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,360 INFO sqlalchemy.engine.Engine: [cached since 0.0724s ago] {'resource_id_1': 1070}
2025-11-05 01:09:53,361 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,362 INFO sqlalchemy.engine.Engine: [cached since 0.07416s ago] {'resource_id_1': 1071}
2025-11-05 01:09:53,363 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE resource_tags.resource_id = %(resource_id_1)s
2025-11-05 01:09:53,363 INFO sqlalchemy.engine.Engine: [cached since 0.07582s ago] {'resource_id_1': 1072}
2025-11-05 01:09:53,365 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.is_deleted = false
2025-11-05 01:09:53,365 INFO sqlalchemy.engine.Engine: [cached since 180.3s ago] {}
2025-11-05 01:09:53,366 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.is_deleted = false
2025-11-05 01:09:53,366 INFO sqlalchemy.engine.Engine: [cached since 180.3s ago] {}
2025-11-05 01:09:53,368 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:53,368 INFO sqlalchemy.engine.Engine: [cached since 180.3s ago] {'provider_id_1': 102, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:09:53,371 INFO sqlalchemy.engine.Engine: SELECT sync_snapshots.provider_id AS sync_snapshots_provider_id, sync_snapshots.sync_type AS sync_snapshots_sync_type, sync_snapshots.sync_status AS sync_snapshots_sync_status, sync_snapshots.sync_started_at AS sync_snapshots_sync_started_at, sync_snapshots.sync_completed_at AS sync_snapshots_sync_completed_at, sync_snapshots.sync_duration_seconds AS sync_snapshots_sync_duration_seconds, sync_snapshots.total_resources_found AS sync_snapshots_total_resources_found, sync_snapshots.resources_created AS sync_snapshots_resources_created, sync_snapshots.resources_updated AS sync_snapshots_resources_updated, sync_snapshots.resources_deleted AS sync_snapshots_resources_deleted, sync_snapshots.resources_unchanged AS sync_snapshots_resources_unchanged, sync_snapshots.total_monthly_cost AS sync_snapshots_total_monthly_cost, sync_snapshots.total_resources_by_type AS sync_snapshots_total_resources_by_type, sync_snapshots.total_resources_by_status AS sync_snapshots_total_resources_by_status, sync_snapshots.error_message AS sync_snapshots_error_message, sync_snapshots.error_details AS sync_snapshots_error_details, sync_snapshots.sync_config AS sync_snapshots_sync_config, sync_snapshots.id AS sync_snapshots_id, sync_snapshots.created_at AS sync_snapshots_created_at, sync_snapshots.updated_at AS sync_snapshots_updated_at 
FROM sync_snapshots 
WHERE sync_snapshots.provider_id = %(provider_id_1)s AND sync_snapshots.sync_status = %(sync_status_1)s ORDER BY sync_snapshots.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:53,371 INFO sqlalchemy.engine.Engine: [cached since 180.3s ago] {'provider_id_1': 103, 'sync_status_1': 'success', 'param_1': 1}
2025-11-05 01:09:53,374 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:53,374 INFO sqlalchemy.engine.Engine: [generated in 0.00040s] {'pk_1': 102}
2025-11-05 01:09:53,376 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:53,377 INFO sqlalchemy.engine.Engine: [cached since 0.002749s ago] {'pk_1': 103}
2025-11-05 01:09:53,378 INFO sqlalchemy.engine.Engine: SELECT complete_syncs.user_id AS complete_syncs_user_id, complete_syncs.sync_type AS complete_syncs_sync_type, complete_syncs.sync_status AS complete_syncs_sync_status, complete_syncs.sync_started_at AS complete_syncs_sync_started_at, complete_syncs.sync_completed_at AS complete_syncs_sync_completed_at, complete_syncs.sync_duration_seconds AS complete_syncs_sync_duration_seconds, complete_syncs.total_providers_synced AS complete_syncs_total_providers_synced, complete_syncs.successful_providers AS complete_syncs_successful_providers, complete_syncs.failed_providers AS complete_syncs_failed_providers, complete_syncs.total_resources_found AS complete_syncs_total_resources_found, complete_syncs.total_monthly_cost AS complete_syncs_total_monthly_cost, complete_syncs.total_daily_cost AS complete_syncs_total_daily_cost, complete_syncs.cost_by_provider AS complete_syncs_cost_by_provider, complete_syncs.resources_by_provider AS complete_syncs_resources_by_provider, complete_syncs.error_message AS complete_syncs_error_message, complete_syncs.error_details AS complete_syncs_error_details, complete_syncs.sync_config AS complete_syncs_sync_config, complete_syncs.id AS complete_syncs_id, complete_syncs.created_at AS complete_syncs_created_at, complete_syncs.updated_at AS complete_syncs_updated_at 
FROM complete_syncs 
WHERE complete_syncs.user_id = %(user_id_1)s ORDER BY complete_syncs.sync_completed_at DESC 
 LIMIT %(param_1)s
2025-11-05 01:09:53,378 INFO sqlalchemy.engine.Engine: [cached since 203.3s ago] {'user_id_1': 35, 'param_1': 1}
2025-11-05 01:09:53,447 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,447 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 997}
2025-11-05 01:09:53,448 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,448 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 999}
2025-11-05 01:09:53,449 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,449 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1001}
2025-11-05 01:09:53,450 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,450 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1002}
2025-11-05 01:09:53,451 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,451 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1004}
2025-11-05 01:09:53,451 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,452 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1005}
2025-11-05 01:09:53,452 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,452 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1009}
2025-11-05 01:09:53,453 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,453 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1010}
2025-11-05 01:09:53,457 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,457 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 998}
2025-11-05 01:09:53,458 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,458 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1003}
2025-11-05 01:09:53,458 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,463 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1012}
2025-11-05 01:09:53,464 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,464 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1018}
2025-11-05 01:09:53,464 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,464 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1019}
2025-11-05 01:09:53,465 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,465 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1020}
2025-11-05 01:09:53,465 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,465 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1021}
2025-11-05 01:09:53,466 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,466 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1023}
2025-11-05 01:09:53,466 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,466 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1028}
2025-11-05 01:09:53,467 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,467 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1032}
2025-11-05 01:09:53,467 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,467 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1033}
2025-11-05 01:09:53,468 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,468 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1034}
2025-11-05 01:09:53,468 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,468 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1035}
2025-11-05 01:09:53,469 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,469 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1036}
2025-11-05 01:09:53,469 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,470 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1037}
2025-11-05 01:09:53,470 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,470 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1038}
2025-11-05 01:09:53,470 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,470 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1041}
2025-11-05 01:09:53,471 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,471 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1042}
2025-11-05 01:09:53,471 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,471 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1044}
2025-11-05 01:09:53,472 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,472 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1051}
2025-11-05 01:09:53,472 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,472 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1052}
2025-11-05 01:09:53,473 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,473 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1053}
2025-11-05 01:09:53,473 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,473 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1054}
2025-11-05 01:09:53,474 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,474 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1055}
2025-11-05 01:09:53,475 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,475 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1056}
2025-11-05 01:09:53,475 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,475 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1064}
2025-11-05 01:09:53,476 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,476 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1074}
2025-11-05 01:09:53,476 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,476 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1075}
2025-11-05 01:09:53,477 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,477 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1066}
2025-11-05 01:09:53,477 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,477 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1067}
2025-11-05 01:09:53,478 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,478 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1068}
2025-11-05 01:09:53,478 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,478 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1069}
2025-11-05 01:09:53,479 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,479 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1070}
2025-11-05 01:09:53,480 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,480 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1065}
2025-11-05 01:09:53,480 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,480 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1071}
2025-11-05 01:09:53,481 INFO sqlalchemy.engine.Engine: SELECT resource_tags.resource_id AS resource_tags_resource_id, resource_tags.tag_key AS resource_tags_tag_key, resource_tags.tag_value AS resource_tags_tag_value, resource_tags.id AS resource_tags_id, resource_tags.created_at AS resource_tags_created_at, resource_tags.updated_at AS resource_tags_updated_at 
FROM resource_tags 
WHERE %(param_1)s = resource_tags.resource_id
2025-11-05 01:09:53,481 INFO sqlalchemy.engine.Engine: [cached since 164.7s ago] {'param_1': 1072}
2025-11-05 01:09:53,482 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:53,482 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "GET /resources HTTP/1.1" 200 -
2025-11-05 01:09:53,494 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "GET /static/css/main.css?v=7835 HTTP/1.1" 200 -
2025-11-05 01:09:53,495 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/provider_logos/yc_logo.png HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,495 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "GET /static/css/pages/resources.css HTTP/1.1" 200 -
2025-11-05 01:09:53,496 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,496 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "GET /static/js/resources.js HTTP/1.1" 200 -
2025-11-05 01:09:53,500 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/core/variables.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,501 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/core/reset.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,502 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/buttons.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,503 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/core/utilities.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,503 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/cards.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,503 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/forms.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,504 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/modals.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,505 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/tables.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,505 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/navigation.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,506 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/components/badges.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,507 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/layouts/admin.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,508 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/layouts/dashboard.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,509 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/pages/admin/users.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,509 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/pages/admin/unrecognized-resources.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,510 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/features/charts.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,511 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/features/drag-drop.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,511 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/layouts/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:53,512 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:53] "[36mGET /static/css/legacy.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,660 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:54,661 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s
2025-11-05 01:09:54,661 INFO sqlalchemy.engine.Engine: [cached since 204.6s ago] {'pk_1': 35}
2025-11-05 01:09:54,665 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:54,666 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "GET /recommendations HTTP/1.1" 200 -
2025-11-05 01:09:54,688 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/pages/recommendations.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,688 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "GET /static/css/main.css?v=2295 HTTP/1.1" 200 -
2025-11-05 01:09:54,689 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/js/main.js HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,690 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/js/recommendations.js HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,694 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/core/variables.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,694 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/core/reset.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,696 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/core/utilities.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,697 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/buttons.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,699 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/forms.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,700 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/cards.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,701 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/tables.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,702 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/modals.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,703 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/navigation.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,704 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/layouts/admin.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,704 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/components/badges.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,705 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/layouts/dashboard.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,706 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/layouts/connections.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,707 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/pages/admin/users.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,709 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/pages/admin/unrecognized-resources.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,709 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/features/charts.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,710 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/features/drag-drop.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,710 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "[36mGET /static/css/legacy.css HTTP/1.1[0m" 304 -
2025-11-05 01:09:54,718 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:54,718 INFO sqlalchemy.engine.Engine: SELECT users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.google_id AS users_google_id, users.google_picture AS users_google_picture, users.google_verified_email AS users_google_verified_email, users.google_locale AS users_google_locale, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.`role` AS users_role, users.permissions AS users_permissions, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.email_confirmed AS users_email_confirmed, users.email_confirmation_token AS users_email_confirmation_token, users.email_confirmation_sent_at AS users_email_confirmation_sent_at, users.last_login AS users_last_login, users.login_count AS users_login_count, users.created_by_admin AS users_created_by_admin, users.admin_notes AS users_admin_notes, users.timezone AS users_timezone, users.currency AS users_currency, users.language AS users_language, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.`role` = %(role_1)s
2025-11-05 01:09:54,718 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'role_1': 'demouser'}
2025-11-05 01:09:54,719 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.is_deleted = false AND (cloud_providers.user_id NOT IN (%(user_id_1_1)s))
2025-11-05 01:09:54,719 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'user_id_1_1': 32}
2025-11-05 01:09:54,720 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:54,721 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "GET /api/providers/ HTTP/1.1" 200 -
2025-11-05 01:09:54,724 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:09:54,725 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations INNER JOIN cloud_providers ON optimization_recommendations.provider_id = cloud_providers.id 
WHERE cloud_providers.user_id = %(user_id_1)s AND optimization_recommendations.status = %(status_1)s ORDER BY optimization_recommendations.estimated_monthly_savings DESC 
 LIMIT %(param_1)s, %(param_2)s
2025-11-05 01:09:54,725 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'user_id_1': 35, 'status_1': 'pending', 'param_1': 0, 'param_2': 25}
2025-11-05 01:09:54,728 INFO sqlalchemy.engine.Engine: SELECT count(*) AS count_1 
FROM (SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations INNER JOIN cloud_providers ON optimization_recommendations.provider_id = cloud_providers.id 
WHERE cloud_providers.user_id = %(user_id_1)s AND optimization_recommendations.status = %(status_1)s) AS anon_1
2025-11-05 01:09:54,728 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'user_id_1': 35, 'status_1': 'pending'}
2025-11-05 01:09:54,729 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,729 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'pk_1': 103}
2025-11-05 01:09:54,730 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,730 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'pk_1': 103}
2025-11-05 01:09:54,730 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,730 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'pk_1': 102}
2025-11-05 01:09:54,731 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,731 INFO sqlalchemy.engine.Engine: [cached since 106.3s ago] {'pk_1': 103}
2025-11-05 01:09:54,732 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,733 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,733 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,734 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,734 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,735 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 103}
2025-11-05 01:09:54,735 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,735 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,736 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,736 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,736 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,737 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,737 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,737 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 103}
2025-11-05 01:09:54,738 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,738 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,739 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,739 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,739 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,739 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,740 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,740 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,741 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,741 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,741 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:09:54,741 INFO sqlalchemy.engine.Engine: [cached since 106.4s ago] {'pk_1': 102}
2025-11-05 01:09:54,743 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:09:54,743 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:09:54] "GET /api/recommendations?status=pending&page=1&page_size=25&order_by=-estimated_monthly_savings HTTP/1.1" 200 -
2025-11-05 01:10:33,370 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:10:33,372 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:10:33,372 INFO sqlalchemy.engine.Engine: [cached since 134.9s ago] {'pk_1': 1075}
2025-11-05 01:10:33,374 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:10:33,375 INFO sqlalchemy.engine.Engine: [cached since 145s ago] {'pk_1': 103}
2025-11-05 01:10:33,376 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:10:33,377 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:10:33] "GET /api/recommendations/1075 HTTP/1.1" 200 -
2025-11-05 01:10:37,786 INFO sqlalchemy.engine.Engine: BEGIN (implicit)
2025-11-05 01:10:37,787 INFO sqlalchemy.engine.Engine: SELECT optimization_recommendations.resource_id AS optimization_recommendations_resource_id, optimization_recommendations.provider_id AS optimization_recommendations_provider_id, optimization_recommendations.recommendation_type AS optimization_recommendations_recommendation_type, optimization_recommendations.category AS optimization_recommendations_category, optimization_recommendations.severity AS optimization_recommendations_severity, optimization_recommendations.title AS optimization_recommendations_title, optimization_recommendations.description AS optimization_recommendations_description, optimization_recommendations.source AS optimization_recommendations_source, optimization_recommendations.resource_type AS optimization_recommendations_resource_type, optimization_recommendations.resource_name AS optimization_recommendations_resource_name, optimization_recommendations.target_provider AS optimization_recommendations_target_provider, optimization_recommendations.target_sku AS optimization_recommendations_target_sku, optimization_recommendations.target_region AS optimization_recommendations_target_region, optimization_recommendations.potential_savings AS optimization_recommendations_potential_savings, optimization_recommendations.estimated_monthly_savings AS optimization_recommendations_estimated_monthly_savings, optimization_recommendations.estimated_one_time_savings AS optimization_recommendations_estimated_one_time_savings, optimization_recommendations.currency AS optimization_recommendations_currency, optimization_recommendations.confidence_score AS optimization_recommendations_confidence_score, optimization_recommendations.metrics_snapshot AS optimization_recommendations_metrics_snapshot, optimization_recommendations.insights AS optimization_recommendations_insights, optimization_recommendations.ai_short_description AS optimization_recommendations_ai_short_description, optimization_recommendations.ai_detailed_description AS optimization_recommendations_ai_detailed_description, optimization_recommendations.ai_generated_at AS optimization_recommendations_ai_generated_at, optimization_recommendations.status AS optimization_recommendations_status, optimization_recommendations.first_seen_at AS optimization_recommendations_first_seen_at, optimization_recommendations.seen_at AS optimization_recommendations_seen_at, optimization_recommendations.snoozed_until AS optimization_recommendations_snoozed_until, optimization_recommendations.applied_at AS optimization_recommendations_applied_at, optimization_recommendations.dismissed_at AS optimization_recommendations_dismissed_at, optimization_recommendations.dismissed_reason AS optimization_recommendations_dismissed_reason, optimization_recommendations.last_verified_at AS optimization_recommendations_last_verified_at, optimization_recommendations.verification_fail_count AS optimization_recommendations_verification_fail_count, optimization_recommendations.id AS optimization_recommendations_id, optimization_recommendations.created_at AS optimization_recommendations_created_at, optimization_recommendations.updated_at AS optimization_recommendations_updated_at 
FROM optimization_recommendations 
WHERE optimization_recommendations.id = %(pk_1)s
2025-11-05 01:10:37,787 INFO sqlalchemy.engine.Engine: [cached since 139.3s ago] {'pk_1': 1060}
2025-11-05 01:10:37,790 INFO sqlalchemy.engine.Engine: SELECT cloud_providers.user_id AS cloud_providers_user_id, cloud_providers.provider_type AS cloud_providers_provider_type, cloud_providers.connection_name AS cloud_providers_connection_name, cloud_providers.account_id AS cloud_providers_account_id, cloud_providers.api_endpoint AS cloud_providers_api_endpoint, cloud_providers.credentials AS cloud_providers_credentials, cloud_providers.is_active AS cloud_providers_is_active, cloud_providers.is_deleted AS cloud_providers_is_deleted, cloud_providers.deleted_at AS cloud_providers_deleted_at, cloud_providers.last_sync AS cloud_providers_last_sync, cloud_providers.sync_status AS cloud_providers_sync_status, cloud_providers.sync_error AS cloud_providers_sync_error, cloud_providers.auto_sync AS cloud_providers_auto_sync, cloud_providers.sync_interval AS cloud_providers_sync_interval, cloud_providers.provider_metadata AS cloud_providers_provider_metadata, cloud_providers.id AS cloud_providers_id, cloud_providers.created_at AS cloud_providers_created_at, cloud_providers.updated_at AS cloud_providers_updated_at 
FROM cloud_providers 
WHERE cloud_providers.id = %(pk_1)s
2025-11-05 01:10:37,790 INFO sqlalchemy.engine.Engine: [cached since 149.4s ago] {'pk_1': 102}
2025-11-05 01:10:37,792 INFO sqlalchemy.engine.Engine: ROLLBACK
2025-11-05 01:10:37,793 INFO werkzeug: 127.0.0.1 - - [05/Nov/2025 01:10:37] "GET /api/recommendations/1060 HTTP/1.1" 200 -
2025-11-05 01:12:21,387 INFO werkzeug:  * Detected change in '/Users/colakamornik/Desktop/InfraZen/agent_service/llm/prompts.py', reloading
